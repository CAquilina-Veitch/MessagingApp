(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var rg={exports:{}},xu={};var XE;function yI(){if(XE)return xu;XE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return xu.Fragment=t,xu.jsx=n,xu.jsxs=n,xu}var WE;function vI(){return WE||(WE=1,rg.exports=yI()),rg.exports}var O=vI(),sg={exports:{}},At={};var ZE;function _I(){if(ZE)return At;ZE=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),E=Symbol.iterator;function S(F){return F===null||typeof F!="object"?null:(F=E&&F[E]||F["@@iterator"],typeof F=="function"?F:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function V(F,it,lt){this.props=F,this.context=it,this.refs=x,this.updater=lt||D}V.prototype.isReactComponent={},V.prototype.setState=function(F,it){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,it,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function L(){}L.prototype=V.prototype;function P(F,it,lt){this.props=F,this.context=it,this.refs=x,this.updater=lt||D}var K=P.prototype=new L;K.constructor=P,A(K,V.prototype),K.isPureReactComponent=!0;var q=Array.isArray;function Y(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function N(F,it,lt){var ut=lt.ref;return{$$typeof:e,type:F,key:it,ref:ut!==void 0?ut:null,props:lt}}function U(F,it){return N(F.type,it,F.props)}function z(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function H(F){var it={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(lt){return it[lt]})}var k=/\/+/g;function Xt(F,it){return typeof F=="object"&&F!==null&&F.key!=null?H(""+F.key):it.toString(36)}function ue(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(Y,Y):(F.status="pending",F.then(function(it){F.status==="pending"&&(F.status="fulfilled",F.value=it)},function(it){F.status==="pending"&&(F.status="rejected",F.reason=it)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function tt(F,it,lt,ut,gt){var Et=typeof F;(Et==="undefined"||Et==="boolean")&&(F=null);var Ot=!1;if(F===null)Ot=!0;else switch(Et){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(F.$$typeof){case e:case t:Ot=!0;break;case y:return Ot=F._init,tt(Ot(F._payload),it,lt,ut,gt)}}if(Ot)return gt=gt(F),Ot=ut===""?"."+Xt(F,0):ut,q(gt)?(lt="",Ot!=null&&(lt=Ot.replace(k,"$&/")+"/"),tt(gt,it,lt,"",function(bi){return bi})):gt!=null&&(z(gt)&&(gt=U(gt,lt+(gt.key==null||F&&F.key===gt.key?"":(""+gt.key).replace(k,"$&/")+"/")+Ot)),it.push(gt)),1;Ot=0;var Ge=ut===""?".":ut+":";if(q(F))for(var ce=0;ce<F.length;ce++)ut=F[ce],Et=Ge+Xt(ut,ce),Ot+=tt(ut,it,lt,Et,gt);else if(ce=S(F),typeof ce=="function")for(F=ce.call(F),ce=0;!(ut=F.next()).done;)ut=ut.value,Et=Ge+Xt(ut,ce++),Ot+=tt(ut,it,lt,Et,gt);else if(Et==="object"){if(typeof F.then=="function")return tt(ue(F),it,lt,ut,gt);throw it=String(F),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function ot(F,it,lt){if(F==null)return F;var ut=[],gt=0;return tt(F,ut,"","",function(Et){return it.call(lt,Et,gt++)}),ut}function ft(F){if(F._status===-1){var it=F._result;it=it(),it.then(function(lt){(F._status===0||F._status===-1)&&(F._status=1,F._result=lt)},function(lt){(F._status===0||F._status===-1)&&(F._status=2,F._result=lt)}),F._status===-1&&(F._status=0,F._result=it)}if(F._status===1)return F._result.default;throw F._result}var It=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)},Dt={map:ot,forEach:function(F,it,lt){ot(F,function(){it.apply(this,arguments)},lt)},count:function(F){var it=0;return ot(F,function(){it++}),it},toArray:function(F){return ot(F,function(it){return it})||[]},only:function(F){if(!z(F))throw Error("React.Children.only expected to receive a single React element child.");return F}};return At.Activity=_,At.Children=Dt,At.Component=V,At.Fragment=n,At.Profiler=a,At.PureComponent=P,At.StrictMode=r,At.Suspense=m,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,At.__COMPILER_RUNTIME={__proto__:null,c:function(F){return R.H.useMemoCache(F)}},At.cache=function(F){return function(){return F.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(F,it,lt){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ut=A({},F.props),gt=F.key;if(it!=null)for(Et in it.key!==void 0&&(gt=""+it.key),it)!w.call(it,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&it.ref===void 0||(ut[Et]=it[Et]);var Et=arguments.length-2;if(Et===1)ut.children=lt;else if(1<Et){for(var Ot=Array(Et),Ge=0;Ge<Et;Ge++)Ot[Ge]=arguments[Ge+2];ut.children=Ot}return N(F.type,gt,ut)},At.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},At.createElement=function(F,it,lt){var ut,gt={},Et=null;if(it!=null)for(ut in it.key!==void 0&&(Et=""+it.key),it)w.call(it,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(gt[ut]=it[ut]);var Ot=arguments.length-2;if(Ot===1)gt.children=lt;else if(1<Ot){for(var Ge=Array(Ot),ce=0;ce<Ot;ce++)Ge[ce]=arguments[ce+2];gt.children=Ge}if(F&&F.defaultProps)for(ut in Ot=F.defaultProps,Ot)gt[ut]===void 0&&(gt[ut]=Ot[ut]);return N(F,Et,gt)},At.createRef=function(){return{current:null}},At.forwardRef=function(F){return{$$typeof:f,render:F}},At.isValidElement=z,At.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:ft}},At.memo=function(F,it){return{$$typeof:p,type:F,compare:it===void 0?null:it}},At.startTransition=function(F){var it=R.T,lt={};R.T=lt;try{var ut=F(),gt=R.S;gt!==null&&gt(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Y,It)}catch(Et){It(Et)}finally{it!==null&&lt.types!==null&&(it.types=lt.types),R.T=it}},At.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},At.use=function(F){return R.H.use(F)},At.useActionState=function(F,it,lt){return R.H.useActionState(F,it,lt)},At.useCallback=function(F,it){return R.H.useCallback(F,it)},At.useContext=function(F){return R.H.useContext(F)},At.useDebugValue=function(){},At.useDeferredValue=function(F,it){return R.H.useDeferredValue(F,it)},At.useEffect=function(F,it){return R.H.useEffect(F,it)},At.useEffectEvent=function(F){return R.H.useEffectEvent(F)},At.useId=function(){return R.H.useId()},At.useImperativeHandle=function(F,it,lt){return R.H.useImperativeHandle(F,it,lt)},At.useInsertionEffect=function(F,it){return R.H.useInsertionEffect(F,it)},At.useLayoutEffect=function(F,it){return R.H.useLayoutEffect(F,it)},At.useMemo=function(F,it){return R.H.useMemo(F,it)},At.useOptimistic=function(F,it){return R.H.useOptimistic(F,it)},At.useReducer=function(F,it,lt){return R.H.useReducer(F,it,lt)},At.useRef=function(F){return R.H.useRef(F)},At.useState=function(F){return R.H.useState(F)},At.useSyncExternalStore=function(F,it,lt){return R.H.useSyncExternalStore(F,it,lt)},At.useTransition=function(){return R.H.useTransition()},At.version="19.2.0",At}var JE;function Py(){return JE||(JE=1,sg.exports=_I()),sg.exports}var M=Py(),ag={exports:{}},Iu={},og={exports:{}},lg={};var tb;function TI(){return tb||(tb=1,(function(e){function t(tt,ot){var ft=tt.length;tt.push(ot);t:for(;0<ft;){var It=ft-1>>>1,Dt=tt[It];if(0<a(Dt,ot))tt[It]=ot,tt[ft]=Dt,ft=It;else break t}}function n(tt){return tt.length===0?null:tt[0]}function r(tt){if(tt.length===0)return null;var ot=tt[0],ft=tt.pop();if(ft!==ot){tt[0]=ft;t:for(var It=0,Dt=tt.length,F=Dt>>>1;It<F;){var it=2*(It+1)-1,lt=tt[it],ut=it+1,gt=tt[ut];if(0>a(lt,ft))ut<Dt&&0>a(gt,lt)?(tt[It]=gt,tt[ut]=ft,It=ut):(tt[It]=lt,tt[it]=ft,It=it);else if(ut<Dt&&0>a(gt,ft))tt[It]=gt,tt[ut]=ft,It=ut;else break t}}return ot}function a(tt,ot){var ft=tt.sortIndex-ot.sortIndex;return ft!==0?ft:tt.id-ot.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var m=[],p=[],y=1,_=null,E=3,S=!1,D=!1,A=!1,x=!1,V=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function K(tt){for(var ot=n(p);ot!==null;){if(ot.callback===null)r(p);else if(ot.startTime<=tt)r(p),ot.sortIndex=ot.expirationTime,t(m,ot);else break;ot=n(p)}}function q(tt){if(A=!1,K(tt),!D)if(n(m)!==null)D=!0,Y||(Y=!0,H());else{var ot=n(p);ot!==null&&ue(q,ot.startTime-tt)}}var Y=!1,R=-1,w=5,N=-1;function U(){return x?!0:!(e.unstable_now()-N<w)}function z(){if(x=!1,Y){var tt=e.unstable_now();N=tt;var ot=!0;try{t:{D=!1,A&&(A=!1,L(R),R=-1),S=!0;var ft=E;try{e:{for(K(tt),_=n(m);_!==null&&!(_.expirationTime>tt&&U());){var It=_.callback;if(typeof It=="function"){_.callback=null,E=_.priorityLevel;var Dt=It(_.expirationTime<=tt);if(tt=e.unstable_now(),typeof Dt=="function"){_.callback=Dt,K(tt),ot=!0;break e}_===n(m)&&r(m),K(tt)}else r(m);_=n(m)}if(_!==null)ot=!0;else{var F=n(p);F!==null&&ue(q,F.startTime-tt),ot=!1}}break t}finally{_=null,E=ft,S=!1}ot=void 0}}finally{ot?H():Y=!1}}}var H;if(typeof P=="function")H=function(){P(z)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,Xt=k.port2;k.port1.onmessage=z,H=function(){Xt.postMessage(null)}}else H=function(){V(z,0)};function ue(tt,ot){R=V(function(){tt(e.unstable_now())},ot)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(tt){tt.callback=null},e.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<tt?Math.floor(1e3/tt):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_next=function(tt){switch(E){case 1:case 2:case 3:var ot=3;break;default:ot=E}var ft=E;E=ot;try{return tt()}finally{E=ft}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(tt,ot){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var ft=E;E=tt;try{return ot()}finally{E=ft}},e.unstable_scheduleCallback=function(tt,ot,ft){var It=e.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?It+ft:It):ft=It,tt){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=ft+Dt,tt={id:y++,callback:ot,priorityLevel:tt,startTime:ft,expirationTime:Dt,sortIndex:-1},ft>It?(tt.sortIndex=ft,t(p,tt),n(m)===null&&tt===n(p)&&(A?(L(R),R=-1):A=!0,ue(q,ft-It))):(tt.sortIndex=Dt,t(m,tt),D||S||(D=!0,Y||(Y=!0,H()))),tt},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(tt){var ot=E;return function(){var ft=E;E=ot;try{return tt.apply(this,arguments)}finally{E=ft}}}})(lg)),lg}var eb;function EI(){return eb||(eb=1,og.exports=TI()),og.exports}var ug={exports:{}},an={};var nb;function bI(){if(nb)return an;nb=1;var e=Py();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,an.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},an.flushSync=function(m){var p=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=p,r.p=y,r.d.f()}},an.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},an.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},an.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:E,fetchPriority:S}):y==="script"&&r.d.X(m,{crossOrigin:_,integrity:E,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},an.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},an.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=f(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},an.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},an.requestFormReset=function(m){r.d.r(m)},an.unstable_batchedUpdates=function(m,p){return m(p)},an.useFormState=function(m,p,y){return c.H.useFormState(m,p,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var ib;function wI(){if(ib)return ug.exports;ib=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ug.exports=bI(),ug.exports}var rb;function SI(){if(rb)return Iu;rb=1;var e=EI(),t=Py(),n=wI();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function m(i){if(l(i)!==i)throw Error(r(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),i;if(g===u)return m(d),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=g;else{for(var T=!1,C=d.child;C;){if(C===o){T=!0,o=d,u=g;break}if(C===u){T=!0,u=d,o=g;break}C=C.sibling}if(!T){for(C=g.child;C;){if(C===o){T=!0,o=g,u=d;break}if(C===u){T=!0,u=g,o=d;break}C=C.sibling}if(!T)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function y(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=y(i),s!==null)return s;i=i.sibling}return null}var _=Object.assign,E=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function Xt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case V:return"Profiler";case x:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case D:return"Portal";case P:return i.displayName||"Context";case L:return(i._context.displayName||"Context")+".Consumer";case K:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:Xt(i.type)||"Memo";case w:s=i._payload,i=i._init;try{return Xt(i(s))}catch{}}return null}var ue=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},It=[],Dt=-1;function F(i){return{current:i}}function it(i){0>Dt||(i.current=It[Dt],It[Dt]=null,Dt--)}function lt(i,s){Dt++,It[Dt]=i.current,i.current=s}var ut=F(null),gt=F(null),Et=F(null),Ot=F(null);function Ge(i,s){switch(lt(Et,s),lt(gt,i),lt(ut,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?_E(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=_E(s),i=TE(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}it(ut),lt(ut,i)}function ce(){it(ut),it(gt),it(Et)}function bi(i){i.memoizedState!==null&&lt(Ot,i);var s=ut.current,o=TE(s,i.type);s!==o&&(lt(gt,i),lt(ut,o))}function Xi(i){gt.current===i&&(it(ut),it(gt)),Ot.current===i&&(it(Ot),Su._currentValue=ft)}var Js,to;function li(i){if(Js===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Js=s&&s[1]||"",to=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Js+i+to}var ta=!1;function eo(i,s){if(!i||ta)return"";ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(Z){var W=Z}Reflect.construct(i,[],st)}else{try{st.call()}catch(Z){W=Z}i.call(st.prototype)}}else{try{throw Error()}catch(Z){W=Z}(st=i())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(Z){if(Z&&W&&typeof Z.stack=="string")return[Z.stack,W.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),T=g[0],C=g[1];if(T&&C){var j=T.split(`
`),X=C.split(`
`);for(d=u=0;u<j.length&&!j[u].includes("DetermineComponentFrameRoot");)u++;for(;d<X.length&&!X[d].includes("DetermineComponentFrameRoot");)d++;if(u===j.length||d===X.length)for(u=j.length-1,d=X.length-1;1<=u&&0<=d&&j[u]!==X[d];)d--;for(;1<=u&&0<=d;u--,d--)if(j[u]!==X[d]){if(u!==1||d!==1)do if(u--,d--,0>d||j[u]!==X[d]){var et=`
`+j[u].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=u&&0<=d);break}}}finally{ta=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?li(o):""}function em(i,s){switch(i.tag){case 26:case 27:case 5:return li(i.type);case 16:return li("Lazy");case 13:return i.child!==s&&s!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return eo(i.type,!1);case 11:return eo(i.type.render,!1);case 1:return eo(i.type,!0);case 31:return li("Activity");default:return""}}function kc(i){try{var s="",o=null;do s+=em(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var no=Object.prototype.hasOwnProperty,ea=e.unstable_scheduleCallback,io=e.unstable_cancelCallback,nm=e.unstable_shouldYield,Cl=e.unstable_requestPaint,Ke=e.unstable_now,Lc=e.unstable_getCurrentPriorityLevel,ke=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,Wi=e.unstable_NormalPriority,Uc=e.unstable_LowPriority,xl=e.unstable_IdlePriority,im=e.log,na=e.unstable_setDisableYieldValue,Lr=null,rn=null;function Gn(i){if(typeof im=="function"&&na(i),rn&&typeof rn.setStrictMode=="function")try{rn.setStrictMode(Lr,i)}catch{}}var dn=Math.clz32?Math.clz32:jc,rm=Math.log,Il=Math.LN2;function jc(i){return i>>>=0,i===0?32:31-(rm(i)/Il|0)|0}var ia=256,wi=262144,Ur=4194304;function ui(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Kn(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var d=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?d=ui(u):(T&=C,T!==0?d=ui(T):o||(o=C&~i,o!==0&&(d=ui(o))))):(C=u&~g,C!==0?d=ui(C):T!==0?d=ui(T):o||(o=u&~i,o!==0&&(d=ui(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function jr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ro(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dl(){var i=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),i}function Zi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function zr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $e(i,s,o,u,d,g){var T=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,j=i.expirationTimes,X=i.hiddenUpdates;for(o=T&~o;0<o;){var et=31-dn(o),st=1<<et;C[et]=0,j[et]=-1;var W=X[et];if(W!==null)for(X[et]=null,et=0;et<W.length;et++){var Z=W[et];Z!==null&&(Z.lane&=-536870913)}o&=~st}u!==0&&Nl(i,u,0),g!==0&&d===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~s))}function Nl(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-dn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Br(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-dn(o),d=1<<u;d&s|i[u]&s&&(i[u]|=s),o&=~d}}function Fr(i,s){var o=s&-s;return o=(o&42)!==0?1:Ml(o),(o&(i.suspendedLanes|s))!==0?0:o}function Ml(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ol(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ji(){var i=ot.p;return i!==0?i:(i=window.event,i===void 0?32:HE(i.type))}function zc(i,s){var o=ot.p;try{return ot.p=i,s()}finally{ot.p=o}}var Si=Math.random().toString(36).slice(2),me="__reactFiber$"+Si,Ye="__reactProps$"+Si,Ai="__reactContainer$"+Si,Hr="__reactEvents$"+Si,Ri="__reactListeners$"+Si,Bc="__reactHandles$"+Si,Vl="__reactResources$"+Si,tr="__reactMarker$"+Si;function ra(i){delete i[me],delete i[Ye],delete i[Hr],delete i[Ri],delete i[Bc]}function er(i){var s=i[me];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Ai]||o[me]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=CE(i);i!==null;){if(o=i[me])return o;i=CE(i)}return s}i=o,o=i.parentNode}return null}function nr(i){if(i=i[me]||i[Ai]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function sa(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function ci(i){var s=i[Vl];return s||(s=i[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function be(i){i[tr]=!0}var so=new Set,qr={};function mn(i,s){Ci(i,s),Ci(i+"Capture",s)}function Ci(i,s){for(qr[i]=s,i=0;i<s.length;i++)so.add(s[i])}var sm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pl={},kl={};function Fc(i){return no.call(kl,i)?!0:no.call(Pl,i)?!1:sm.test(i)?kl[i]=!0:(Pl[i]=!0,!1)}function Gr(i,s,o){if(Fc(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Kr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function $n(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Hc(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function am(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,g=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ao(i){if(!i._valueTracker){var s=Hc(i)?"checked":"value";i._valueTracker=am(i,s,""+i[s])}}function Ll(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=Hc(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function oo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ir=/[\n"\\]/g;function pe(i){return i.replace(ir,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function $r(i,s,o,u,d,g,T,C){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pn(s)):i.value!==""+pn(s)&&(i.value=""+pn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?lo(i,T,pn(s)):o!=null?lo(i,T,pn(o)):u!=null&&i.removeAttribute("value"),d==null&&g!=null&&(i.defaultChecked=!!g),d!=null&&(i.checked=d&&typeof d!="function"&&typeof d!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+pn(C):i.removeAttribute("name")}function aa(i,s,o,u,d,g,T,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){ao(i);return}o=o!=null?""+pn(o):"",s=s!=null?""+pn(s):o,C||s===i.value||(i.value=s),i.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),ao(i)}function lo(i,s,o){s==="number"&&oo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Ft(i,s,o,u){if(i=i.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<i.length;o++)d=s.hasOwnProperty("$"+i[o].value),i[o].selected!==d&&(i[o].selected=d),d&&u&&(i[o].defaultSelected=!0)}else{for(o=""+pn(o),s=null,d=0;d<i.length;d++){if(i[d].value===o){i[d].selected=!0,u&&(i[d].defaultSelected=!0);return}s!==null||i[d].disabled||(s=i[d])}s!==null&&(s.selected=!0)}}function oa(i,s,o){if(s!=null&&(s=""+pn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+pn(o):""}function Yr(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=pn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),ao(i)}function Yn(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var om=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ul(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||om.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function qc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&Ul(i,d,u)}else for(var g in s)s.hasOwnProperty(g)&&Ul(i,g,s[g])}function jl(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xi(i){return um.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ze(){}var uo=null;function co(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var rr=null,Nn=null;function Gc(i){var s=nr(i);if(s&&(i=s.stateNode)){var o=i[Ye]||null;t:switch(i=s.stateNode,s.type){case"input":if($r(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+pe(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var d=u[Ye]||null;if(!d)throw Error(r(90));$r(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Ll(u)}break t;case"textarea":oa(i,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Ft(i,!!o.multiple,s,!1)}}}var zl=!1;function Kc(i,s,o){if(zl)return i(s,o);zl=!0;try{var u=i(s);return u}finally{if(zl=!1,(rr!==null||Nn!==null)&&(Fh(),rr&&(s=rr,i=Nn,Nn=rr=null,Gc(s),i)))for(s=0;s<i.length;s++)Gc(i[s])}}function Tn(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Ye]||null;if(u===null)return null;o=u[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bl=!1;if(hi)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Bl=!1}var Mn=null,ho=null,Di=null;function Qr(){if(Di)return Di;var i,s=ho,o=s.length,u,d="value"in Mn?Mn.value:Mn.textContent,g=d.length;for(i=0;i<o&&s[i]===d[i];i++);var T=o-i;for(u=1;u<=T&&s[o-u]===d[g-u];u++);return Di=d.slice(i,1<u?1-u:void 0)}function la(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Xr(){return!0}function ne(){return!1}function sn(i){function s(o,u,d,g,T){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xr:ne,this.isPropagationStopped=ne,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xr)},persist:function(){},isPersistent:Xr}),s}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=sn(sr),Wr=_({},sr,{view:0,detail:0}),$c=sn(Wr),Zr,fo,gn,ca=_({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==gn&&(gn&&i.type==="mousemove"?(Zr=i.screenX-gn.screenX,fo=i.screenY-gn.screenY):fo=Zr=0,gn=i),Zr)},movementY:function(i){return"movementY"in i?i.movementY:fo}}),Yc=sn(ca),ha=_({},ca,{dataTransfer:0}),Qc=sn(ha),Fl=_({},Wr,{relatedTarget:0}),Jr=sn(Fl),Xc=_({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),mo=sn(Xc),cm=_({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Wc=sn(cm),fa=_({},sr,{data:0}),Hl=sn(fa),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ql={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Gl[i])?!!s[i]:!1}function ts(){return Jc}var th=_({},Wr,{key:function(i){if(i.key){var s=Zc[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=la(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ql[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(i){return i.type==="keypress"?la(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?la(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),eh=sn(th),ar=_({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kl=sn(ar),nh=_({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),ih=sn(nh),rh=_({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),po=sn(rh),yn=_({},ca,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),sh=sn(yn),ah=_({},sr,{newState:0,oldState:0}),es=sn(ah),h=[9,13,27,32],v=hi&&"CompositionEvent"in window,b=null;hi&&"documentMode"in document&&(b=document.documentMode);var I=hi&&"TextEvent"in window&&!b,$=hi&&(!v||b&&8<b&&11>=b),J=" ",ct=!1;function Kt(i,s){switch(i){case"keyup":return h.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xe(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Nt=!1;function Be(i,s){switch(i){case"compositionend":return xe(s);case"keypress":return s.which!==32?null:(ct=!0,J);case"textInput":return i=s.data,i===J&&ct?null:i;default:return null}}function Fe(i,s){if(Nt)return i==="compositionend"||!v&&Kt(i,s)?(i=Qr(),Di=ho=Mn=null,Nt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $&&s.locale!=="ko"?null:s.data;default:return null}}var ns={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ns[i.type]:s==="textarea"}function da(i,s,o,u){rr?Nn?Nn.push(u):Nn=[u]:rr=u,s=Qh(s,"onChange"),0<s.length&&(o=new ua("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var or=null,$l=null;function qx(i){dE(i,0)}function oh(i){var s=sa(i);if(Ll(s))return i}function M0(i,s){if(i==="change")return s}var O0=!1;if(hi){var hm;if(hi){var fm="oninput"in document;if(!fm){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),fm=typeof V0.oninput=="function"}hm=fm}else hm=!1;O0=hm&&(!document.documentMode||9<document.documentMode)}function P0(){or&&(or.detachEvent("onpropertychange",k0),$l=or=null)}function k0(i){if(i.propertyName==="value"&&oh($l)){var s=[];da(s,$l,i,co(i)),Kc(qx,s)}}function Gx(i,s,o){i==="focusin"?(P0(),or=s,$l=o,or.attachEvent("onpropertychange",k0)):i==="focusout"&&P0()}function Kx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oh($l)}function $x(i,s){if(i==="click")return oh(s)}function Yx(i,s){if(i==="input"||i==="change")return oh(s)}function Qx(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var On=typeof Object.is=="function"?Object.is:Qx;function Yl(i,s){if(On(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!no.call(s,d)||!On(i[d],s[d]))return!1}return!0}function L0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function U0(i,s){var o=L0(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=L0(o)}}function j0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?j0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function z0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=oo(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=oo(i.document)}return s}function dm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var Xx=hi&&"documentMode"in document&&11>=document.documentMode,go=null,mm=null,Ql=null,pm=!1;function B0(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pm||go==null||go!==oo(u)||(u=go,"selectionStart"in u&&dm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ql&&Yl(Ql,u)||(Ql=u,u=Qh(mm,"onSelect"),0<u.length&&(s=new ua("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=go)))}function ma(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var yo={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},gm={},F0={};hi&&(F0=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function pa(i){if(gm[i])return gm[i];if(!yo[i])return i;var s=yo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in F0)return gm[i]=s[o];return i}var H0=pa("animationend"),q0=pa("animationiteration"),G0=pa("animationstart"),Wx=pa("transitionrun"),Zx=pa("transitionstart"),Jx=pa("transitioncancel"),K0=pa("transitionend"),$0=new Map,ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ym.push("scrollEnd");function fi(i,s){$0.set(i,s),mn(s,[i])}var lh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Qn=[],vo=0,vm=0;function uh(){for(var i=vo,s=vm=vo=0;s<i;){var o=Qn[s];Qn[s++]=null;var u=Qn[s];Qn[s++]=null;var d=Qn[s];Qn[s++]=null;var g=Qn[s];if(Qn[s++]=null,u!==null&&d!==null){var T=u.pending;T===null?d.next=d:(d.next=T.next,T.next=d),u.pending=d}g!==0&&Y0(o,d,g)}}function ch(i,s,o,u){Qn[vo++]=i,Qn[vo++]=s,Qn[vo++]=o,Qn[vo++]=u,vm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function _m(i,s,o,u){return ch(i,s,o,u),hh(i)}function ga(i,s){return ch(i,null,null,s),hh(i)}function Y0(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var d=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(d=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,d&&s!==null&&(d=31-dn(o),i=g.hiddenUpdates,u=i[d],u===null?i[d]=[s]:u.push(s),s.lane=o|536870912),g):null}function hh(i){if(50<yu)throw yu=0,xp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var _o={};function t2(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,s,o,u){return new t2(i,s,o,u)}function Tm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function lr(i,s){var o=i.alternate;return o===null?(o=Vn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Q0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function fh(i,s,o,u,d,g){var T=0;if(u=i,typeof i=="function")Tm(i)&&(T=1);else if(typeof i=="string")T=sI(i,o,ut.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case N:return i=Vn(31,o,s,d),i.elementType=N,i.lanes=g,i;case A:return ya(o.children,d,g,s);case x:T=8,d|=24;break;case V:return i=Vn(12,o,s,d|2),i.elementType=V,i.lanes=g,i;case q:return i=Vn(13,o,s,d),i.elementType=q,i.lanes=g,i;case Y:return i=Vn(19,o,s,d),i.elementType=Y,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case P:T=10;break t;case L:T=9;break t;case K:T=11;break t;case R:T=14;break t;case w:T=16,u=null;break t}T=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Vn(T,o,s,d),s.elementType=i,s.type=u,s.lanes=g,s}function ya(i,s,o,u){return i=Vn(7,i,u,s),i.lanes=o,i}function Em(i,s,o){return i=Vn(6,i,null,s),i.lanes=o,i}function X0(i){var s=Vn(18,null,null,0);return s.stateNode=i,s}function bm(i,s,o){return s=Vn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var W0=new WeakMap;function Xn(i,s){if(typeof i=="object"&&i!==null){var o=W0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:kc(s)},W0.set(i,s),s)}return{value:i,source:s,stack:kc(s)}}var To=[],Eo=0,dh=null,Xl=0,Wn=[],Zn=0,is=null,Ni=1,Mi="";function ur(i,s){To[Eo++]=Xl,To[Eo++]=dh,dh=i,Xl=s}function Z0(i,s,o){Wn[Zn++]=Ni,Wn[Zn++]=Mi,Wn[Zn++]=is,is=i;var u=Ni;i=Mi;var d=32-dn(u)-1;u&=~(1<<d),o+=1;var g=32-dn(s)+d;if(30<g){var T=d-d%5;g=(u&(1<<T)-1).toString(32),u>>=T,d-=T,Ni=1<<32-dn(s)+d|o<<d|u,Mi=g+i}else Ni=1<<g|o<<d|u,Mi=i}function wm(i){i.return!==null&&(ur(i,1),Z0(i,1,0))}function Sm(i){for(;i===dh;)dh=To[--Eo],To[Eo]=null,Xl=To[--Eo],To[Eo]=null;for(;i===is;)is=Wn[--Zn],Wn[Zn]=null,Mi=Wn[--Zn],Wn[Zn]=null,Ni=Wn[--Zn],Wn[Zn]=null}function J0(i,s){Wn[Zn++]=Ni,Wn[Zn++]=Mi,Wn[Zn++]=is,Ni=s.id,Mi=s.overflow,is=i}var Qe=null,ie=null,zt=!1,rs=null,Jn=!1,Am=Error(r(519));function ss(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(Xn(s,i)),Am}function t_(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[me]=i,s[Ye]=u,o){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(o=0;o<_u.length;o++)Pt(_u[o],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":Pt("invalid",s),aa(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",s);break;case"textarea":Pt("invalid",s),Yr(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||yE(s.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",s),Pt("toggle",s)),u.onScroll!=null&&Pt("scroll",s),u.onScrollEnd!=null&&Pt("scrollend",s),u.onClick!=null&&(s.onclick=ze),s=!0):s=!1,s||ss(i,!0)}function e_(i){for(Qe=i.return;Qe;)switch(Qe.tag){case 5:case 31:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Qe=Qe.return}}function bo(i){if(i!==Qe)return!1;if(!zt)return e_(i),zt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Hp(i.type,i.memoizedProps)),o=!o),o&&ie&&ss(i),e_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=RE(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));ie=RE(i)}else s===27?(s=ie,_s(i.type)?(i=Yp,Yp=null,ie=i):ie=s):ie=Qe?ei(i.stateNode.nextSibling):null;return!0}function va(){ie=Qe=null,zt=!1}function Rm(){var i=rs;return i!==null&&(An===null?An=i:An.push.apply(An,i),rs=null),i}function Wl(i){rs===null?rs=[i]:rs.push(i)}var Cm=F(null),_a=null,cr=null;function as(i,s,o){lt(Cm,s._currentValue),s._currentValue=o}function hr(i){i._currentValue=Cm.current,it(Cm)}function xm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Im(i,s,o,u){var d=i.child;for(d!==null&&(d.return=i);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var C=g;g=d;for(var j=0;j<s.length;j++)if(C.context===s[j]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),xm(g.return,o,i),u||(T=null);break t}g=C.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(r(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),xm(T,o,i),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===i){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function wo(i,s,o,u){i=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var C=d.type;On(d.pendingProps.value,T.value)||(i!==null?i.push(C):i=[C])}}else if(d===Ot.current){if(T=d.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(i!==null?i.push(Su):i=[Su])}d=d.return}i!==null&&Im(s,i,o,u),s.flags|=262144}function mh(i){for(i=i.firstContext;i!==null;){if(!On(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ta(i){_a=i,cr=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Xe(i){return n_(_a,i)}function ph(i,s){return _a===null&&Ta(i),n_(i,s)}function n_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},cr===null){if(i===null)throw Error(r(308));cr=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else cr=cr.next=s;return o}var e2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},n2=e.unstable_scheduleCallback,i2=e.unstable_NormalPriority,Ie={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dm(){return{controller:new e2,data:new Map,refCount:0}}function Zl(i){i.refCount--,i.refCount===0&&n2(i2,function(){i.controller.abort()})}var Jl=null,Nm=0,So=0,Ao=null;function r2(i,s){if(Jl===null){var o=Jl=[];Nm=0,So=Vp(),Ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Nm++,s.then(i_,i_),s}function i_(){if(--Nm===0&&Jl!==null){Ao!==null&&(Ao.status="fulfilled");var i=Jl;Jl=null,So=0,Ao=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function s2(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var r_=tt.S;tt.S=function(i,s){BT=Ke(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&r2(i,s),r_!==null&&r_(i,s)};var Ea=F(null);function Mm(){var i=Ea.current;return i!==null?i:te.pooledCache}function gh(i,s){s===null?lt(Ea,Ea.current):lt(Ea,s.pool)}function s_(){var i=Mm();return i===null?null:{parent:Ie._currentValue,pool:i}}var Ro=Error(r(460)),Om=Error(r(474)),yh=Error(r(542)),vh={then:function(){}};function a_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function o_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(ze,ze),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,u_(i),i;default:if(typeof s.status=="string")s.then(ze,ze);else{if(i=te,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,u_(i),i}throw wa=s,Ro}}function ba(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(wa=o,Ro):o}}var wa=null;function l_(){if(wa===null)throw Error(r(459));var i=wa;return wa=null,i}function u_(i){if(i===Ro||i===yh)throw Error(r(483))}var Co=null,tu=0;function _h(i){var s=tu;return tu+=1,Co===null&&(Co=[]),o_(Co,i,s)}function eu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Th(i,s){throw s.$$typeof===E?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function c_(i){function s(G,B){if(i){var Q=G.deletions;Q===null?(G.deletions=[B],G.flags|=16):Q.push(B)}}function o(G,B){if(!i)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function u(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function d(G,B){return G=lr(G,B),G.index=0,G.sibling=null,G}function g(G,B,Q){return G.index=Q,i?(Q=G.alternate,Q!==null?(Q=Q.index,Q<B?(G.flags|=67108866,B):Q):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function T(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function C(G,B,Q,rt){return B===null||B.tag!==6?(B=Em(Q,G.mode,rt),B.return=G,B):(B=d(B,Q),B.return=G,B)}function j(G,B,Q,rt){var vt=Q.type;return vt===A?et(G,B,Q.props.children,rt,Q.key):B!==null&&(B.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ba(vt)===B.type)?(B=d(B,Q.props),eu(B,Q),B.return=G,B):(B=fh(Q.type,Q.key,Q.props,null,G.mode,rt),eu(B,Q),B.return=G,B)}function X(G,B,Q,rt){return B===null||B.tag!==4||B.stateNode.containerInfo!==Q.containerInfo||B.stateNode.implementation!==Q.implementation?(B=bm(Q,G.mode,rt),B.return=G,B):(B=d(B,Q.children||[]),B.return=G,B)}function et(G,B,Q,rt,vt){return B===null||B.tag!==7?(B=ya(Q,G.mode,rt,vt),B.return=G,B):(B=d(B,Q),B.return=G,B)}function st(G,B,Q){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Em(""+B,G.mode,Q),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return Q=fh(B.type,B.key,B.props,null,G.mode,Q),eu(Q,B),Q.return=G,Q;case D:return B=bm(B,G.mode,Q),B.return=G,B;case w:return B=ba(B),st(G,B,Q)}if(ue(B)||H(B))return B=ya(B,G.mode,Q,null),B.return=G,B;if(typeof B.then=="function")return st(G,_h(B),Q);if(B.$$typeof===P)return st(G,ph(G,B),Q);Th(G,B)}return null}function W(G,B,Q,rt){var vt=B!==null?B.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return vt!==null?null:C(G,B,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:return Q.key===vt?j(G,B,Q,rt):null;case D:return Q.key===vt?X(G,B,Q,rt):null;case w:return Q=ba(Q),W(G,B,Q,rt)}if(ue(Q)||H(Q))return vt!==null?null:et(G,B,Q,rt,null);if(typeof Q.then=="function")return W(G,B,_h(Q),rt);if(Q.$$typeof===P)return W(G,B,ph(G,Q),rt);Th(G,Q)}return null}function Z(G,B,Q,rt,vt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return G=G.get(Q)||null,C(B,G,""+rt,vt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case S:return G=G.get(rt.key===null?Q:rt.key)||null,j(B,G,rt,vt);case D:return G=G.get(rt.key===null?Q:rt.key)||null,X(B,G,rt,vt);case w:return rt=ba(rt),Z(G,B,Q,rt,vt)}if(ue(rt)||H(rt))return G=G.get(Q)||null,et(B,G,rt,vt,null);if(typeof rt.then=="function")return Z(G,B,Q,_h(rt),vt);if(rt.$$typeof===P)return Z(G,B,Q,ph(B,rt),vt);Th(B,rt)}return null}function mt(G,B,Q,rt){for(var vt=null,Ht=null,pt=B,xt=B=0,Lt=null;pt!==null&&xt<Q.length;xt++){pt.index>xt?(Lt=pt,pt=null):Lt=pt.sibling;var qt=W(G,pt,Q[xt],rt);if(qt===null){pt===null&&(pt=Lt);break}i&&pt&&qt.alternate===null&&s(G,pt),B=g(qt,B,xt),Ht===null?vt=qt:Ht.sibling=qt,Ht=qt,pt=Lt}if(xt===Q.length)return o(G,pt),zt&&ur(G,xt),vt;if(pt===null){for(;xt<Q.length;xt++)pt=st(G,Q[xt],rt),pt!==null&&(B=g(pt,B,xt),Ht===null?vt=pt:Ht.sibling=pt,Ht=pt);return zt&&ur(G,xt),vt}for(pt=u(pt);xt<Q.length;xt++)Lt=Z(pt,G,xt,Q[xt],rt),Lt!==null&&(i&&Lt.alternate!==null&&pt.delete(Lt.key===null?xt:Lt.key),B=g(Lt,B,xt),Ht===null?vt=Lt:Ht.sibling=Lt,Ht=Lt);return i&&pt.forEach(function(Ss){return s(G,Ss)}),zt&&ur(G,xt),vt}function _t(G,B,Q,rt){if(Q==null)throw Error(r(151));for(var vt=null,Ht=null,pt=B,xt=B=0,Lt=null,qt=Q.next();pt!==null&&!qt.done;xt++,qt=Q.next()){pt.index>xt?(Lt=pt,pt=null):Lt=pt.sibling;var Ss=W(G,pt,qt.value,rt);if(Ss===null){pt===null&&(pt=Lt);break}i&&pt&&Ss.alternate===null&&s(G,pt),B=g(Ss,B,xt),Ht===null?vt=Ss:Ht.sibling=Ss,Ht=Ss,pt=Lt}if(qt.done)return o(G,pt),zt&&ur(G,xt),vt;if(pt===null){for(;!qt.done;xt++,qt=Q.next())qt=st(G,qt.value,rt),qt!==null&&(B=g(qt,B,xt),Ht===null?vt=qt:Ht.sibling=qt,Ht=qt);return zt&&ur(G,xt),vt}for(pt=u(pt);!qt.done;xt++,qt=Q.next())qt=Z(pt,G,xt,qt.value,rt),qt!==null&&(i&&qt.alternate!==null&&pt.delete(qt.key===null?xt:qt.key),B=g(qt,B,xt),Ht===null?vt=qt:Ht.sibling=qt,Ht=qt);return i&&pt.forEach(function(gI){return s(G,gI)}),zt&&ur(G,xt),vt}function Jt(G,B,Q,rt){if(typeof Q=="object"&&Q!==null&&Q.type===A&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case S:t:{for(var vt=Q.key;B!==null;){if(B.key===vt){if(vt=Q.type,vt===A){if(B.tag===7){o(G,B.sibling),rt=d(B,Q.props.children),rt.return=G,G=rt;break t}}else if(B.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===w&&ba(vt)===B.type){o(G,B.sibling),rt=d(B,Q.props),eu(rt,Q),rt.return=G,G=rt;break t}o(G,B);break}else s(G,B);B=B.sibling}Q.type===A?(rt=ya(Q.props.children,G.mode,rt,Q.key),rt.return=G,G=rt):(rt=fh(Q.type,Q.key,Q.props,null,G.mode,rt),eu(rt,Q),rt.return=G,G=rt)}return T(G);case D:t:{for(vt=Q.key;B!==null;){if(B.key===vt)if(B.tag===4&&B.stateNode.containerInfo===Q.containerInfo&&B.stateNode.implementation===Q.implementation){o(G,B.sibling),rt=d(B,Q.children||[]),rt.return=G,G=rt;break t}else{o(G,B);break}else s(G,B);B=B.sibling}rt=bm(Q,G.mode,rt),rt.return=G,G=rt}return T(G);case w:return Q=ba(Q),Jt(G,B,Q,rt)}if(ue(Q))return mt(G,B,Q,rt);if(H(Q)){if(vt=H(Q),typeof vt!="function")throw Error(r(150));return Q=vt.call(Q),_t(G,B,Q,rt)}if(typeof Q.then=="function")return Jt(G,B,_h(Q),rt);if(Q.$$typeof===P)return Jt(G,B,ph(G,Q),rt);Th(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,B!==null&&B.tag===6?(o(G,B.sibling),rt=d(B,Q),rt.return=G,G=rt):(o(G,B),rt=Em(Q,G.mode,rt),rt.return=G,G=rt),T(G)):o(G,B)}return function(G,B,Q,rt){try{tu=0;var vt=Jt(G,B,Q,rt);return Co=null,vt}catch(pt){if(pt===Ro||pt===yh)throw pt;var Ht=Vn(29,pt,null,G.mode);return Ht.lanes=rt,Ht.return=G,Ht}finally{}}}var Sa=c_(!0),h_=c_(!1),os=!1;function Vm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ls(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function us(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=hh(i),Y0(i,null,o),s}return ch(i,u,s,o),hh(i)}function nu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Br(i,o)}}function km(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Lm=!1;function iu(){if(Lm){var i=Ao;if(i!==null)throw i}}function ru(i,s,o,u){Lm=!1;var d=i.updateQueue;os=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,C=d.shared.pending;if(C!==null){d.shared.pending=null;var j=C,X=j.next;j.next=null,T===null?g=X:T.next=X,T=j;var et=i.alternate;et!==null&&(et=et.updateQueue,C=et.lastBaseUpdate,C!==T&&(C===null?et.firstBaseUpdate=X:C.next=X,et.lastBaseUpdate=j))}if(g!==null){var st=d.baseState;T=0,et=X=j=null,C=g;do{var W=C.lane&-536870913,Z=W!==C.lane;if(Z?(kt&W)===W:(u&W)===W){W!==0&&W===So&&(Lm=!0),et!==null&&(et=et.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});t:{var mt=i,_t=C;W=s;var Jt=o;switch(_t.tag){case 1:if(mt=_t.payload,typeof mt=="function"){st=mt.call(Jt,st,W);break t}st=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=_t.payload,W=typeof mt=="function"?mt.call(Jt,st,W):mt,W==null)break t;st=_({},st,W);break t;case 2:os=!0}}W=C.callback,W!==null&&(i.flags|=64,Z&&(i.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[W]:Z.push(W))}else Z={lane:W,tag:C.tag,payload:C.payload,callback:C.callback,next:null},et===null?(X=et=Z,j=st):et=et.next=Z,T|=W;if(C=C.next,C===null){if(C=d.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);et===null&&(j=st),d.baseState=j,d.firstBaseUpdate=X,d.lastBaseUpdate=et,g===null&&(d.shared.lanes=0),ms|=T,i.lanes=T,i.memoizedState=st}}function f_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function d_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)f_(o[i],s)}var xo=F(null),Eh=F(0);function m_(i,s){i=Tr,lt(Eh,i),lt(xo,s),Tr=i|s.baseLanes}function Um(){lt(Eh,Tr),lt(xo,xo.current)}function jm(){Tr=Eh.current,it(xo),it(Eh)}var Pn=F(null),ti=null;function cs(i){var s=i.alternate;lt(we,we.current&1),lt(Pn,i),ti===null&&(s===null||xo.current!==null||s.memoizedState!==null)&&(ti=i)}function zm(i){lt(we,we.current),lt(Pn,i),ti===null&&(ti=i)}function p_(i){i.tag===22?(lt(we,we.current),lt(Pn,i),ti===null&&(ti=i)):hs()}function hs(){lt(we,we.current),lt(Pn,Pn.current)}function kn(i){it(Pn),ti===i&&(ti=null),it(we)}var we=F(0);function bh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Kp(o)||$p(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var fr=0,Ct=null,Wt=null,De=null,wh=!1,Io=!1,Aa=!1,Sh=0,su=0,Do=null,a2=0;function ge(){throw Error(r(321))}function Bm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!On(i[o],s[o]))return!1;return!0}function Fm(i,s,o,u,d,g){return fr=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,tt.H=i===null||i.memoizedState===null?Z_:ip,Aa=!1,g=o(u,d),Aa=!1,Io&&(g=y_(s,o,u,d)),g_(i),g}function g_(i){tt.H=lu;var s=Wt!==null&&Wt.next!==null;if(fr=0,De=Wt=Ct=null,wh=!1,su=0,Do=null,s)throw Error(r(300));i===null||Ne||(i=i.dependencies,i!==null&&mh(i)&&(Ne=!0))}function y_(i,s,o,u){Ct=i;var d=0;do{if(Io&&(Do=null),su=0,Io=!1,25<=d)throw Error(r(301));if(d+=1,De=Wt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}tt.H=J_,g=s(o,u)}while(Io);return g}function o2(){var i=tt.H,s=i.useState()[0];return s=typeof s.then=="function"?au(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Ct.flags|=1024),s}function Hm(){var i=Sh!==0;return Sh=0,i}function qm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Gm(i){if(wh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}wh=!1}fr=0,De=Wt=Ct=null,Io=!1,su=Sh=0,Do=null}function vn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Ct.memoizedState=De=i:De=De.next=i,De}function Se(){if(Wt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=De===null?Ct.memoizedState:De.next;if(s!==null)De=s,Wt=i;else{if(i===null)throw Ct.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},De===null?Ct.memoizedState=De=i:De=De.next=i}return De}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(i){var s=su;return su+=1,Do===null&&(Do=[]),i=o_(Do,i,s),s=Ct,(De===null?s.memoizedState:De.next)===null&&(s=s.alternate,tt.H=s===null||s.memoizedState===null?Z_:ip),i}function Rh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return au(i);if(i.$$typeof===P)return Xe(i)}throw Error(r(438,String(i)))}function Km(i){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Ah(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=U;return s.index++,o}function dr(i,s){return typeof s=="function"?s(i):s}function Ch(i){var s=Se();return $m(s,Wt,i)}function $m(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=i.baseQueue,g=u.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,u.pending=null}if(g=i.baseState,d===null)i.memoizedState=g;else{s=d.next;var C=T=null,j=null,X=s,et=!1;do{var st=X.lane&-536870913;if(st!==X.lane?(kt&st)===st:(fr&st)===st){var W=X.revertLane;if(W===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),st===So&&(et=!0);else if((fr&W)===W){X=X.next,W===So&&(et=!0);continue}else st={lane:0,revertLane:X.revertLane,gesture:null,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(C=j=st,T=g):j=j.next=st,Ct.lanes|=W,ms|=W;st=X.action,Aa&&o(g,st),g=X.hasEagerState?X.eagerState:o(g,st)}else W={lane:st,revertLane:X.revertLane,gesture:X.gesture,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},j===null?(C=j=W,T=g):j=j.next=W,Ct.lanes|=st,ms|=st;X=X.next}while(X!==null&&X!==s);if(j===null?T=g:j.next=C,!On(g,i.memoizedState)&&(Ne=!0,et&&(o=Ao,o!==null)))throw o;i.memoizedState=g,i.baseState=T,i.baseQueue=j,u.lastRenderedState=g}return d===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Ym(i){var s=Se(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=i(g,T.action),T=T.next;while(T!==d);On(g,s.memoizedState)||(Ne=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function v_(i,s,o){var u=Ct,d=Se(),g=zt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var T=!On((Wt||d).memoizedState,o);if(T&&(d.memoizedState=o,Ne=!0),d=d.queue,Wm(E_.bind(null,u,d,i),[i]),d.getSnapshot!==s||T||De!==null&&De.memoizedState.tag&1){if(u.flags|=2048,No(9,{destroy:void 0},T_.bind(null,u,d,o,s),null),te===null)throw Error(r(349));g||(fr&127)!==0||__(u,s,o)}return o}function __(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=Ah(),Ct.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function T_(i,s,o,u){s.value=o,s.getSnapshot=u,b_(s)&&w_(i)}function E_(i,s,o){return o(function(){b_(s)&&w_(i)})}function b_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!On(i,o)}catch{return!0}}function w_(i){var s=ga(i,2);s!==null&&Rn(s,i,2)}function Qm(i){var s=vn();if(typeof i=="function"){var o=i;if(i=o(),Aa){Gn(!0);try{o()}finally{Gn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:i},s}function S_(i,s,o,u){return i.baseState=o,$m(i,Wt,typeof u=="function"?u:dr)}function l2(i,s,o,u,d){if(Dh(i))throw Error(r(485));if(i=s.action,i!==null){var g={payload:d,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};tt.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,A_(s,g)):(g.next=o.next,s.pending=o.next=g)}}function A_(i,s){var o=s.action,u=s.payload,d=i.state;if(s.isTransition){var g=tt.T,T={};tt.T=T;try{var C=o(d,u),j=tt.S;j!==null&&j(T,C),R_(i,s,C)}catch(X){Xm(i,s,X)}finally{g!==null&&T.types!==null&&(g.types=T.types),tt.T=g}}else try{g=o(d,u),R_(i,s,g)}catch(X){Xm(i,s,X)}}function R_(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){C_(i,s,u)},function(u){return Xm(i,s,u)}):C_(i,s,o)}function C_(i,s,o){s.status="fulfilled",s.value=o,x_(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,A_(i,o)))}function Xm(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,x_(s),s=s.next;while(s!==u)}i.action=null}function x_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function I_(i,s){return s}function D_(i,s){if(zt){var o=te.formState;if(o!==null){t:{var u=Ct;if(zt){if(ie){e:{for(var d=ie,g=Jn;d.nodeType!==8;){if(!g){d=null;break e}if(d=ei(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ie=ei(d.nextSibling),u=d.data==="F!";break t}}ss(u)}u=!1}u&&(s=o[0])}}return o=vn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:I_,lastRenderedState:s},o.queue=u,o=Q_.bind(null,Ct,u),u.dispatch=o,u=Qm(!1),g=np.bind(null,Ct,!1,u.queue),u=vn(),d={state:s,dispatch:null,action:i,pending:null},u.queue=d,o=l2.bind(null,Ct,d,g,o),d.dispatch=o,u.memoizedState=i,[s,o,!1]}function N_(i){var s=Se();return M_(s,Wt,i)}function M_(i,s,o){if(s=$m(i,s,I_)[0],i=Ch(dr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=au(s)}catch(T){throw T===Ro?yh:T}else u=s;s=Se();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,No(9,{destroy:void 0},u2.bind(null,d,o),null)),[u,g,i]}function u2(i,s){i.action=s}function O_(i){var s=Se(),o=Wt;if(o!==null)return M_(s,o,i);Se(),s=s.memoizedState,o=Se();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function No(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Ah(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function V_(){return Se().memoizedState}function xh(i,s,o,u){var d=vn();Ct.flags|=i,d.memoizedState=No(1|s,{destroy:void 0},o,u===void 0?null:u)}function Ih(i,s,o,u){var d=Se();u=u===void 0?null:u;var g=d.memoizedState.inst;Wt!==null&&u!==null&&Bm(u,Wt.memoizedState.deps)?d.memoizedState=No(s,g,o,u):(Ct.flags|=i,d.memoizedState=No(1|s,g,o,u))}function P_(i,s){xh(8390656,8,i,s)}function Wm(i,s){Ih(2048,8,i,s)}function c2(i){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=Ah(),Ct.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function k_(i){var s=Se().memoizedState;return c2({ref:s,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function L_(i,s){return Ih(4,2,i,s)}function U_(i,s){return Ih(4,4,i,s)}function j_(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function z_(i,s,o){o=o!=null?o.concat([i]):null,Ih(4,4,j_.bind(null,s,i),o)}function Zm(){}function B_(i,s){var o=Se();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Bm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function F_(i,s){var o=Se();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Bm(s,u[1]))return u[0];if(u=i(),Aa){Gn(!0);try{i()}finally{Gn(!1)}}return o.memoizedState=[u,s],u}function Jm(i,s,o){return o===void 0||(fr&1073741824)!==0&&(kt&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=HT(),Ct.lanes|=i,ms|=i,o)}function H_(i,s,o,u){return On(o,s)?o:xo.current!==null?(i=Jm(i,o,u),On(i,s)||(Ne=!0),i):(fr&42)===0||(fr&1073741824)!==0&&(kt&261930)===0?(Ne=!0,i.memoizedState=o):(i=HT(),Ct.lanes|=i,ms|=i,s)}function q_(i,s,o,u,d){var g=ot.p;ot.p=g!==0&&8>g?g:8;var T=tt.T,C={};tt.T=C,np(i,!1,s,o);try{var j=d(),X=tt.S;if(X!==null&&X(C,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var et=s2(j,u);ou(i,s,et,jn(i))}else ou(i,s,u,jn(i))}catch(st){ou(i,s,{then:function(){},status:"rejected",reason:st},jn())}finally{ot.p=g,T!==null&&C.types!==null&&(T.types=C.types),tt.T=T}}function h2(){}function tp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var d=G_(i).queue;q_(i,d,s,ft,o===null?h2:function(){return K_(i),o(u)})}function G_(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:ft},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dr,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function K_(i){var s=G_(i);s.next===null&&(s=i.alternate.memoizedState),ou(i,s.next.queue,{},jn())}function ep(){return Xe(Su)}function $_(){return Se().memoizedState}function Y_(){return Se().memoizedState}function f2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=jn();i=ls(o);var u=us(s,i,o);u!==null&&(Rn(u,s,o),nu(u,s,o)),s={cache:Dm()},i.payload=s;return}s=s.return}}function d2(i,s,o){var u=jn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Dh(i)?X_(s,o):(o=_m(i,s,o,u),o!==null&&(Rn(o,i,u),W_(o,s,u)))}function Q_(i,s,o){var u=jn();ou(i,s,o,u)}function ou(i,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Dh(i))X_(s,d);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,C=g(T,o);if(d.hasEagerState=!0,d.eagerState=C,On(C,T))return ch(i,s,d,0),te===null&&uh(),!1}catch{}finally{}if(o=_m(i,s,d,u),o!==null)return Rn(o,i,u),W_(o,s,u),!0}return!1}function np(i,s,o,u){if(u={lane:2,revertLane:Vp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Dh(i)){if(s)throw Error(r(479))}else s=_m(i,o,u,2),s!==null&&Rn(s,i,2)}function Dh(i){var s=i.alternate;return i===Ct||s!==null&&s===Ct}function X_(i,s){Io=wh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function W_(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Br(i,o)}}var lu={readContext:Xe,use:Rh,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge};lu.useEffectEvent=ge;var Z_={readContext:Xe,use:Rh,useCallback:function(i,s){return vn().memoizedState=[i,s===void 0?null:s],i},useContext:Xe,useEffect:P_,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,xh(4194308,4,j_.bind(null,s,i),o)},useLayoutEffect:function(i,s){return xh(4194308,4,i,s)},useInsertionEffect:function(i,s){xh(4,2,i,s)},useMemo:function(i,s){var o=vn();s=s===void 0?null:s;var u=i();if(Aa){Gn(!0);try{i()}finally{Gn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=vn();if(o!==void 0){var d=o(s);if(Aa){Gn(!0);try{o(s)}finally{Gn(!1)}}}else d=s;return u.memoizedState=u.baseState=d,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:d},u.queue=i,i=i.dispatch=d2.bind(null,Ct,i),[u.memoizedState,i]},useRef:function(i){var s=vn();return i={current:i},s.memoizedState=i},useState:function(i){i=Qm(i);var s=i.queue,o=Q_.bind(null,Ct,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:Zm,useDeferredValue:function(i,s){var o=vn();return Jm(o,i,s)},useTransition:function(){var i=Qm(!1);return i=q_.bind(null,Ct,i.queue,!0,!1),vn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=Ct,d=vn();if(zt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),te===null)throw Error(r(349));(kt&127)!==0||__(u,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,P_(E_.bind(null,u,g,i),[i]),u.flags|=2048,No(9,{destroy:void 0},T_.bind(null,u,g,o,s),null),o},useId:function(){var i=vn(),s=te.identifierPrefix;if(zt){var o=Mi,u=Ni;o=(u&~(1<<32-dn(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Sh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=a2++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:ep,useFormState:D_,useActionState:D_,useOptimistic:function(i){var s=vn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=np.bind(null,Ct,!0,o),o.dispatch=s,[i,s]},useMemoCache:Km,useCacheRefresh:function(){return vn().memoizedState=f2.bind(null,Ct)},useEffectEvent:function(i){var s=vn(),o={impl:i};return s.memoizedState=o,function(){if((Gt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},ip={readContext:Xe,use:Rh,useCallback:B_,useContext:Xe,useEffect:Wm,useImperativeHandle:z_,useInsertionEffect:L_,useLayoutEffect:U_,useMemo:F_,useReducer:Ch,useRef:V_,useState:function(){return Ch(dr)},useDebugValue:Zm,useDeferredValue:function(i,s){var o=Se();return H_(o,Wt.memoizedState,i,s)},useTransition:function(){var i=Ch(dr)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:au(i),s]},useSyncExternalStore:v_,useId:$_,useHostTransitionStatus:ep,useFormState:N_,useActionState:N_,useOptimistic:function(i,s){var o=Se();return S_(o,Wt,i,s)},useMemoCache:Km,useCacheRefresh:Y_};ip.useEffectEvent=k_;var J_={readContext:Xe,use:Rh,useCallback:B_,useContext:Xe,useEffect:Wm,useImperativeHandle:z_,useInsertionEffect:L_,useLayoutEffect:U_,useMemo:F_,useReducer:Ym,useRef:V_,useState:function(){return Ym(dr)},useDebugValue:Zm,useDeferredValue:function(i,s){var o=Se();return Wt===null?Jm(o,i,s):H_(o,Wt.memoizedState,i,s)},useTransition:function(){var i=Ym(dr)[0],s=Se().memoizedState;return[typeof i=="boolean"?i:au(i),s]},useSyncExternalStore:v_,useId:$_,useHostTransitionStatus:ep,useFormState:O_,useActionState:O_,useOptimistic:function(i,s){var o=Se();return Wt!==null?S_(o,Wt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Km,useCacheRefresh:Y_};J_.useEffectEvent=k_;function rp(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var sp={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=jn(),d=ls(u);d.payload=s,o!=null&&(d.callback=o),s=us(i,d,u),s!==null&&(Rn(s,i,u),nu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=jn(),d=ls(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=us(i,d,u),s!==null&&(Rn(s,i,u),nu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=jn(),u=ls(o);u.tag=2,s!=null&&(u.callback=s),s=us(i,u,o),s!==null&&(Rn(s,i,o),nu(s,i,o))}};function tT(i,s,o,u,d,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,T):s.prototype&&s.prototype.isPureReactComponent?!Yl(o,u)||!Yl(d,g):!0}function eT(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&sp.enqueueReplaceState(s,s.state,null)}function Ra(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=_({},o));for(var d in i)o[d]===void 0&&(o[d]=i[d])}return o}function nT(i){lh(i)}function iT(i){console.error(i)}function rT(i){lh(i)}function Nh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function sT(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function ap(i,s,o){return o=ls(o),o.tag=3,o.payload={element:null},o.callback=function(){Nh(i,s)},o}function aT(i){return i=ls(i),i.tag=3,i}function oT(i,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=u.value;i.payload=function(){return d(g)},i.callback=function(){sT(s,o,u)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){sT(s,o,u),typeof d!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function m2(i,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&wo(s,o,d,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return ti===null?Hh():o.alternate===null&&ye===0&&(ye=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===vh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Np(i,u,d)),!1;case 22:return o.flags|=65536,u===vh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Np(i,u,d)),!1}throw Error(r(435,o.tag))}return Np(i,u,d),Hh(),!1}if(zt)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==Am&&(i=Error(r(422),{cause:u}),Wl(Xn(i,o)))):(u!==Am&&(s=Error(r(423),{cause:u}),Wl(Xn(s,o))),i=i.current.alternate,i.flags|=65536,d&=-d,i.lanes|=d,u=Xn(u,o),d=ap(i.stateNode,u,d),km(i,d),ye!==4&&(ye=2)),!1;var g=Error(r(520),{cause:u});if(g=Xn(g,o),gu===null?gu=[g]:gu.push(g),ye!==4&&(ye=2),s===null)return!0;u=Xn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=d&-d,o.lanes|=i,i=ap(o.stateNode,u,i),km(o,i),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ps===null||!ps.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=aT(d),oT(d,i,o,u),km(o,d),!1}o=o.return}while(o!==null);return!1}var op=Error(r(461)),Ne=!1;function We(i,s,o,u){s.child=i===null?h_(s,null,o,u):Sa(s,i.child,o,u)}function lT(i,s,o,u,d){o=o.render;var g=s.ref;if("ref"in u){var T={};for(var C in u)C!=="ref"&&(T[C]=u[C])}else T=u;return Ta(s),u=Fm(i,s,o,T,g,d),C=Hm(),i!==null&&!Ne?(qm(i,s,d),mr(i,s,d)):(zt&&C&&wm(s),s.flags|=1,We(i,s,u,d),s.child)}function uT(i,s,o,u,d){if(i===null){var g=o.type;return typeof g=="function"&&!Tm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,cT(i,s,g,u,d)):(i=fh(o.type,null,u,s,s.mode,d),i.ref=s.ref,i.return=s,s.child=i)}if(g=i.child,!pp(i,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Yl,o(T,u)&&i.ref===s.ref)return mr(i,s,d)}return s.flags|=1,i=lr(g,u),i.ref=s.ref,i.return=s,s.child=i}function cT(i,s,o,u,d){if(i!==null){var g=i.memoizedProps;if(Yl(g,u)&&i.ref===s.ref)if(Ne=!1,s.pendingProps=u=g,pp(i,d))(i.flags&131072)!==0&&(Ne=!0);else return s.lanes=i.lanes,mr(i,s,d)}return lp(i,s,o,u,d)}function hT(i,s,o,u){var d=u.children,g=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=s.child=i.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~g}else u=0,s.child=null;return fT(i,s,g,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&gh(s,g!==null?g.cachePool:null),g!==null?m_(s,g):Um(),p_(s);else return u=s.lanes=536870912,fT(i,s,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(gh(s,g.cachePool),m_(s,g),hs(),s.memoizedState=null):(i!==null&&gh(s,null),Um(),hs());return We(i,s,d,o),s.child}function uu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fT(i,s,o,u,d){var g=Mm();return g=g===null?null:{parent:Ie._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},i!==null&&gh(s,null),Um(),p_(s),i!==null&&wo(i,s,u,!0),s.childLanes=d,null}function Mh(i,s){return s=Vh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function dT(i,s,o){return Sa(s,i.child,null,o),i=Mh(s,s.pendingProps),i.flags|=2,kn(s),s.memoizedState=null,i}function p2(i,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(zt){if(u.mode==="hidden")return i=Mh(s,u),s.lanes=536870912,uu(null,i);if(zm(s),(i=ie)?(i=AE(i,Jn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:is!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},o=X0(i),o.return=s,s.child=o,Qe=s,ie=null)):i=null,i===null)throw ss(s);return s.lanes=536870912,null}return Mh(s,u)}var g=i.memoizedState;if(g!==null){var T=g.dehydrated;if(zm(s),d)if(s.flags&256)s.flags&=-257,s=dT(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Ne||wo(i,s,o,!1),d=(o&i.childLanes)!==0,Ne||d){if(u=te,u!==null&&(T=Fr(u,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ga(i,T),Rn(u,i,T),op;Hh(),s=dT(i,s,o)}else i=g.treeContext,ie=ei(T.nextSibling),Qe=s,zt=!0,rs=null,Jn=!1,i!==null&&J0(s,i),s=Mh(s,u),s.flags|=4096;return s}return i=lr(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Oh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function lp(i,s,o,u,d){return Ta(s),o=Fm(i,s,o,u,void 0,d),u=Hm(),i!==null&&!Ne?(qm(i,s,d),mr(i,s,d)):(zt&&u&&wm(s),s.flags|=1,We(i,s,o,d),s.child)}function mT(i,s,o,u,d,g){return Ta(s),s.updateQueue=null,o=y_(s,u,o,d),g_(i),u=Hm(),i!==null&&!Ne?(qm(i,s,g),mr(i,s,g)):(zt&&u&&wm(s),s.flags|=1,We(i,s,o,g),s.child)}function pT(i,s,o,u,d){if(Ta(s),s.stateNode===null){var g=_o,T=o.contextType;typeof T=="object"&&T!==null&&(g=Xe(T)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=sp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Vm(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?Xe(T):_o,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(rp(s,o,T,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&sp.enqueueReplaceState(g,g.state,null),ru(s,u,g,d),iu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){g=s.stateNode;var C=s.memoizedProps,j=Ra(o,C);g.props=j;var X=g.context,et=o.contextType;T=_o,typeof et=="object"&&et!==null&&(T=Xe(et));var st=o.getDerivedStateFromProps;et=typeof st=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,et||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||X!==T)&&eT(s,g,u,T),os=!1;var W=s.memoizedState;g.state=W,ru(s,u,g,d),iu(),X=s.memoizedState,C||W!==X||os?(typeof st=="function"&&(rp(s,o,st,u),X=s.memoizedState),(j=os||tT(s,o,j,u,W,X,T))?(et||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=X),g.props=u,g.state=X,g.context=T,u=j):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Pm(i,s),T=s.memoizedProps,et=Ra(o,T),g.props=et,st=s.pendingProps,W=g.context,X=o.contextType,j=_o,typeof X=="object"&&X!==null&&(j=Xe(X)),C=o.getDerivedStateFromProps,(X=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==st||W!==j)&&eT(s,g,u,j),os=!1,W=s.memoizedState,g.state=W,ru(s,u,g,d),iu();var Z=s.memoizedState;T!==st||W!==Z||os||i!==null&&i.dependencies!==null&&mh(i.dependencies)?(typeof C=="function"&&(rp(s,o,C,u),Z=s.memoizedState),(et=os||tT(s,o,et,u,W,Z,j)||i!==null&&i.dependencies!==null&&mh(i.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,Z,j),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,Z,j)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Z),g.props=u,g.state=Z,g.context=j,u=et):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&W===i.memoizedState||(s.flags|=1024),u=!1)}return g=u,Oh(i,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,i!==null&&u?(s.child=Sa(s,i.child,null,d),s.child=Sa(s,null,o,d)):We(i,s,o,d),s.memoizedState=g.state,i=s.child):i=mr(i,s,d),i}function gT(i,s,o,u){return va(),s.flags|=256,We(i,s,o,u),s.child}var up={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cp(i){return{baseLanes:i,cachePool:s_()}}function hp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=Un),i}function yT(i,s,o){var u=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(we.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(zt){if(d?cs(s):hs(),(i=ie)?(i=AE(i,Jn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:is!==null?{id:Ni,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},o=X0(i),o.return=s,s.child=o,Qe=s,ie=null)):i=null,i===null)throw ss(s);return $p(i)?s.lanes=32:s.lanes=536870912,null}var C=u.children;return u=u.fallback,d?(hs(),d=s.mode,C=Vh({mode:"hidden",children:C},d),u=ya(u,d,o,null),C.return=s,u.return=s,C.sibling=u,s.child=C,u=s.child,u.memoizedState=cp(o),u.childLanes=hp(i,T,o),s.memoizedState=up,uu(null,u)):(cs(s),fp(s,C))}var j=i.memoizedState;if(j!==null&&(C=j.dehydrated,C!==null)){if(g)s.flags&256?(cs(s),s.flags&=-257,s=dp(i,s,o)):s.memoizedState!==null?(hs(),s.child=i.child,s.flags|=128,s=null):(hs(),C=u.fallback,d=s.mode,u=Vh({mode:"visible",children:u.children},d),C=ya(C,d,o,null),C.flags|=2,u.return=s,C.return=s,u.sibling=C,s.child=u,Sa(s,i.child,null,o),u=s.child,u.memoizedState=cp(o),u.childLanes=hp(i,T,o),s.memoizedState=up,s=uu(null,u));else if(cs(s),$p(C)){if(T=C.nextSibling&&C.nextSibling.dataset,T)var X=T.dgst;T=X,u=Error(r(419)),u.stack="",u.digest=T,Wl({value:u,source:null,stack:null}),s=dp(i,s,o)}else if(Ne||wo(i,s,o,!1),T=(o&i.childLanes)!==0,Ne||T){if(T=te,T!==null&&(u=Fr(T,o),u!==0&&u!==j.retryLane))throw j.retryLane=u,ga(i,u),Rn(T,i,u),op;Kp(C)||Hh(),s=dp(i,s,o)}else Kp(C)?(s.flags|=192,s.child=i.child,s=null):(i=j.treeContext,ie=ei(C.nextSibling),Qe=s,zt=!0,rs=null,Jn=!1,i!==null&&J0(s,i),s=fp(s,u.children),s.flags|=4096);return s}return d?(hs(),C=u.fallback,d=s.mode,j=i.child,X=j.sibling,u=lr(j,{mode:"hidden",children:u.children}),u.subtreeFlags=j.subtreeFlags&65011712,X!==null?C=lr(X,C):(C=ya(C,d,o,null),C.flags|=2),C.return=s,u.return=s,u.sibling=C,s.child=u,uu(null,u),u=s.child,C=i.child.memoizedState,C===null?C=cp(o):(d=C.cachePool,d!==null?(j=Ie._currentValue,d=d.parent!==j?{parent:j,pool:j}:d):d=s_(),C={baseLanes:C.baseLanes|o,cachePool:d}),u.memoizedState=C,u.childLanes=hp(i,T,o),s.memoizedState=up,uu(i.child,u)):(cs(s),o=i.child,i=o.sibling,o=lr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=o,s.memoizedState=null,o)}function fp(i,s){return s=Vh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Vh(i,s){return i=Vn(22,i,null,s),i.lanes=0,i}function dp(i,s,o){return Sa(s,i.child,null,o),i=fp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function vT(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),xm(i.return,s,o)}function mp(i,s,o,u,d,g){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function _T(i,s,o){var u=s.pendingProps,d=u.revealOrder,g=u.tail;u=u.children;var T=we.current,C=(T&2)!==0;if(C?(T=T&1|2,s.flags|=128):T&=1,lt(we,T),We(i,s,u,o),u=zt?Xl:0,!C&&i!==null&&(i.flags&128)!==0)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vT(i,o,s);else if(i.tag===19)vT(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)i=o.alternate,i!==null&&bh(i)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),mp(s,!1,d,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(i=d.alternate,i!==null&&bh(i)===null){s.child=d;break}i=d.sibling,d.sibling=o,o=d,d=i}mp(s,!0,o,null,g,u);break;case"together":mp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function mr(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),ms|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(wo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=lr(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=lr(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function pp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&mh(i)))}function g2(i,s,o){switch(s.tag){case 3:Ge(s,s.stateNode.containerInfo),as(s,Ie,i.memoizedState.cache),va();break;case 27:case 5:bi(s);break;case 4:Ge(s,s.stateNode.containerInfo);break;case 10:as(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,zm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(cs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?yT(i,s,o):(cs(s),i=mr(i,s,o),i!==null?i.sibling:null);cs(s);break;case 19:var d=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(wo(i,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return _T(i,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),lt(we,we.current),u)break;return null;case 22:return s.lanes=0,hT(i,s,o,s.pendingProps);case 24:as(s,Ie,i.memoizedState.cache)}return mr(i,s,o)}function TT(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Ne=!0;else{if(!pp(i,o)&&(s.flags&128)===0)return Ne=!1,g2(i,s,o);Ne=(i.flags&131072)!==0}else Ne=!1,zt&&(s.flags&1048576)!==0&&Z0(s,Xl,s.index);switch(s.lanes=0,s.tag){case 16:t:{var u=s.pendingProps;if(i=ba(s.elementType),s.type=i,typeof i=="function")Tm(i)?(u=Ra(i,u),s.tag=1,s=pT(null,s,i,u,o)):(s.tag=0,s=lp(null,s,i,u,o));else{if(i!=null){var d=i.$$typeof;if(d===K){s.tag=11,s=lT(null,s,i,u,o);break t}else if(d===R){s.tag=14,s=uT(null,s,i,u,o);break t}}throw s=Xt(i)||i,Error(r(306,s,""))}}return s;case 0:return lp(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Ra(u,s.pendingProps),pT(i,s,u,d,o);case 3:t:{if(Ge(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;d=g.element,Pm(i,s),ru(s,u,null,o);var T=s.memoizedState;if(u=T.cache,as(s,Ie,u),u!==g.cache&&Im(s,[Ie],o,!0),iu(),u=T.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gT(i,s,u,o);break t}else if(u!==d){d=Xn(Error(r(424)),s),Wl(d),s=gT(i,s,u,o);break t}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ie=ei(i.firstChild),Qe=s,zt=!0,rs=null,Jn=!0,o=h_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(va(),u===d){s=mr(i,s,o);break t}We(i,s,u,o)}s=s.child}return s;case 26:return Oh(i,s),i===null?(o=NE(s.type,null,s.pendingProps,null))?s.memoizedState=o:zt||(o=s.type,i=s.pendingProps,u=Xh(Et.current).createElement(o),u[me]=s,u[Ye]=i,Ze(u,o,i),be(u),s.stateNode=u):s.memoizedState=NE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return bi(s),i===null&&zt&&(u=s.stateNode=xE(s.type,s.pendingProps,Et.current),Qe=s,Jn=!0,d=ie,_s(s.type)?(Yp=d,ie=ei(u.firstChild)):ie=d),We(i,s,s.pendingProps.children,o),Oh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&zt&&((d=u=ie)&&(u=K2(u,s.type,s.pendingProps,Jn),u!==null?(s.stateNode=u,Qe=s,ie=ei(u.firstChild),Jn=!1,d=!0):d=!1),d||ss(s)),bi(s),d=s.type,g=s.pendingProps,T=i!==null?i.memoizedProps:null,u=g.children,Hp(d,g)?u=null:T!==null&&Hp(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=Fm(i,s,o2,null,null,o),Su._currentValue=d),Oh(i,s),We(i,s,u,o),s.child;case 6:return i===null&&zt&&((i=o=ie)&&(o=$2(o,s.pendingProps,Jn),o!==null?(s.stateNode=o,Qe=s,ie=null,i=!0):i=!1),i||ss(s)),null;case 13:return yT(i,s,o);case 4:return Ge(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Sa(s,null,u,o):We(i,s,u,o),s.child;case 11:return lT(i,s,s.type,s.pendingProps,o);case 7:return We(i,s,s.pendingProps,o),s.child;case 8:return We(i,s,s.pendingProps.children,o),s.child;case 12:return We(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,as(s,s.type,u.value),We(i,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,Ta(s),d=Xe(d),u=u(d),s.flags|=1,We(i,s,u,o),s.child;case 14:return uT(i,s,s.type,s.pendingProps,o);case 15:return cT(i,s,s.type,s.pendingProps,o);case 19:return _T(i,s,o);case 31:return p2(i,s,o);case 22:return hT(i,s,o,s.pendingProps);case 24:return Ta(s),u=Xe(Ie),i===null?(d=Mm(),d===null&&(d=te,g=Dm(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:u,cache:d},Vm(s),as(s,Ie,d)):((i.lanes&o)!==0&&(Pm(i,s),ru(s,null,null,o),iu()),d=i.memoizedState,g=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),as(s,Ie,u)):(u=g.cache,as(s,Ie,u),u!==d.cache&&Im(s,[Ie],o,!0))),We(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function pr(i){i.flags|=4}function gp(i,s,o,u,d){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(d&335544128)===d)if(i.stateNode.complete)i.flags|=8192;else if($T())i.flags|=8192;else throw wa=vh,Om}else i.flags&=-16777217}function ET(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!kE(s))if($T())i.flags|=8192;else throw wa=vh,Om}function Ph(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Dl():536870912,i.lanes|=s,Po|=s)}function cu(i,s){if(!zt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function re(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=i,d=d.sibling;else for(d=i.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=i,d=d.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function y2(i,s,o){var u=s.pendingProps;switch(Sm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(s),null;case 1:return re(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),hr(Ie),ce(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(bo(s)?pr(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Rm())),re(s),null;case 26:var d=s.type,g=s.memoizedState;return i===null?(pr(s),g!==null?(re(s),ET(s,g)):(re(s),gp(s,d,null,u,o))):g?g!==i.memoizedState?(pr(s),re(s),ET(s,g)):(re(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&pr(s),re(s),gp(s,d,i,u,o)),null;case 27:if(Xi(s),o=Et.current,d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&pr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return re(s),null}i=ut.current,bo(s)?t_(s):(i=xE(d,u,o),s.stateNode=i,pr(s))}return re(s),null;case 5:if(Xi(s),d=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&pr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return re(s),null}if(g=ut.current,bo(s))t_(s);else{var T=Xh(Et.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?T.createElement(d,{is:u.is}):T.createElement(d)}}g[me]=s,g[Ye]=u;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;t:switch(Ze(g,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&pr(s)}}return re(s),gp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&pr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=Et.current,bo(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,d=Qe,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}i[me]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||yE(i.nodeValue,o)),i||ss(s,!0)}else i=Xh(i).createTextNode(u),i[me]=s,s.stateNode=i}return re(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=bo(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[me]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),i=!1}else o=Rm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(kn(s),s):(kn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return re(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(d=bo(s),u!==null&&u.dehydrated!==null){if(i===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[me]=s}else va(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;re(s),d=!1}else d=Rm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(kn(s),s):(kn(s),null)}return kn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==d&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Ph(s,s.updateQueue),re(s),null);case 4:return ce(),i===null&&Up(s.stateNode.containerInfo),re(s),null;case 10:return hr(s.type),re(s),null;case 19:if(it(we),u=s.memoizedState,u===null)return re(s),null;if(d=(s.flags&128)!==0,g=u.rendering,g===null)if(d)cu(u,!1);else{if(ye!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(g=bh(i),g!==null){for(s.flags|=128,cu(u,!1),i=g.updateQueue,s.updateQueue=i,Ph(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)Q0(o,i),o=o.sibling;return lt(we,we.current&1|2),zt&&ur(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Ke()>zh&&(s.flags|=128,d=!0,cu(u,!1),s.lanes=4194304)}else{if(!d)if(i=bh(g),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Ph(s,i),cu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!zt)return re(s),null}else 2*Ke()-u.renderingStartTime>zh&&o!==536870912&&(s.flags|=128,d=!0,cu(u,!1),s.lanes=4194304);u.isBackwards?(g.sibling=s.child,s.child=g):(i=u.last,i!==null?i.sibling=g:s.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ke(),i.sibling=null,o=we.current,lt(we,d?o&1|2:o&1),zt&&ur(s,u.treeForkCount),i):(re(s),null);case 22:case 23:return kn(s),jm(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(re(s),s.subtreeFlags&6&&(s.flags|=8192)):re(s),o=s.updateQueue,o!==null&&Ph(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&it(Ea),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),hr(Ie),re(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function v2(i,s){switch(Sm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return hr(Ie),ce(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Xi(s),null;case 31:if(s.memoizedState!==null){if(kn(s),s.alternate===null)throw Error(r(340));va()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(kn(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));va()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return it(we),null;case 4:return ce(),null;case 10:return hr(s.type),null;case 22:case 23:return kn(s),jm(),i!==null&&it(Ea),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return hr(Ie),null;case 25:return null;default:return null}}function bT(i,s){switch(Sm(s),s.tag){case 3:hr(Ie),ce();break;case 26:case 27:case 5:Xi(s);break;case 4:ce();break;case 31:s.memoizedState!==null&&kn(s);break;case 13:kn(s);break;case 19:it(we);break;case 10:hr(s.type);break;case 22:case 23:kn(s),jm(),i!==null&&it(Ea);break;case 24:hr(Ie)}}function hu(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&i)===i){u=void 0;var g=o.create,T=o.inst;u=g(),T.destroy=u}o=o.next}while(o!==d)}}catch(C){Qt(s,s.return,C)}}function fs(i,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var g=d.next;u=g;do{if((u.tag&i)===i){var T=u.inst,C=T.destroy;if(C!==void 0){T.destroy=void 0,d=s;var j=o,X=C;try{X()}catch(et){Qt(d,j,et)}}}u=u.next}while(u!==g)}}catch(et){Qt(s,s.return,et)}}function wT(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{d_(s,o)}catch(u){Qt(i,i.return,u)}}}function ST(i,s,o){o.props=Ra(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Qt(i,s,u)}}function fu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(d){Qt(i,s,d)}}function Oi(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Qt(i,s,d)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Qt(i,s,d)}else o.current=null}function AT(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Qt(i,i.return,d)}}function yp(i,s,o){try{var u=i.stateNode;z2(u,i.type,o,s),u[Ye]=s}catch(d){Qt(i,i.return,d)}}function RT(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_s(i.type)||i.tag===4}function vp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||RT(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_s(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function _p(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=ze));else if(u!==4&&(u===27&&_s(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(_p(i,s,o),i=i.sibling;i!==null;)_p(i,s,o),i=i.sibling}function kh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&_s(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(kh(i,s,o),i=i.sibling;i!==null;)kh(i,s,o),i=i.sibling}function CT(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Ze(s,u,o),s[me]=i,s[Ye]=o}catch(g){Qt(i,i.return,g)}}var gr=!1,Me=!1,Tp=!1,xT=typeof WeakSet=="function"?WeakSet:Set,He=null;function _2(i,s){if(i=i.containerInfo,Bp=rf,i=z0(i),dm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,C=-1,j=-1,X=0,et=0,st=i,W=null;e:for(;;){for(var Z;st!==o||d!==0&&st.nodeType!==3||(C=T+d),st!==g||u!==0&&st.nodeType!==3||(j=T+u),st.nodeType===3&&(T+=st.nodeValue.length),(Z=st.firstChild)!==null;)W=st,st=Z;for(;;){if(st===i)break e;if(W===o&&++X===d&&(C=T),W===g&&++et===u&&(j=T),(Z=st.nextSibling)!==null)break;st=W,W=st.parentNode}st=Z}o=C===-1||j===-1?null:{start:C,end:j}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fp={focusedElem:i,selectionRange:o},rf=!1,He=s;He!==null;)if(s=He,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,He=i;else for(;He!==null;){switch(s=He,g=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)d=i[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var mt=Ra(o.type,d);i=u.getSnapshotBeforeUpdate(mt,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Qt(o,o.return,_t)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Gp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Gp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,He=i;break}He=s.return}}function IT(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:vr(i,o),u&4&&hu(5,o);break;case 1:if(vr(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(T){Qt(o,o.return,T)}else{var d=Ra(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(d,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Qt(o,o.return,T)}}u&64&&wT(o),u&512&&fu(o,o.return);break;case 3:if(vr(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{d_(i,s)}catch(T){Qt(o,o.return,T)}}break;case 27:s===null&&u&4&&CT(o);case 26:case 5:vr(i,o),s===null&&u&4&&AT(o),u&512&&fu(o,o.return);break;case 12:vr(i,o);break;case 31:vr(i,o),u&4&&MT(i,o);break;case 13:vr(i,o),u&4&&OT(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=x2.bind(null,o),Y2(i,o))));break;case 22:if(u=o.memoizedState!==null||gr,!u){s=s!==null&&s.memoizedState!==null||Me,d=gr;var g=Me;gr=u,(Me=s)&&!g?_r(i,o,(o.subtreeFlags&8772)!==0):vr(i,o),gr=d,Me=g}break;case 30:break;default:vr(i,o)}}function DT(i){var s=i.alternate;s!==null&&(i.alternate=null,DT(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ra(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var oe=null,bn=!1;function yr(i,s,o){for(o=o.child;o!==null;)NT(i,s,o),o=o.sibling}function NT(i,s,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Lr,o)}catch{}switch(o.tag){case 26:Me||Oi(o,s),yr(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Me||Oi(o,s);var u=oe,d=bn;_s(o.type)&&(oe=o.stateNode,bn=!1),yr(i,s,o),Eu(o.stateNode),oe=u,bn=d;break;case 5:Me||Oi(o,s);case 6:if(u=oe,d=bn,oe=null,yr(i,s,o),oe=u,bn=d,oe!==null)if(bn)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(o.stateNode)}catch(g){Qt(o,s,g)}else try{oe.removeChild(o.stateNode)}catch(g){Qt(o,s,g)}break;case 18:oe!==null&&(bn?(i=oe,wE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ho(i)):wE(oe,o.stateNode));break;case 4:u=oe,d=bn,oe=o.stateNode.containerInfo,bn=!0,yr(i,s,o),oe=u,bn=d;break;case 0:case 11:case 14:case 15:fs(2,o,s),Me||fs(4,o,s),yr(i,s,o);break;case 1:Me||(Oi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&ST(o,s,u)),yr(i,s,o);break;case 21:yr(i,s,o);break;case 22:Me=(u=Me)||o.memoizedState!==null,yr(i,s,o),Me=u;break;default:yr(i,s,o)}}function MT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Ho(i)}catch(o){Qt(s,s.return,o)}}}function OT(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ho(i)}catch(o){Qt(s,s.return,o)}}function T2(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new xT),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new xT),s;default:throw Error(r(435,i.tag))}}function Lh(i,s){var o=T2(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=I2.bind(null,i,u);u.then(d,d)}})}function wn(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],g=i,T=s,C=T;t:for(;C!==null;){switch(C.tag){case 27:if(_s(C.type)){oe=C.stateNode,bn=!1;break t}break;case 5:oe=C.stateNode,bn=!1;break t;case 3:case 4:oe=C.stateNode.containerInfo,bn=!0;break t}C=C.return}if(oe===null)throw Error(r(160));NT(g,T,d),oe=null,bn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)VT(s,i),s=s.sibling}var di=null;function VT(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:wn(s,i),Sn(i),u&4&&(fs(3,i,i.return),hu(3,i),fs(5,i,i.return));break;case 1:wn(s,i),Sn(i),u&512&&(Me||o===null||Oi(o,o.return)),u&64&&gr&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=di;if(wn(s,i),Sn(i),u&512&&(Me||o===null||Oi(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){t:{u=i.type,o=i.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":g=d.getElementsByTagName("title")[0],(!g||g[tr]||g[me]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(u),d.head.insertBefore(g,d.querySelector("head > title"))),Ze(g,u,o),g[me]=i,be(g),u=g;break t;case"link":var T=VE("link","href",d).get(u+(o.href||""));if(T){for(var C=0;C<T.length;C++)if(g=T[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(C,1);break e}}g=d.createElement(u),Ze(g,u,o),d.head.appendChild(g);break;case"meta":if(T=VE("meta","content",d).get(u+(o.content||""))){for(C=0;C<T.length;C++)if(g=T[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(C,1);break e}}g=d.createElement(u),Ze(g,u,o),d.head.appendChild(g);break;default:throw Error(r(468,u))}g[me]=i,be(g),u=g}i.stateNode=u}else PE(d,i.type,i.stateNode);else i.stateNode=OE(d,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?PE(d,i.type,i.stateNode):OE(d,u,i.memoizedProps)):u===null&&i.stateNode!==null&&yp(i,i.memoizedProps,o.memoizedProps)}break;case 27:wn(s,i),Sn(i),u&512&&(Me||o===null||Oi(o,o.return)),o!==null&&u&4&&yp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(wn(s,i),Sn(i),u&512&&(Me||o===null||Oi(o,o.return)),i.flags&32){d=i.stateNode;try{Yn(d,"")}catch(mt){Qt(i,i.return,mt)}}u&4&&i.stateNode!=null&&(d=i.memoizedProps,yp(i,d,o!==null?o.memoizedProps:d)),u&1024&&(Tp=!0);break;case 6:if(wn(s,i),Sn(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(mt){Qt(i,i.return,mt)}}break;case 3:if(Jh=null,d=di,di=Wh(s.containerInfo),wn(s,i),di=d,Sn(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ho(s.containerInfo)}catch(mt){Qt(i,i.return,mt)}Tp&&(Tp=!1,PT(i));break;case 4:u=di,di=Wh(i.stateNode.containerInfo),wn(s,i),Sn(i),di=u;break;case 12:wn(s,i),Sn(i);break;case 31:wn(s,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 13:wn(s,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jh=Ke()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 22:d=i.memoizedState!==null;var j=o!==null&&o.memoizedState!==null,X=gr,et=Me;if(gr=X||d,Me=et||j,wn(s,i),Me=et,gr=X,Sn(i),u&8192)t:for(s=i.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||j||gr||Me||Ca(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){j=o=s;try{if(g=j.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{C=j.stateNode;var st=j.memoizedProps.style,W=st!=null&&st.hasOwnProperty("display")?st.display:null;C.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(mt){Qt(j,j.return,mt)}}}else if(s.tag===6){if(o===null){j=s;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(mt){Qt(j,j.return,mt)}}}else if(s.tag===18){if(o===null){j=s;try{var Z=j.stateNode;d?SE(Z,!0):SE(j.stateNode,!1)}catch(mt){Qt(j,j.return,mt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break t;for(;s.sibling===null;){if(s.return===null||s.return===i)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Lh(i,o))));break;case 19:wn(s,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 30:break;case 21:break;default:wn(s,i),Sn(i)}}function Sn(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(RT(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,g=vp(i);kh(i,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Yn(T,""),o.flags&=-33);var C=vp(i);kh(i,C,T);break;case 3:case 4:var j=o.stateNode.containerInfo,X=vp(i);_p(i,X,j);break;default:throw Error(r(161))}}catch(et){Qt(i,i.return,et)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function PT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;PT(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function vr(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)IT(i,s.alternate,s),s=s.sibling}function Ca(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:fs(4,s,s.return),Ca(s);break;case 1:Oi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&ST(s,s.return,o),Ca(s);break;case 27:Eu(s.stateNode);case 26:case 5:Oi(s,s.return),Ca(s);break;case 22:s.memoizedState===null&&Ca(s);break;case 30:Ca(s);break;default:Ca(s)}i=i.sibling}}function _r(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=i,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:_r(d,g,o),hu(4,g);break;case 1:if(_r(d,g,o),u=g,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(X){Qt(u,u.return,X)}if(u=g,d=u.updateQueue,d!==null){var C=u.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)f_(j[d],C)}catch(X){Qt(u,u.return,X)}}o&&T&64&&wT(g),fu(g,g.return);break;case 27:CT(g);case 26:case 5:_r(d,g,o),o&&u===null&&T&4&&AT(g),fu(g,g.return);break;case 12:_r(d,g,o);break;case 31:_r(d,g,o),o&&T&4&&MT(d,g);break;case 13:_r(d,g,o),o&&T&4&&OT(d,g);break;case 22:g.memoizedState===null&&_r(d,g,o),fu(g,g.return);break;case 30:break;default:_r(d,g,o)}s=s.sibling}}function Ep(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Zl(o))}function bp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Zl(i))}function mi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kT(i,s,o,u),s=s.sibling}function kT(i,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:mi(i,s,o,u),d&2048&&hu(9,s);break;case 1:mi(i,s,o,u);break;case 3:mi(i,s,o,u),d&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Zl(i)));break;case 12:if(d&2048){mi(i,s,o,u),i=s.stateNode;try{var g=s.memoizedProps,T=g.id,C=g.onPostCommit;typeof C=="function"&&C(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(j){Qt(s,s.return,j)}}else mi(i,s,o,u);break;case 31:mi(i,s,o,u);break;case 13:mi(i,s,o,u);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?mi(i,s,o,u):du(i,s):g._visibility&2?mi(i,s,o,u):(g._visibility|=2,Mo(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Ep(T,s);break;case 24:mi(i,s,o,u),d&2048&&bp(s.alternate,s);break;default:mi(i,s,o,u)}}function Mo(i,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=i,T=s,C=o,j=u,X=T.flags;switch(T.tag){case 0:case 11:case 15:Mo(g,T,C,j,d),hu(8,T);break;case 23:break;case 22:var et=T.stateNode;T.memoizedState!==null?et._visibility&2?Mo(g,T,C,j,d):du(g,T):(et._visibility|=2,Mo(g,T,C,j,d)),d&&X&2048&&Ep(T.alternate,T);break;case 24:Mo(g,T,C,j,d),d&&X&2048&&bp(T.alternate,T);break;default:Mo(g,T,C,j,d)}s=s.sibling}}function du(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,d=u.flags;switch(u.tag){case 22:du(o,u),d&2048&&Ep(u.alternate,u);break;case 24:du(o,u),d&2048&&bp(u.alternate,u);break;default:du(o,u)}s=s.sibling}}var mu=8192;function Oo(i,s,o){if(i.subtreeFlags&mu)for(i=i.child;i!==null;)LT(i,s,o),i=i.sibling}function LT(i,s,o){switch(i.tag){case 26:Oo(i,s,o),i.flags&mu&&i.memoizedState!==null&&aI(o,di,i.memoizedState,i.memoizedProps);break;case 5:Oo(i,s,o);break;case 3:case 4:var u=di;di=Wh(i.stateNode.containerInfo),Oo(i,s,o),di=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=mu,mu=16777216,Oo(i,s,o),mu=u):Oo(i,s,o));break;default:Oo(i,s,o)}}function UT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function pu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];He=u,zT(u,i)}UT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)jT(i),i=i.sibling}function jT(i){switch(i.tag){case 0:case 11:case 15:pu(i),i.flags&2048&&fs(9,i,i.return);break;case 3:pu(i);break;case 12:pu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Uh(i)):pu(i);break;default:pu(i)}}function Uh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];He=u,zT(u,i)}UT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:fs(8,s,s.return),Uh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Uh(s));break;default:Uh(s)}i=i.sibling}}function zT(i,s){for(;He!==null;){var o=He;switch(o.tag){case 0:case 11:case 15:fs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,He=u;else t:for(o=i;He!==null;){u=He;var d=u.sibling,g=u.return;if(DT(u),u===o){He=null;break t}if(d!==null){d.return=g,He=d;break t}He=g}}}var E2={getCacheForType:function(i){var s=Xe(Ie),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return Xe(Ie).controller.signal}},b2=typeof WeakMap=="function"?WeakMap:Map,Gt=0,te=null,Vt=null,kt=0,Yt=0,Ln=null,ds=!1,Vo=!1,wp=!1,Tr=0,ye=0,ms=0,xa=0,Sp=0,Un=0,Po=0,gu=null,An=null,Ap=!1,jh=0,BT=0,zh=1/0,Bh=null,ps=null,Le=0,gs=null,ko=null,Er=0,Rp=0,Cp=null,FT=null,yu=0,xp=null;function jn(){return(Gt&2)!==0&&kt!==0?kt&-kt:tt.T!==null?Vp():Ji()}function HT(){if(Un===0)if((kt&536870912)===0||zt){var i=wi;wi<<=1,(wi&3932160)===0&&(wi=262144),Un=i}else Un=536870912;return i=Pn.current,i!==null&&(i.flags|=32),Un}function Rn(i,s,o){(i===te&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)&&(Lo(i,0),ys(i,kt,Un,!1)),zr(i,o),((Gt&2)===0||i!==te)&&(i===te&&((Gt&2)===0&&(xa|=o),ye===4&&ys(i,kt,Un,!1)),Vi(i))}function qT(i,s,o){if((Gt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||jr(i,s),d=u?A2(i,s):Dp(i,s,!0),g=u;do{if(d===0){Vo&&!u&&ys(i,s,0,!1);break}else{if(o=i.current.alternate,g&&!w2(o)){d=Dp(i,s,!1),g=!1;continue}if(d===2){if(g=s,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var C=i;d=gu;var j=C.current.memoizedState.isDehydrated;if(j&&(Lo(C,T).flags|=256),T=Dp(C,T,!1),T!==2){if(wp&&!j){C.errorRecoveryDisabledLanes|=g,xa|=g,d=4;break t}g=An,An=d,g!==null&&(An===null?An=g:An.push.apply(An,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Lo(i,0),ys(i,s,0,!0);break}t:{switch(u=i,g=d,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ys(u,s,Un,!ds);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=jh+300-Ke(),10<d)){if(ys(u,s,Un,!ds),Kn(u,0,!0)!==0)break t;Er=s,u.timeoutHandle=EE(GT.bind(null,u,o,An,Bh,Ap,s,Un,xa,Po,ds,g,"Throttled",-0,0),d);break t}GT(u,o,An,Bh,Ap,s,Un,xa,Po,ds,g,null,-0,0)}}break}while(!0);Vi(i)}function GT(i,s,o,u,d,g,T,C,j,X,et,st,W,Z){if(i.timeoutHandle=-1,st=s.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ze},LT(s,g,st);var mt=(g&62914560)===g?jh-Ke():(g&4194048)===g?BT-Ke():0;if(mt=oI(st,mt),mt!==null){Er=g,i.cancelPendingCommit=mt(JT.bind(null,i,s,g,o,u,d,T,C,j,et,st,null,W,Z)),ys(i,g,T,!X);return}}JT(i,s,g,o,u,d,T,C,j)}function w2(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],g=d.getSnapshot;d=d.value;try{if(!On(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ys(i,s,o,u){s&=~Sp,s&=~xa,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var d=s;0<d;){var g=31-dn(d),T=1<<g;u[g]=-1,d&=~T}o!==0&&Nl(i,o,s)}function Fh(){return(Gt&6)===0?(vu(0),!1):!0}function Ip(){if(Vt!==null){if(Yt===0)var i=Vt.return;else i=Vt,cr=_a=null,Gm(i),Co=null,tu=0,i=Vt;for(;i!==null;)bT(i.alternate,i),i=i.return;Vt=null}}function Lo(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,H2(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Er=0,Ip(),te=i,Vt=o=lr(i.current,null),kt=s,Yt=0,Ln=null,ds=!1,Vo=jr(i,s),wp=!1,Po=Un=Sp=xa=ms=ye=0,An=gu=null,Ap=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var d=31-dn(u),g=1<<d;s|=i[d],u&=~g}return Tr=s,uh(),o}function KT(i,s){Ct=null,tt.H=lu,s===Ro||s===yh?(s=l_(),Yt=3):s===Om?(s=l_(),Yt=4):Yt=s===op?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,Vt===null&&(ye=1,Nh(i,Xn(s,i.current)))}function $T(){var i=Pn.current;return i===null?!0:(kt&4194048)===kt?ti===null:(kt&62914560)===kt||(kt&536870912)!==0?i===ti:!1}function YT(){var i=tt.H;return tt.H=lu,i===null?lu:i}function QT(){var i=tt.A;return tt.A=E2,i}function Hh(){ye=4,ds||(kt&4194048)!==kt&&Pn.current!==null||(Vo=!0),(ms&134217727)===0&&(xa&134217727)===0||te===null||ys(te,kt,Un,!1)}function Dp(i,s,o){var u=Gt;Gt|=2;var d=YT(),g=QT();(te!==i||kt!==s)&&(Bh=null,Lo(i,s)),s=!1;var T=ye;t:do try{if(Yt!==0&&Vt!==null){var C=Vt,j=Ln;switch(Yt){case 8:Ip(),T=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var X=Yt;if(Yt=0,Ln=null,Uo(i,C,j,X),o&&Vo){T=0;break t}break;default:X=Yt,Yt=0,Ln=null,Uo(i,C,j,X)}}S2(),T=ye;break}catch(et){KT(i,et)}while(!0);return s&&i.shellSuspendCounter++,cr=_a=null,Gt=u,tt.H=d,tt.A=g,Vt===null&&(te=null,kt=0,uh()),T}function S2(){for(;Vt!==null;)XT(Vt)}function A2(i,s){var o=Gt;Gt|=2;var u=YT(),d=QT();te!==i||kt!==s?(Bh=null,zh=Ke()+500,Lo(i,s)):Vo=jr(i,s);t:do try{if(Yt!==0&&Vt!==null){s=Vt;var g=Ln;e:switch(Yt){case 1:Yt=0,Ln=null,Uo(i,s,g,1);break;case 2:case 9:if(a_(g)){Yt=0,Ln=null,WT(s);break}s=function(){Yt!==2&&Yt!==9||te!==i||(Yt=7),Vi(i)},g.then(s,s);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:a_(g)?(Yt=0,Ln=null,WT(s)):(Yt=0,Ln=null,Uo(i,s,g,7));break;case 5:var T=null;switch(Vt.tag){case 26:T=Vt.memoizedState;case 5:case 27:var C=Vt;if(T?kE(T):C.stateNode.complete){Yt=0,Ln=null;var j=C.sibling;if(j!==null)Vt=j;else{var X=C.return;X!==null?(Vt=X,qh(X)):Vt=null}break e}}Yt=0,Ln=null,Uo(i,s,g,5);break;case 6:Yt=0,Ln=null,Uo(i,s,g,6);break;case 8:Ip(),ye=6;break t;default:throw Error(r(462))}}R2();break}catch(et){KT(i,et)}while(!0);return cr=_a=null,tt.H=u,tt.A=d,Gt=o,Vt!==null?0:(te=null,kt=0,uh(),ye)}function R2(){for(;Vt!==null&&!nm();)XT(Vt)}function XT(i){var s=TT(i.alternate,i,Tr);i.memoizedProps=i.pendingProps,s===null?qh(i):Vt=s}function WT(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=mT(o,s,s.pendingProps,s.type,void 0,kt);break;case 11:s=mT(o,s,s.pendingProps,s.type.render,s.ref,kt);break;case 5:Gm(s);default:bT(o,s),s=Vt=Q0(s,Tr),s=TT(o,s,Tr)}i.memoizedProps=i.pendingProps,s===null?qh(i):Vt=s}function Uo(i,s,o,u){cr=_a=null,Gm(s),Co=null,tu=0;var d=s.return;try{if(m2(i,d,s,o,kt)){ye=1,Nh(i,Xn(o,i.current)),Vt=null;return}}catch(g){if(d!==null)throw Vt=d,g;ye=1,Nh(i,Xn(o,i.current)),Vt=null;return}s.flags&32768?(zt||u===1?i=!0:Vo||(kt&536870912)!==0?i=!1:(ds=i=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ZT(s,i)):qh(s)}function qh(i){var s=i;do{if((s.flags&32768)!==0){ZT(s,ds);return}i=s.return;var o=y2(s.alternate,s,Tr);if(o!==null){Vt=o;return}if(s=s.sibling,s!==null){Vt=s;return}Vt=s=i}while(s!==null);ye===0&&(ye=5)}function ZT(i,s){do{var o=v2(i.alternate,i);if(o!==null){o.flags&=32767,Vt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){Vt=i;return}Vt=i=o}while(i!==null);ye=6,Vt=null}function JT(i,s,o,u,d,g,T,C,j){i.cancelPendingCommit=null;do Gh();while(Le!==0);if((Gt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=vm,$e(i,o,g,T,C,j),i===te&&(Vt=te=null,kt=0),ko=s,gs=i,Er=o,Rp=g,Cp=d,FT=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,D2(Wi,function(){return rE(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=tt.T,tt.T=null,d=ot.p,ot.p=2,T=Gt,Gt|=4;try{_2(i,s,o)}finally{Gt=T,ot.p=d,tt.T=u}}Le=1,tE(),eE(),nE()}}function tE(){if(Le===1){Le=0;var i=gs,s=ko,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=tt.T,tt.T=null;var u=ot.p;ot.p=2;var d=Gt;Gt|=4;try{VT(s,i);var g=Fp,T=z0(i.containerInfo),C=g.focusedElem,j=g.selectionRange;if(T!==C&&C&&C.ownerDocument&&j0(C.ownerDocument.documentElement,C)){if(j!==null&&dm(C)){var X=j.start,et=j.end;if(et===void 0&&(et=X),"selectionStart"in C)C.selectionStart=X,C.selectionEnd=Math.min(et,C.value.length);else{var st=C.ownerDocument||document,W=st&&st.defaultView||window;if(W.getSelection){var Z=W.getSelection(),mt=C.textContent.length,_t=Math.min(j.start,mt),Jt=j.end===void 0?_t:Math.min(j.end,mt);!Z.extend&&_t>Jt&&(T=Jt,Jt=_t,_t=T);var G=U0(C,_t),B=U0(C,Jt);if(G&&B&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var Q=st.createRange();Q.setStart(G.node,G.offset),Z.removeAllRanges(),_t>Jt?(Z.addRange(Q),Z.extend(B.node,B.offset)):(Q.setEnd(B.node,B.offset),Z.addRange(Q))}}}}for(st=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&st.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<st.length;C++){var rt=st[C];rt.element.scrollLeft=rt.left,rt.element.scrollTop=rt.top}}rf=!!Bp,Fp=Bp=null}finally{Gt=d,ot.p=u,tt.T=o}}i.current=s,Le=2}}function eE(){if(Le===2){Le=0;var i=gs,s=ko,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=tt.T,tt.T=null;var u=ot.p;ot.p=2;var d=Gt;Gt|=4;try{IT(i,s.alternate,s)}finally{Gt=d,ot.p=u,tt.T=o}}Le=3}}function nE(){if(Le===4||Le===3){Le=0,Cl();var i=gs,s=ko,o=Er,u=FT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Le=5:(Le=0,ko=gs=null,iE(i,i.pendingLanes));var d=i.pendingLanes;if(d===0&&(ps=null),Ol(o),s=s.stateNode,rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Lr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=tt.T,d=ot.p,ot.p=2,tt.T=null;try{for(var g=i.onRecoverableError,T=0;T<u.length;T++){var C=u[T];g(C.value,{componentStack:C.stack})}}finally{tt.T=s,ot.p=d}}(Er&3)!==0&&Gh(),Vi(i),d=i.pendingLanes,(o&261930)!==0&&(d&42)!==0?i===xp?yu++:(yu=0,xp=i):yu=0,vu(0)}}function iE(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Zl(s)))}function Gh(){return tE(),eE(),nE(),rE()}function rE(){if(Le!==5)return!1;var i=gs,s=Rp;Rp=0;var o=Ol(Er),u=tt.T,d=ot.p;try{ot.p=32>o?32:o,tt.T=null,o=Cp,Cp=null;var g=gs,T=Er;if(Le=0,ko=gs=null,Er=0,(Gt&6)!==0)throw Error(r(331));var C=Gt;if(Gt|=4,jT(g.current),kT(g,g.current,T,o),Gt=C,vu(0,!1),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Lr,g)}catch{}return!0}finally{ot.p=d,tt.T=u,iE(i,s)}}function sE(i,s,o){s=Xn(o,s),s=ap(i.stateNode,s,2),i=us(i,s,2),i!==null&&(zr(i,2),Vi(i))}function Qt(i,s,o){if(i.tag===3)sE(i,i,o);else for(;s!==null;){if(s.tag===3){sE(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ps===null||!ps.has(u))){i=Xn(o,i),o=aT(2),u=us(s,o,2),u!==null&&(oT(o,u,s,i),zr(u,2),Vi(u));break}}s=s.return}}function Np(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new b2;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(wp=!0,d.add(o),i=C2.bind(null,i,s,o),s.then(i,i))}function C2(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,te===i&&(kt&o)===o&&(ye===4||ye===3&&(kt&62914560)===kt&&300>Ke()-jh?(Gt&2)===0&&Lo(i,0):Sp|=o,Po===kt&&(Po=0)),Vi(i)}function aE(i,s){s===0&&(s=Dl()),i=ga(i,s),i!==null&&(zr(i,s),Vi(i))}function x2(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),aE(i,o)}function I2(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,d=i.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),aE(i,o)}function D2(i,s){return ea(i,s)}var Kh=null,jo=null,Mp=!1,$h=!1,Op=!1,vs=0;function Vi(i){i!==jo&&i.next===null&&(jo===null?Kh=jo=i:jo=jo.next=i),$h=!0,Mp||(Mp=!0,M2())}function vu(i,s){if(!Op&&$h){Op=!0;do for(var o=!1,u=Kh;u!==null;){if(i!==0){var d=u.pendingLanes;if(d===0)var g=0;else{var T=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-dn(42|i)+1)-1,g&=d&~(T&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cE(u,g))}else g=kt,g=Kn(u,u===te?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||jr(u,g)||(o=!0,cE(u,g));u=u.next}while(o);Op=!1}}function N2(){oE()}function oE(){$h=Mp=!1;var i=0;vs!==0&&F2()&&(i=vs);for(var s=Ke(),o=null,u=Kh;u!==null;){var d=u.next,g=lE(u,s);g===0?(u.next=null,o===null?Kh=d:o.next=d,d===null&&(jo=o)):(o=u,(i!==0||(g&3)!==0)&&($h=!0)),u=d}Le!==0&&Le!==5||vu(i),vs!==0&&(vs=0)}function lE(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,d=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-dn(g),C=1<<T,j=d[T];j===-1?((C&o)===0||(C&u)!==0)&&(d[T]=ro(C,s)):j<=s&&(i.expiredLanes|=C),g&=~C}if(s=te,o=kt,o=Kn(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Yt===2||Yt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&io(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||jr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&io(u),Ol(o)){case 2:case 8:o=je;break;case 32:o=Wi;break;case 268435456:o=xl;break;default:o=Wi}return u=uE.bind(null,i),o=ea(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&io(u),i.callbackPriority=2,i.callbackNode=null,2}function uE(i,s){if(Le!==0&&Le!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Gh()&&i.callbackNode!==o)return null;var u=kt;return u=Kn(i,i===te?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(qT(i,u,s),lE(i,Ke()),i.callbackNode!=null&&i.callbackNode===o?uE.bind(null,i):null)}function cE(i,s){if(Gh())return null;qT(i,s,!0)}function M2(){q2(function(){(Gt&6)!==0?ea(ke,N2):oE()})}function Vp(){if(vs===0){var i=So;i===0&&(i=ia,ia<<=1,(ia&261888)===0&&(ia=256)),vs=i}return vs}function hE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:xi(""+i)}function fE(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function O2(i,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var g=hE((d[Ye]||null).action),T=u.submitter;T&&(s=(s=T[Ye]||null)?hE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var C=new ua("action","action",null,u,d);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(vs!==0){var j=T?fE(d,T):new FormData(d);tp(o,{pending:!0,data:j,method:d.method,action:g},null,j)}}else typeof g=="function"&&(C.preventDefault(),j=T?fE(d,T):new FormData(d),tp(o,{pending:!0,data:j,method:d.method,action:g},g,j))},currentTarget:d}]})}}for(var Pp=0;Pp<ym.length;Pp++){var kp=ym[Pp],V2=kp.toLowerCase(),P2=kp[0].toUpperCase()+kp.slice(1);fi(V2,"on"+P2)}fi(H0,"onAnimationEnd"),fi(q0,"onAnimationIteration"),fi(G0,"onAnimationStart"),fi("dblclick","onDoubleClick"),fi("focusin","onFocus"),fi("focusout","onBlur"),fi(Wx,"onTransitionRun"),fi(Zx,"onTransitionStart"),fi(Jx,"onTransitionCancel"),fi(K0,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _u="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_u));function dE(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],d=u.event;u=u.listeners;t:{var g=void 0;if(s)for(var T=u.length-1;0<=T;T--){var C=u[T],j=C.instance,X=C.currentTarget;if(C=C.listener,j!==g&&d.isPropagationStopped())break t;g=C,d.currentTarget=X;try{g(d)}catch(et){lh(et)}d.currentTarget=null,g=j}else for(T=0;T<u.length;T++){if(C=u[T],j=C.instance,X=C.currentTarget,C=C.listener,j!==g&&d.isPropagationStopped())break t;g=C,d.currentTarget=X;try{g(d)}catch(et){lh(et)}d.currentTarget=null,g=j}}}}function Pt(i,s){var o=s[Hr];o===void 0&&(o=s[Hr]=new Set);var u=i+"__bubble";o.has(u)||(mE(s,i,2,!1),o.add(u))}function Lp(i,s,o){var u=0;s&&(u|=4),mE(o,i,u,s)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Up(i){if(!i[Yh]){i[Yh]=!0,so.forEach(function(o){o!=="selectionchange"&&(k2.has(o)||Lp(o,!1,i),Lp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Yh]||(s[Yh]=!0,Lp("selectionchange",!1,s))}}function mE(i,s,o,u){switch(HE(s)){case 2:var d=cI;break;case 8:d=hI;break;default:d=Jp}o=d.bind(null,s,o,i),d=void 0,!Bl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?i.addEventListener(s,o,{capture:!0,passive:d}):i.addEventListener(s,o,!0):d!==void 0?i.addEventListener(s,o,{passive:d}):i.addEventListener(s,o,!1)}function jp(i,s,o,u,d){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)t:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var C=u.stateNode.containerInfo;if(C===d)break;if(T===4)for(T=u.return;T!==null;){var j=T.tag;if((j===3||j===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;C!==null;){if(T=er(C),T===null)return;if(j=T.tag,j===5||j===6||j===26||j===27){u=g=T;continue t}C=C.parentNode}}u=u.return}Kc(function(){var X=g,et=co(o),st=[];t:{var W=$0.get(i);if(W!==void 0){var Z=ua,mt=i;switch(i){case"keypress":if(la(o)===0)break t;case"keydown":case"keyup":Z=eh;break;case"focusin":mt="focus",Z=Jr;break;case"focusout":mt="blur",Z=Jr;break;case"beforeblur":case"afterblur":Z=Jr;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=ih;break;case H0:case q0:case G0:Z=mo;break;case K0:Z=po;break;case"scroll":case"scrollend":Z=$c;break;case"wheel":Z=sh;break;case"copy":case"cut":case"paste":Z=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Kl;break;case"toggle":case"beforetoggle":Z=es}var _t=(s&4)!==0,Jt=!_t&&(i==="scroll"||i==="scrollend"),G=_t?W!==null?W+"Capture":null:W;_t=[];for(var B=X,Q;B!==null;){var rt=B;if(Q=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||Q===null||G===null||(rt=Tn(B,G),rt!=null&&_t.push(Tu(B,rt,Q))),Jt)break;B=B.return}0<_t.length&&(W=new Z(W,mt,null,o,et),st.push({event:W,listeners:_t}))}}if((s&7)===0){t:{if(W=i==="mouseover"||i==="pointerover",Z=i==="mouseout"||i==="pointerout",W&&o!==uo&&(mt=o.relatedTarget||o.fromElement)&&(er(mt)||mt[Ai]))break t;if((Z||W)&&(W=et.window===et?et:(W=et.ownerDocument)?W.defaultView||W.parentWindow:window,Z?(mt=o.relatedTarget||o.toElement,Z=X,mt=mt?er(mt):null,mt!==null&&(Jt=l(mt),_t=mt.tag,mt!==Jt||_t!==5&&_t!==27&&_t!==6)&&(mt=null)):(Z=null,mt=X),Z!==mt)){if(_t=Yc,rt="onMouseLeave",G="onMouseEnter",B="mouse",(i==="pointerout"||i==="pointerover")&&(_t=Kl,rt="onPointerLeave",G="onPointerEnter",B="pointer"),Jt=Z==null?W:sa(Z),Q=mt==null?W:sa(mt),W=new _t(rt,B+"leave",Z,o,et),W.target=Jt,W.relatedTarget=Q,rt=null,er(et)===X&&(_t=new _t(G,B+"enter",mt,o,et),_t.target=Q,_t.relatedTarget=Jt,rt=_t),Jt=rt,Z&&mt)e:{for(_t=L2,G=Z,B=mt,Q=0,rt=G;rt;rt=_t(rt))Q++;rt=0;for(var vt=B;vt;vt=_t(vt))rt++;for(;0<Q-rt;)G=_t(G),Q--;for(;0<rt-Q;)B=_t(B),rt--;for(;Q--;){if(G===B||B!==null&&G===B.alternate){_t=G;break e}G=_t(G),B=_t(B)}_t=null}else _t=null;Z!==null&&pE(st,W,Z,_t,!1),mt!==null&&Jt!==null&&pE(st,Jt,mt,_t,!0)}}t:{if(W=X?sa(X):window,Z=W.nodeName&&W.nodeName.toLowerCase(),Z==="select"||Z==="input"&&W.type==="file")var Ht=M0;else if(En(W))if(O0)Ht=Yx;else{Ht=Kx;var pt=Gx}else Z=W.nodeName,!Z||Z.toLowerCase()!=="input"||W.type!=="checkbox"&&W.type!=="radio"?X&&jl(X.elementType)&&(Ht=M0):Ht=$x;if(Ht&&(Ht=Ht(i,X))){da(st,Ht,o,et);break t}pt&&pt(i,W,X),i==="focusout"&&X&&W.type==="number"&&X.memoizedProps.value!=null&&lo(W,"number",W.value)}switch(pt=X?sa(X):window,i){case"focusin":(En(pt)||pt.contentEditable==="true")&&(go=pt,mm=X,Ql=null);break;case"focusout":Ql=mm=go=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,B0(st,o,et);break;case"selectionchange":if(Xx)break;case"keydown":case"keyup":B0(st,o,et)}var xt;if(v)t:{switch(i){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Nt?Kt(i,o)&&(Lt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Lt="onCompositionStart");Lt&&($&&o.locale!=="ko"&&(Nt||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Nt&&(xt=Qr()):(Mn=et,ho="value"in Mn?Mn.value:Mn.textContent,Nt=!0)),pt=Qh(X,Lt),0<pt.length&&(Lt=new Hl(Lt,i,null,o,et),st.push({event:Lt,listeners:pt}),xt?Lt.data=xt:(xt=xe(o),xt!==null&&(Lt.data=xt)))),(xt=I?Be(i,o):Fe(i,o))&&(Lt=Qh(X,"onBeforeInput"),0<Lt.length&&(pt=new Hl("onBeforeInput","beforeinput",null,o,et),st.push({event:pt,listeners:Lt}),pt.data=xt)),O2(st,i,X,o,et)}dE(st,s)})}function Tu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function Qh(i,s){for(var o=s+"Capture",u=[];i!==null;){var d=i,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=Tn(i,o),d!=null&&u.unshift(Tu(i,d,g)),d=Tn(i,s),d!=null&&u.push(Tu(i,d,g))),i.tag===3)return u;i=i.return}return[]}function L2(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function pE(i,s,o,u,d){for(var g=s._reactName,T=[];o!==null&&o!==u;){var C=o,j=C.alternate,X=C.stateNode;if(C=C.tag,j!==null&&j===u)break;C!==5&&C!==26&&C!==27||X===null||(j=X,d?(X=Tn(o,g),X!=null&&T.unshift(Tu(o,X,j))):d||(X=Tn(o,g),X!=null&&T.push(Tu(o,X,j)))),o=o.return}T.length!==0&&i.push({event:s,listeners:T})}var U2=/\r\n?/g,j2=/\u0000|\uFFFD/g;function gE(i){return(typeof i=="string"?i:""+i).replace(U2,`
`).replace(j2,"")}function yE(i,s){return s=gE(s),gE(i)===s}function Zt(i,s,o,u,d,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Yn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Yn(i,""+u);break;case"className":Kr(i,"class",u);break;case"tabIndex":Kr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kr(i,o,u);break;case"style":qc(i,u,g);break;case"data":if(s!=="object"){Kr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=xi(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&Zt(i,s,"name",d.name,d,null),Zt(i,s,"formEncType",d.formEncType,d,null),Zt(i,s,"formMethod",d.formMethod,d,null),Zt(i,s,"formTarget",d.formTarget,d,null)):(Zt(i,s,"encType",d.encType,d,null),Zt(i,s,"method",d.method,d,null),Zt(i,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=xi(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=ze);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=xi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":Pt("beforetoggle",i),Pt("toggle",i),Gr(i,"popover",u);break;case"xlinkActuate":$n(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":$n(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":$n(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":$n(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":$n(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":$n(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":$n(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":$n(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":$n(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lm.get(o)||o,Gr(i,o,u))}}function zp(i,s,o,u,d,g){switch(o){case"style":qc(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Yn(i,u):(typeof u=="number"||typeof u=="bigint")&&Yn(i,""+u);break;case"onScroll":u!=null&&Pt("scroll",i);break;case"onScrollEnd":u!=null&&Pt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=ze);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=i[Ye]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(s,g,d),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,d);break t}o in i?i[o]=u:u===!0?i.setAttribute(o,""):Gr(i,o,u)}}}function Ze(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",i),Pt("load",i);var u=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,g,T,o,null)}}d&&Zt(i,s,"srcSet",o.srcSet,o,null),u&&Zt(i,s,"src",o.src,o,null);return;case"input":Pt("invalid",i);var C=g=T=d=null,j=null,X=null;for(u in o)if(o.hasOwnProperty(u)){var et=o[u];if(et!=null)switch(u){case"name":d=et;break;case"type":T=et;break;case"checked":j=et;break;case"defaultChecked":X=et;break;case"value":g=et;break;case"defaultValue":C=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(137,s));break;default:Zt(i,s,u,et,o,null)}}aa(i,g,C,j,X,T,d,!1);return;case"select":Pt("invalid",i),u=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(C=o[d],C!=null))switch(d){case"value":g=C;break;case"defaultValue":T=C;break;case"multiple":u=C;default:Zt(i,s,d,C,o,null)}s=g,o=T,i.multiple=!!u,s!=null?Ft(i,!!u,s,!1):o!=null&&Ft(i,!!u,o,!0);return;case"textarea":Pt("invalid",i),g=d=u=null;for(T in o)if(o.hasOwnProperty(T)&&(C=o[T],C!=null))switch(T){case"value":u=C;break;case"defaultValue":d=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:Zt(i,s,T,C,o,null)}Yr(i,u,d,g);return;case"option":for(j in o)if(o.hasOwnProperty(j)&&(u=o[j],u!=null))switch(j){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Zt(i,s,j,u,o,null)}return;case"dialog":Pt("beforetoggle",i),Pt("toggle",i),Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":Pt("load",i);break;case"video":case"audio":for(u=0;u<_u.length;u++)Pt(_u[u],i);break;case"image":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"embed":case"source":case"link":Pt("error",i),Pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(u=o[X],u!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Zt(i,s,X,u,o,null)}return;default:if(jl(s)){for(et in o)o.hasOwnProperty(et)&&(u=o[et],u!==void 0&&zp(i,s,et,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&Zt(i,s,C,u,o,null))}function z2(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,C=null,j=null,X=null,et=null;for(Z in o){var st=o[Z];if(o.hasOwnProperty(Z)&&st!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":j=st;default:u.hasOwnProperty(Z)||Zt(i,s,Z,null,u,st)}}for(var W in u){var Z=u[W];if(st=o[W],u.hasOwnProperty(W)&&(Z!=null||st!=null))switch(W){case"type":g=Z;break;case"name":d=Z;break;case"checked":X=Z;break;case"defaultChecked":et=Z;break;case"value":T=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:Z!==st&&Zt(i,s,W,Z,u,st)}}$r(i,T,C,j,X,et,g,d);return;case"select":Z=T=C=W=null;for(g in o)if(j=o[g],o.hasOwnProperty(g)&&j!=null)switch(g){case"value":break;case"multiple":Z=j;default:u.hasOwnProperty(g)||Zt(i,s,g,null,u,j)}for(d in u)if(g=u[d],j=o[d],u.hasOwnProperty(d)&&(g!=null||j!=null))switch(d){case"value":W=g;break;case"defaultValue":C=g;break;case"multiple":T=g;default:g!==j&&Zt(i,s,d,g,u,j)}s=C,o=T,u=Z,W!=null?Ft(i,!!o,W,!1):!!u!=!!o&&(s!=null?Ft(i,!!o,s,!0):Ft(i,!!o,o?[]:"",!1));return;case"textarea":Z=W=null;for(C in o)if(d=o[C],o.hasOwnProperty(C)&&d!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Zt(i,s,C,null,u,d)}for(T in u)if(d=u[T],g=o[T],u.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":W=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==g&&Zt(i,s,T,d,u,g)}oa(i,W,Z);return;case"option":for(var mt in o)if(W=o[mt],o.hasOwnProperty(mt)&&W!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":i.selected=!1;break;default:Zt(i,s,mt,null,u,W)}for(j in u)if(W=u[j],Z=o[j],u.hasOwnProperty(j)&&W!==Z&&(W!=null||Z!=null))switch(j){case"selected":i.selected=W&&typeof W!="function"&&typeof W!="symbol";break;default:Zt(i,s,j,W,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in o)W=o[_t],o.hasOwnProperty(_t)&&W!=null&&!u.hasOwnProperty(_t)&&Zt(i,s,_t,null,u,W);for(X in u)if(W=u[X],Z=o[X],u.hasOwnProperty(X)&&W!==Z&&(W!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:Zt(i,s,X,W,u,Z)}return;default:if(jl(s)){for(var Jt in o)W=o[Jt],o.hasOwnProperty(Jt)&&W!==void 0&&!u.hasOwnProperty(Jt)&&zp(i,s,Jt,void 0,u,W);for(et in u)W=u[et],Z=o[et],!u.hasOwnProperty(et)||W===Z||W===void 0&&Z===void 0||zp(i,s,et,W,u,Z);return}}for(var G in o)W=o[G],o.hasOwnProperty(G)&&W!=null&&!u.hasOwnProperty(G)&&Zt(i,s,G,null,u,W);for(st in u)W=u[st],Z=o[st],!u.hasOwnProperty(st)||W===Z||W==null&&Z==null||Zt(i,s,st,W,u,Z)}function vE(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B2(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],g=d.transferSize,T=d.initiatorType,C=d.duration;if(g&&C&&vE(T)){for(T=0,C=d.responseEnd,u+=1;u<o.length;u++){var j=o[u],X=j.startTime;if(X>C)break;var et=j.transferSize,st=j.initiatorType;et&&vE(st)&&(j=j.responseEnd,T+=et*(j<C?1:(C-X)/(j-X)))}if(--u,s+=8*(g+T)/(d.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Bp=null,Fp=null;function Xh(i){return i.nodeType===9?i:i.ownerDocument}function _E(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TE(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Hp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qp=null;function F2(){var i=window.event;return i&&i.type==="popstate"?i===qp?!1:(qp=i,!0):(qp=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,H2=typeof clearTimeout=="function"?clearTimeout:void 0,bE=typeof Promise=="function"?Promise:void 0,q2=typeof queueMicrotask=="function"?queueMicrotask:typeof bE<"u"?function(i){return bE.resolve(null).then(i).catch(G2)}:EE;function G2(i){setTimeout(function(){throw i})}function _s(i){return i==="head"}function wE(i,s){var o=s,u=0;do{var d=o.nextSibling;if(i.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(d),Ho(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Eu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Eu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,C=g.nodeName;g[tr]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Eu(i.ownerDocument.body);o=d}while(o);Ho(s)}function SE(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Gp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Gp(o),ra(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function K2(i,s,o,u){for(;i.nodeType===1;){var d=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[tr])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==d.rel||i.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||i.getAttribute("title")!==(d.title==null?null:d.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(d.src==null?null:d.src)||i.getAttribute("type")!==(d.type==null?null:d.type)||i.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=ei(i.nextSibling),i===null)break}return null}function $2(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=ei(i.nextSibling),i===null))return null;return i}function AE(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=ei(i.nextSibling),i===null))return null;return i}function Kp(i){return i.data==="$?"||i.data==="$~"}function $p(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Y2(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function ei(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Yp=null;function RE(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return ei(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function CE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function xE(i,s,o){switch(s=Xh(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Eu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ra(i)}var ni=new Map,IE=new Set;function Wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var br=ot.d;ot.d={f:Q2,r:X2,D:W2,C:Z2,L:J2,m:tI,X:nI,S:eI,M:iI};function Q2(){var i=br.f(),s=Fh();return i||s}function X2(i){var s=nr(i);s!==null&&s.tag===5&&s.type==="form"?K_(s):br.r(i)}var zo=typeof document>"u"?null:document;function DE(i,s,o){var u=zo;if(u&&typeof s=="string"&&s){var d=pe(s);d='link[rel="'+i+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),IE.has(d)||(IE.add(d),i={rel:i,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),Ze(s,"link",i),be(s),u.head.appendChild(s)))}}function W2(i){br.D(i),DE("dns-prefetch",i,null)}function Z2(i,s){br.C(i,s),DE("preconnect",i,s)}function J2(i,s,o){br.L(i,s,o);var u=zo;if(u&&i&&s){var d='link[rel="preload"][as="'+pe(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+pe(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+pe(o.imageSizes)+'"]')):d+='[href="'+pe(i)+'"]';var g=d;switch(s){case"style":g=Bo(i);break;case"script":g=Fo(i)}ni.has(g)||(i=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),ni.set(g,i),u.querySelector(d)!==null||s==="style"&&u.querySelector(bu(g))||s==="script"&&u.querySelector(wu(g))||(s=u.createElement("link"),Ze(s,"link",i),be(s),u.head.appendChild(s)))}}function tI(i,s){br.m(i,s);var o=zo;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+pe(u)+'"][href="'+pe(i)+'"]',g=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Fo(i)}if(!ni.has(g)&&(i=_({rel:"modulepreload",href:i},s),ni.set(g,i),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(wu(g)))return}u=o.createElement("link"),Ze(u,"link",i),be(u),o.head.appendChild(u)}}}function eI(i,s,o){br.S(i,s,o);var u=zo;if(u&&i){var d=ci(u).hoistableStyles,g=Bo(i);s=s||"default";var T=d.get(g);if(!T){var C={loading:0,preload:null};if(T=u.querySelector(bu(g)))C.loading=5;else{i=_({rel:"stylesheet",href:i,"data-precedence":s},o),(o=ni.get(g))&&Qp(i,o);var j=T=u.createElement("link");be(j),Ze(j,"link",i),j._p=new Promise(function(X,et){j.onload=X,j.onerror=et}),j.addEventListener("load",function(){C.loading|=1}),j.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Zh(T,s,u)}T={type:"stylesheet",instance:T,count:1,state:C},d.set(g,T)}}}function nI(i,s){br.X(i,s);var o=zo;if(o&&i){var u=ci(o).hoistableScripts,d=Fo(i),g=u.get(d);g||(g=o.querySelector(wu(d)),g||(i=_({src:i,async:!0},s),(s=ni.get(d))&&Xp(i,s),g=o.createElement("script"),be(g),Ze(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function iI(i,s){br.M(i,s);var o=zo;if(o&&i){var u=ci(o).hoistableScripts,d=Fo(i),g=u.get(d);g||(g=o.querySelector(wu(d)),g||(i=_({src:i,async:!0,type:"module"},s),(s=ni.get(d))&&Xp(i,s),g=o.createElement("script"),be(g),Ze(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(d,g))}}function NE(i,s,o,u){var d=(d=Et.current)?Wh(d):null;if(!d)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Bo(o.href),o=ci(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Bo(o.href);var g=ci(d).hoistableStyles,T=g.get(i);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=d.querySelector(bu(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ni.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ni.set(i,o),g||rI(d,i,o,T.state))),s&&u===null)throw Error(r(528,""));return T}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Fo(o),o=ci(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Bo(i){return'href="'+pe(i)+'"'}function bu(i){return'link[rel="stylesheet"]['+i+"]"}function ME(i){return _({},i,{"data-precedence":i.precedence,precedence:null})}function rI(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ze(s,"link",o),be(s),i.head.appendChild(s))}function Fo(i){return'[src="'+pe(i)+'"]'}function wu(i){return"script[async]"+i}function OE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+pe(o.href)+'"]');if(u)return s.instance=u,be(u),u;var d=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),be(u),Ze(u,"style",d),Zh(u,o.precedence,i),s.instance=u;case"stylesheet":d=Bo(o.href);var g=i.querySelector(bu(d));if(g)return s.state.loading|=4,s.instance=g,be(g),g;u=ME(o),(d=ni.get(d))&&Qp(u,d),g=(i.ownerDocument||i).createElement("link"),be(g);var T=g;return T._p=new Promise(function(C,j){T.onload=C,T.onerror=j}),Ze(g,"link",u),s.state.loading|=4,Zh(g,o.precedence,i),s.instance=g;case"script":return g=Fo(o.src),(d=i.querySelector(wu(g)))?(s.instance=d,be(d),d):(u=o,(d=ni.get(g))&&(u=_({},o),Xp(u,d)),i=i.ownerDocument||i,d=i.createElement("script"),be(d),Ze(d,"link",u),i.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Zh(u,o.precedence,i));return s.instance}function Zh(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,g=d,T=0;T<u.length;T++){var C=u[T];if(C.dataset.precedence===s)g=C;else if(g!==d)break}g?g.parentNode.insertBefore(i,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function Qp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function Xp(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Jh=null;function VE(i,s,o){if(Jh===null){var u=new Map,d=Jh=new Map;d.set(o,u)}else d=Jh,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),d=0;d<o.length;d++){var g=o[d];if(!(g[tr]||g[me]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=i+T;var C=u.get(T);C?C.push(g):u.set(T,[g])}}return u}function PE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function sI(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function kE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function aI(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Bo(u.href),g=s.querySelector(bu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=tf.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=g,be(g);return}g=s.ownerDocument||s,u=ME(u),(d=ni.get(d))&&Qp(u,d),g=g.createElement("link"),be(g);var T=g;T._p=new Promise(function(C,j){T.onload=C,T.onerror=j}),Ze(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=tf.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var Wp=0;function oI(i,s){return i.stylesheets&&i.count===0&&nf(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&nf(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+s);0<i.imgBytes&&Wp===0&&(Wp=62500*B2());var d=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nf(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Wp?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function tf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var ef=null;function nf(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,ef=new Map,s.forEach(lI,i),ef=null,tf.call(i))}function lI(i,s){if(!(s.state.loading&4)){var o=ef.get(i);if(o)var u=o.get(null);else{o=new Map,ef.set(i,o);for(var d=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),u=T)}u&&o.set(null,u)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||u,g===u&&o.set(null,d),o.set(T,d),this.count++,u=tf.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),g?g.parentNode.insertBefore(d,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(d,i.firstChild)),s.state.loading|=4}}var Su={$$typeof:P,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function uI(i,s,o,u,d,g,T,C,j){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zi(0),this.hiddenUpdates=Zi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function LE(i,s,o,u,d,g,T,C,j,X,et,st){return i=new uI(i,s,o,T,j,X,et,st,C),s=1,g===!0&&(s|=24),g=Vn(3,null,null,s),i.current=g,g.stateNode=i,s=Dm(),s.refCount++,i.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Vm(g),i}function UE(i){return i?(i=_o,i):_o}function jE(i,s,o,u,d,g){d=UE(d),u.context===null?u.context=d:u.pendingContext=d,u=ls(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=us(i,u,s),o!==null&&(Rn(o,i,s),nu(o,i,s))}function zE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function Zp(i,s){zE(i,s),(i=i.alternate)&&zE(i,s)}function BE(i){if(i.tag===13||i.tag===31){var s=ga(i,67108864);s!==null&&Rn(s,i,67108864),Zp(i,67108864)}}function FE(i){if(i.tag===13||i.tag===31){var s=jn();s=Ml(s);var o=ga(i,s);o!==null&&Rn(o,i,s),Zp(i,s)}}var rf=!0;function cI(i,s,o,u){var d=tt.T;tt.T=null;var g=ot.p;try{ot.p=2,Jp(i,s,o,u)}finally{ot.p=g,tt.T=d}}function hI(i,s,o,u){var d=tt.T;tt.T=null;var g=ot.p;try{ot.p=8,Jp(i,s,o,u)}finally{ot.p=g,tt.T=d}}function Jp(i,s,o,u){if(rf){var d=tg(u);if(d===null)jp(i,s,u,sf,o),qE(i,u);else if(dI(d,i,s,o,u))u.stopPropagation();else if(qE(i,u),s&4&&-1<fI.indexOf(i)){for(;d!==null;){var g=nr(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ui(g.pendingLanes);if(T!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;T;){var j=1<<31-dn(T);C.entanglements[1]|=j,T&=~j}Vi(g),(Gt&6)===0&&(zh=Ke()+500,vu(0))}}break;case 31:case 13:C=ga(g,2),C!==null&&Rn(C,g,2),Fh(),Zp(g,2)}if(g=tg(u),g===null&&jp(i,s,u,sf,o),g===d)break;d=g}d!==null&&u.stopPropagation()}else jp(i,s,u,null,o)}}function tg(i){return i=co(i),eg(i)}var sf=null;function eg(i){if(sf=null,i=er(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sf=i,null}function HE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lc()){case ke:return 2;case je:return 8;case Wi:case Uc:return 32;case xl:return 268435456;default:return 32}default:return 32}}var ng=!1,Ts=null,Es=null,bs=null,Au=new Map,Ru=new Map,ws=[],fI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qE(i,s){switch(i){case"focusin":case"focusout":Ts=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Au.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(s.pointerId)}}function Cu(i,s,o,u,d,g){return i===null||i.nativeEvent!==g?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[d]},s!==null&&(s=nr(s),s!==null&&BE(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),i)}function dI(i,s,o,u,d){switch(s){case"focusin":return Ts=Cu(Ts,i,s,o,u,d),!0;case"dragenter":return Es=Cu(Es,i,s,o,u,d),!0;case"mouseover":return bs=Cu(bs,i,s,o,u,d),!0;case"pointerover":var g=d.pointerId;return Au.set(g,Cu(Au.get(g)||null,i,s,o,u,d)),!0;case"gotpointercapture":return g=d.pointerId,Ru.set(g,Cu(Ru.get(g)||null,i,s,o,u,d)),!0}return!1}function GE(i){var s=er(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,zc(i.priority,function(){FE(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,zc(i.priority,function(){FE(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function af(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=tg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);uo=u,o.target.dispatchEvent(u),uo=null}else return s=nr(o),s!==null&&BE(s),i.blockedOn=o,!1;s.shift()}return!0}function KE(i,s,o){af(i)&&o.delete(s)}function mI(){ng=!1,Ts!==null&&af(Ts)&&(Ts=null),Es!==null&&af(Es)&&(Es=null),bs!==null&&af(bs)&&(bs=null),Au.forEach(KE),Ru.forEach(KE)}function of(i,s){i.blockedOn===s&&(i.blockedOn=null,ng||(ng=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mI)))}var lf=null;function $E(i){lf!==i&&(lf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){lf===i&&(lf=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],d=i[s+2];if(typeof u!="function"){if(eg(u||o)===null)continue;break}var g=nr(o);g!==null&&(i.splice(s,3),s-=3,tp(g,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Ho(i){function s(j){return of(j,i)}Ts!==null&&of(Ts,i),Es!==null&&of(Es,i),bs!==null&&of(bs,i),Au.forEach(s),Ru.forEach(s);for(var o=0;o<ws.length;o++){var u=ws[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)GE(o),o.blockedOn===null&&ws.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],g=o[u+1],T=d[Ye]||null;if(typeof g=="function")T||$E(o);else if(T){var C=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Ye]||null)C=T.formAction;else if(eg(d)!==null)continue}else C=T.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),$E(o)}}}function YE(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function ig(i){this._internalRoot=i}uf.prototype.render=ig.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=jn();jE(o,u,i,s,null,null)},uf.prototype.unmount=ig.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;jE(i.current,2,null,i,null,null),Fh(),s[Ai]=null}};function uf(i){this._internalRoot=i}uf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ji();i={blockedOn:null,target:i,priority:s};for(var o=0;o<ws.length&&s!==0&&s<ws[o].priority;o++);ws.splice(o,0,i),o===0&&GE(i)}};var QE=t.version;if(QE!=="19.2.0")throw Error(r(527,QE,"19.2.0"));ot.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(s),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var pI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{Lr=cf.inject(pI),rn=cf}catch{}}return Iu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",d=nT,g=iT,T=rT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=LE(i,1,!1,null,null,o,u,null,d,g,T,YE),i[Ai]=s.current,Up(i),new ig(s)},Iu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,d="",g=nT,T=iT,C=rT,j=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(j=o.formState)),s=LE(i,1,!0,s,o??null,u,d,j,g,T,C,YE),s.context=UE(null),o=s.current,u=jn(),u=Ml(u),d=ls(u),d.callback=null,us(o,d,u),o=u,s.current.lanes=o,zr(s,o),Vi(s),i[Ai]=s.current,Up(i),new uf(s)},Iu.version="19.2.0",Iu}var sb;function AI(){if(sb)return ag.exports;sb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ag.exports=SI(),ag.exports}var RI=AI();var ab="popstate";function CI(e={}){function t(a,l){let{pathname:c="/",search:f="",hash:m=""}=Ya(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Fg("",{pathname:c,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let m=a.location.href,p=m.indexOf("#");f=p===-1?m:m.slice(0,p)}return f+"#"+(typeof l=="string"?l:Zu(l))}function r(a,l){Hn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return II(t,n,r,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Hn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xI(){return Math.random().toString(36).substring(2,10)}function ob(e,t){return{usr:e.state,key:e.key,idx:t}}function Fg(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ya(t):t,state:n,key:t&&t.key||r||xI()}}function Zu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ya(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function II(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",m=null,p=y();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function y(){return(c.state||{idx:null}).idx}function _(){f="POP";let x=y(),V=x==null?null:x-p;p=x,m&&m({action:f,location:A.location,delta:V})}function E(x,V){f="PUSH";let L=Fg(A.location,x,V);n&&n(L,x),p=y()+1;let P=ob(L,p),K=A.createHref(L);try{c.pushState(P,"",K)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(K)}l&&m&&m({action:f,location:A.location,delta:1})}function S(x,V){f="REPLACE";let L=Fg(A.location,x,V);n&&n(L,x),p=y();let P=ob(L,p),K=A.createHref(L);c.replaceState(P,"",K),l&&m&&m({action:f,location:A.location,delta:0})}function D(x){return DI(x)}let A={get action(){return f},get location(){return e(a,c)},listen(x){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ab,_),m=x,()=>{a.removeEventListener(ab,_),m=null}},createHref(x){return t(a,x)},createURL:D,encodeLocation(x){let V=D(x);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:S,go(x){return c.go(x)}};return A}function DI(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Zu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function pA(e,t,n="/"){return NI(e,t,n,!1)}function NI(e,t,n,r){let a=typeof t=="string"?Ya(t):t,l=Dr(a.pathname||"/",n);if(l==null)return null;let c=gA(e);MI(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=HI(l);f=BI(c[m],p,r)}return f}function gA(e,t=[],n=[],r="",a=!1){let l=(c,f,m=a,p)=>{let y={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(r)&&m)return;le(y.relativePath.startsWith(r),`Absolute route path "${y.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(r.length)}let _=Rr([r,y.relativePath]),E=n.concat(y);c.children&&c.children.length>0&&(le(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),gA(c.children,t,E,_,m)),!(c.path==null&&!c.index)&&t.push({path:_,score:jI(_,c.index),routesMeta:E})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let m of yA(c.path))l(c,f,!0,m)}),t}function yA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=yA(r.join("/")),f=[];return f.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...c),f.map(m=>e.startsWith("/")&&m===""?"/":m)}function MI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:zI(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var OI=/^:[\w-]+$/,VI=3,PI=2,kI=1,LI=10,UI=-2,lb=e=>e==="*";function jI(e,t){let n=e.split("/"),r=n.length;return n.some(lb)&&(r+=UI),t&&(r+=PI),n.filter(a=>!lb(a)).reduce((a,l)=>a+(OI.test(l)?VI:l===""?kI:LI),r)}function zI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function BI(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let f=0;f<r.length;++f){let m=r[f],p=f===r.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),E=m.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Hf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),c.push({params:a,pathname:Rr([l,_.pathname]),pathnameBase:YI(Rr([l,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(l=Rr([l,_.pathnameBase]))}return c}function Hf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=FI(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},E)=>{if(y==="*"){let D=f[E]||"";c=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const S=f[E];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function FI(e,t=!1,n=!0){Hn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(r.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function HI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Hn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Dr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var qI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GI=e=>qI.test(e);function KI(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ya(e):e,l;if(n)if(GI(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Hn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=ub(n.substring(1),"/"):l=ub(n,t)}else l=t;return{pathname:l,search:QI(r),hash:XI(a)}}function ub(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function cg(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $I(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ky(e){let t=$I(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Ly(e,t,n,r=!1){let a;typeof e=="string"?a=Ya(e):(a={...e},le(!a.pathname||!a.pathname.includes("?"),cg("?","pathname","search",a)),le(!a.pathname||!a.pathname.includes("#"),cg("#","pathname","hash",a)),le(!a.search||!a.search.includes("#"),cg("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=n;else{let _=t.length-1;if(!r&&c.startsWith("..")){let E=c.split("/");for(;E[0]==="..";)E.shift(),_-=1;a.pathname=E.join("/")}f=_>=0?t[_]:"/"}let m=KI(a,f),p=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var Rr=e=>e.join("/").replace(/\/\/+/g,"/"),YI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vA=["POST","PUT","PATCH","DELETE"];new Set(vA);var ZI=["GET",...vA];new Set(ZI);var vl=M.createContext(null);vl.displayName="DataRouter";var Td=M.createContext(null);Td.displayName="DataRouterState";M.createContext(!1);var _A=M.createContext({isTransitioning:!1});_A.displayName="ViewTransition";var JI=M.createContext(new Map);JI.displayName="Fetchers";var tD=M.createContext(null);tD.displayName="Await";var Ei=M.createContext(null);Ei.displayName="Navigation";var pc=M.createContext(null);pc.displayName="Location";var $i=M.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var Uy=M.createContext(null);Uy.displayName="RouteError";function eD(e,{relative:t}={}){le(_l(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Ei),{hash:a,pathname:l,search:c}=gc(e,{relative:t}),f=l;return n!=="/"&&(f=l==="/"?n:Rr([n,l])),r.createHref({pathname:f,search:c,hash:a})}function _l(){return M.useContext(pc)!=null}function Ys(){return le(_l(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(pc).location}var TA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EA(e){M.useContext(Ei).static||M.useLayoutEffect(e)}function bA(){let{isDataRoute:e}=M.useContext($i);return e?mD():nD()}function nD(){le(_l(),"useNavigate() may be used only in the context of a <Router> component.");let e=M.useContext(vl),{basename:t,navigator:n}=M.useContext(Ei),{matches:r}=M.useContext($i),{pathname:a}=Ys(),l=JSON.stringify(ky(r)),c=M.useRef(!1);return EA(()=>{c.current=!0}),M.useCallback((m,p={})=>{if(Hn(c.current,TA),!c.current)return;if(typeof m=="number"){n.go(m);return}let y=Ly(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:Rr([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}M.createContext(null);function gc(e,{relative:t}={}){let{matches:n}=M.useContext($i),{pathname:r}=Ys(),a=JSON.stringify(ky(n));return M.useMemo(()=>Ly(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function iD(e,t){return wA(e,t)}function wA(e,t,n,r,a){le(_l(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Ei),{matches:c}=M.useContext($i),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",y=f?f.pathnameBase:"/",_=f&&f.route;{let L=_&&_.path||"";SA(p,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let E=Ys(),S;if(t){let L=typeof t=="string"?Ya(t):t;le(y==="/"||L.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),S=L}else S=E;let D=S.pathname||"/",A=D;if(y!=="/"){let L=y.replace(/^\//,"").split("/");A="/"+D.replace(/^\//,"").split("/").slice(L.length).join("/")}let x=pA(e,{pathname:A});Hn(_||x!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Hn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=lD(x&&x.map(L=>Object.assign({},L,{params:Object.assign({},m,L.params),pathname:Rr([y,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Rr([y,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,n,r,a);return t&&V?M.createElement(pc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},V):V}function rD(){let e=dD(),t=WI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:a},n):null,c)}var sD=M.createElement(rD,null),aD=class extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?M.createElement($i.Provider,{value:this.props.routeContext},M.createElement(Uy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oD({routeContext:e,match:t,children:n}){let r=M.useContext(vl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),M.createElement($i.Provider,{value:e},n)}function lD(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let y=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);le(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<l.length;y++){let _=l[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:E,errors:S}=n,D=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!S||S[_.route.id]===void 0);if(_.route.lazy||D){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let p=n&&r?(y,_)=>{r(y,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((y,_,E)=>{let S,D=!1,A=null,x=null;n&&(S=c&&_.route.id?c[_.route.id]:void 0,A=_.route.errorElement||sD,f&&(m<0&&E===0?(SA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,x=null):m===E&&(D=!0,x=_.route.hydrateFallbackElement||null)));let V=t.concat(l.slice(0,E+1)),L=()=>{let P;return S?P=A:D?P=x:_.route.Component?P=M.createElement(_.route.Component,null):_.route.element?P=_.route.element:P=y,M.createElement(oD,{match:_,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:P})};return n&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?M.createElement(aD,{location:n.location,revalidation:n.revalidation,component:A,error:S,children:L(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:p}):L()},null)}function jy(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uD(e){let t=M.useContext(vl);return le(t,jy(e)),t}function cD(e){let t=M.useContext(Td);return le(t,jy(e)),t}function hD(e){let t=M.useContext($i);return le(t,jy(e)),t}function zy(e){let t=hD(e),n=t.matches[t.matches.length-1];return le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function fD(){return zy("useRouteId")}function dD(){let e=M.useContext(Uy),t=cD("useRouteError"),n=zy("useRouteError");return e!==void 0?e:t.errors?.[n]}function mD(){let{router:e}=uD("useNavigate"),t=zy("useNavigate"),n=M.useRef(!1);return EA(()=>{n.current=!0}),M.useCallback(async(a,l={})=>{Hn(n.current,TA),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var cb={};function SA(e,t,n){!t&&!cb[e]&&(cb[e]=!0,Hn(!1,n))}M.memo(pD);function pD({routes:e,future:t,state:n,unstable_onError:r}){return wA(e,void 0,n,r,t)}function By({to:e,replace:t,state:n,relative:r}){le(_l(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=M.useContext(Ei);Hn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=M.useContext($i),{pathname:c}=Ys(),f=bA(),m=Ly(e,ky(l),c,r==="path"),p=JSON.stringify(m);return M.useEffect(()=>{f(JSON.parse(p),{replace:t,state:n,relative:r})},[f,p,r,t,n]),null}function Cf(e){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gD({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){le(!_l(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof n=="string"&&(n=Ya(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:E="default"}=n,S=M.useMemo(()=>{let D=Dr(m,c);return D==null?null:{location:{pathname:D,search:p,hash:y,state:_,key:E},navigationType:r}},[c,m,p,y,_,E,r]);return Hn(S!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(Ei.Provider,{value:f},M.createElement(pc.Provider,{children:t,value:S}))}function yD({children:e,location:t}){return iD(Hg(e),t)}function Hg(e,t=[]){let n=[];return M.Children.forEach(e,(r,a)=>{if(!M.isValidElement(r))return;let l=[...t,a];if(r.type===M.Fragment){n.push.apply(n,Hg(r.props.children,l));return}le(r.type===Cf,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Hg(r.props.children,l)),n.push(c)}),n}var xf="get",If="application/x-www-form-urlencoded";function Ed(e){return e!=null&&typeof e.tagName=="string"}function vD(e){return Ed(e)&&e.tagName.toLowerCase()==="button"}function _D(e){return Ed(e)&&e.tagName.toLowerCase()==="form"}function TD(e){return Ed(e)&&e.tagName.toLowerCase()==="input"}function ED(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bD(e,t){return e.button===0&&(!t||t==="_self")&&!ED(e)}var hf=null;function wD(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var SD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hg(e){return e!=null&&!SD.has(e)?(Hn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${If}"`),null):e}function AD(e,t){let n,r,a,l,c;if(_D(e)){let f=e.getAttribute("action");r=f?Dr(f,t):null,n=e.getAttribute("method")||xf,a=hg(e.getAttribute("enctype"))||If,l=new FormData(e)}else if(vD(e)||TD(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||f.getAttribute("action");if(r=m?Dr(m,t):null,n=e.getAttribute("formmethod")||f.getAttribute("method")||xf,a=hg(e.getAttribute("formenctype"))||hg(f.getAttribute("enctype"))||If,l=new FormData(f,e),!wD()){let{name:p,type:y,value:_}=e;if(y==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,_)}}else{if(Ed(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xf,r=null,a=If,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fy(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function RD(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Dr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function CD(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ID(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await CD(l,n);return c.links?c.links():[]}return[]}));return OD(r.flat(1).filter(xD).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hb(e,t,n,r,a,l){let c=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,f=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):l==="data"?t.filter((m,p)=>{let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function DD(e,t,{includeHydrateFallback:n}={}){return ND(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function ND(e){return[...new Set(e)]}function MD(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function OD(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(MD(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function AA(){let e=M.useContext(vl);return Fy(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function VD(){let e=M.useContext(Td);return Fy(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Hy=M.createContext(void 0);Hy.displayName="FrameworkContext";function RA(){let e=M.useContext(Hy);return Fy(e,"You must render this element inside a <HydratedRouter> element"),e}function PD(e,t){let n=M.useContext(Hy),[r,a]=M.useState(!1),[l,c]=M.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,E=M.useRef(null);M.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let A=V=>{V.forEach(L=>{c(L.isIntersecting)})},x=new IntersectionObserver(A,{threshold:.5});return E.current&&x.observe(E.current),()=>{x.disconnect()}}},[e]),M.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let S=()=>{a(!0)},D=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,E,{}]:[l,E,{onFocus:Du(f,S),onBlur:Du(m,D),onMouseEnter:Du(p,S),onMouseLeave:Du(y,D),onTouchStart:Du(_,S)}]:[!1,E,{}]}function Du(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function kD({page:e,...t}){let{router:n}=AA(),r=M.useMemo(()=>pA(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?M.createElement(UD,{page:e,matches:r,...t}):null}function LD(e){let{manifest:t,routeModules:n}=RA(),[r,a]=M.useState([]);return M.useEffect(()=>{let l=!1;return ID(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function UD({page:e,matches:t,...n}){let r=Ys(),{manifest:a,routeModules:l}=RA(),{basename:c}=AA(),{loaderData:f,matches:m}=VD(),p=M.useMemo(()=>hb(e,t,m,a,r,"data"),[e,t,m,a,r]),y=M.useMemo(()=>hb(e,t,m,a,r,"assets"),[e,t,m,a,r]),_=M.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let D=new Set,A=!1;if(t.forEach(V=>{let L=a.routes[V.route.id];!L||!L.hasLoader||(!p.some(P=>P.route.id===V.route.id)&&V.route.id in f&&l[V.route.id]?.shouldRevalidate||L.hasClientLoader?A=!0:D.add(V.route.id))}),D.size===0)return[];let x=RD(e,c,"data");return A&&D.size>0&&x.searchParams.set("_routes",t.filter(V=>D.has(V.route.id)).map(V=>V.route.id).join(",")),[x.pathname+x.search]},[c,f,r,a,p,t,e,l]),E=M.useMemo(()=>DD(y,a),[y,a]),S=LD(y);return M.createElement(M.Fragment,null,_.map(D=>M.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>M.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),S.map(({key:D,link:A})=>M.createElement("link",{key:D,nonce:n.nonce,...A})))}function jD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var CA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CA&&(window.__reactRouterVersion="7.9.6")}catch{}function zD({basename:e,children:t,window:n}){let r=M.useRef();r.current==null&&(r.current=CI({window:n,v5Compat:!0}));let a=r.current,[l,c]=M.useState({action:a.action,location:a.location}),f=M.useCallback(m=>{M.startTransition(()=>c(m))},[c]);return M.useLayoutEffect(()=>a.listen(f),[a,f]),M.createElement(gD,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var xA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IA=M.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:m,to:p,preventScrollReset:y,viewTransition:_,...E},S){let{basename:D}=M.useContext(Ei),A=typeof p=="string"&&xA.test(p),x,V=!1;if(typeof p=="string"&&A&&(x=p,CA))try{let N=new URL(window.location.href),U=p.startsWith("//")?new URL(N.protocol+p):new URL(p),z=Dr(U.pathname,D);U.origin===N.origin&&z!=null?p=z+U.search+U.hash:V=!0}catch{Hn(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=eD(p,{relative:a}),[P,K,q]=PD(r,E),Y=qD(p,{replace:c,state:f,target:m,preventScrollReset:y,relative:a,viewTransition:_});function R(N){t&&t(N),N.defaultPrevented||Y(N)}let w=M.createElement("a",{...E,...q,href:x||L,onClick:V||l?t:R,ref:jD(S,K),target:m,"data-discover":!A&&n==="render"?"true":void 0});return P&&!A?M.createElement(M.Fragment,null,w,M.createElement(kD,{page:L})):w});IA.displayName="Link";var BD=M.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:m,...p},y){let _=gc(c,{relative:p.relative}),E=Ys(),S=M.useContext(Td),{navigator:D,basename:A}=M.useContext(Ei),x=S!=null&&QD(_)&&f===!0,V=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,L=E.pathname,P=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(L=L.toLowerCase(),P=P?P.toLowerCase():null,V=V.toLowerCase()),P&&A&&(P=Dr(P,A)||P);const K=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let q=L===V||!a&&L.startsWith(V)&&L.charAt(K)==="/",Y=P!=null&&(P===V||!a&&P.startsWith(V)&&P.charAt(V.length)==="/"),R={isActive:q,isPending:Y,isTransitioning:x},w=q?t:void 0,N;typeof r=="function"?N=r(R):N=[r,q?"active":null,Y?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(R):l;return M.createElement(IA,{...p,"aria-current":w,className:N,ref:y,style:U,to:c,viewTransition:f},typeof m=="function"?m(R):m)});BD.displayName="NavLink";var FD=M.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=xf,action:f,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...E},S)=>{let D=$D(),A=YD(f,{relative:p}),x=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&xA.test(f),L=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let K=P.nativeEvent.submitter,q=K?.getAttribute("formmethod")||c;D(K||P.currentTarget,{fetcherKey:t,method:q,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return M.createElement("form",{ref:S,method:x,action:A,onSubmit:r?m:L,...E,"data-discover":!V&&e==="render"?"true":void 0})});FD.displayName="Form";function HD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DA(e){let t=M.useContext(vl);return le(t,HD(e)),t}function qD(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let f=bA(),m=Ys(),p=gc(e,{relative:l});return M.useCallback(y=>{if(bD(y,t)){y.preventDefault();let _=n!==void 0?n:Zu(m)===Zu(p);f(e,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[m,f,p,n,r,t,e,a,l,c])}var GD=0,KD=()=>`__${String(++GD)}__`;function $D(){let{router:e}=DA("useSubmit"),{basename:t}=M.useContext(Ei),n=fD();return M.useCallback(async(r,a={})=>{let{action:l,method:c,encType:f,formData:m,body:p}=AD(r,t);if(a.navigate===!1){let y=a.fetcherKey||KD();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||c,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function YD(e,{relative:t}={}){let{basename:n}=M.useContext(Ei),r=M.useContext($i);le(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...gc(e||".",{relative:t})},c=Ys();if(e==null){l.search=c.search;let f=new URLSearchParams(l.search),m=f.getAll("index");if(m.some(y=>y==="")){f.delete("index"),m.filter(_=>_).forEach(_=>f.append("index",_));let y=f.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Rr([n,l.pathname])),Zu(l)}function QD(e,{relative:t}={}){let n=M.useContext(_A);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=DA("useViewTransitionState"),a=gc(e,{relative:t});if(!n.isTransitioning)return!1;let l=Dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Hf(a.pathname,c)!=null||Hf(a.pathname,l)!=null}const XD=()=>{};var fb={};const NA=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},WD=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],c=e[n++],f=e[n++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],c=e[n++];t[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},MA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<e.length;a+=3){const l=e[a],c=a+1<e.length,f=c?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,S=p&63;m||(S=64,c||(E=64)),r.push(n[y],n[_],n[E],n[S])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(NA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):WD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],f=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||f==null||p==null||_==null)throw new ZD;const E=l<<2|f>>4;if(r.push(E),p!==64){const S=f<<4&240|p>>2;if(r.push(S),_!==64){const D=p<<6&192|_;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ZD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JD=function(e){const t=NA(e);return MA.encodeByteArray(t,!0)},qf=function(e){return JD(e).replace(/\./g,"")},OA=function(e){try{return MA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const eN=()=>tN().__FIREBASE_DEFAULTS__,nN=()=>{if(typeof process>"u"||typeof fb>"u")return;const e=fb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},iN=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&OA(e[1]);return t&&JSON.parse(t)},bd=()=>{try{return XD()||eN()||nN()||iN()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},VA=e=>{var t,n;return(n=(t=bd())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},PA=e=>{const t=VA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},kA=()=>{var e;return(e=bd())===null||e===void 0?void 0:e.config},LA=e=>{var t;return(t=bd())===null||t===void 0?void 0:t[`_${e}`]};class rN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}function Qs(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qy(e){return(await fetch(e,{credentials:"include"})).ok}function UA(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},e);return[qf(JSON.stringify(n)),qf(JSON.stringify(c)),""].join(".")}const Fu={};function sN(){const e={prod:[],emulator:[]};for(const t of Object.keys(Fu))Fu[t]?e.emulator.push(t):e.prod.push(t);return e}function aN(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let db=!1;function Gy(e,t){if(typeof window>"u"||typeof document>"u"||!Qs(window.location.host)||Fu[e]===t||Fu[e]||db)return;Fu[e]=t;function n(E){return`__firebase__banner__${E}`}const r="__firebase__banner",l=sN().prod.length>0;function c(){const E=document.getElementById(r);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,S){E.setAttribute("width","24"),E.setAttribute("id",S),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{db=!0,c()},E}function y(E,S){E.setAttribute("id",S),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=aN(r),S=n("text"),D=document.getElementById(S)||document.createElement("span"),A=n("learnmore"),x=document.getElementById(A)||document.createElement("a"),V=n("preprendIcon"),L=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const P=E.element;f(P),y(x,A);const K=p();m(L,V),P.append(L,D,x,K),document.body.appendChild(P)}l?(D.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function lN(){var e;const t=(e=bd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function hN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fN(){const e=fn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function dN(){return!lN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mN(){try{return typeof indexedDB=="object"}catch{return!1}}function pN(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}const gN="FirebaseError";class Yi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=gN,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yc.prototype.create)}}class yc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?yN(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new Yi(a,f,r)}}function yN(e,t){return e.replace(vN,(n,r)=>{const a=t[r];return a!=null?String(a):`<${r}?>`})}const vN=/\{\$([^}]+)}/g;function _N(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Fa(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const a of n){if(!r.includes(a))return!1;const l=e[a],c=t[a];if(mb(l)&&mb(c)){if(!Fa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function mb(e){return e!==null&&typeof e=="object"}function vc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function TN(e,t){const n=new EN(e,t);return n.subscribe.bind(n)}class EN{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let a;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bN(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:r},a.next===void 0&&(a.next=fg),a.error===void 0&&(a.error=fg),a.complete===void 0&&(a.complete=fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bN(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function fg(){}function fe(e){return e&&e._delegate?e._delegate:e}class Us{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Da="[DEFAULT]";class wN{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new rN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),a=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(AN(t))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(t=Da){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Da){return this.instances.has(t)}getOptions(t=Da){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(t,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SN(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Da){return this.component?this.component.multipleInstances?t:Da:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SN(e){return e===Da?void 0:e}function AN(e){return e.instantiationMode==="EAGER"}class RN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wN(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ut||(Ut={}));const CN={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},xN=Ut.INFO,IN={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},DN=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),a=IN[t];if(a)console[a](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ky{constructor(t){this.name=t,this._logLevel=xN,this._logHandler=DN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const NN=(e,t)=>t.some(n=>e instanceof n);let pb,gb;function MN(){return pb||(pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ON(){return gb||(gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jA=new WeakMap,qg=new WeakMap,zA=new WeakMap,dg=new WeakMap,$y=new WeakMap;function VN(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",c)},l=()=>{n(Vs(e.result)),a()},c=()=>{r(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&jA.set(n,e)}).catch(()=>{}),$y.set(t,e),t}function PN(e){if(qg.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",c),e.removeEventListener("abort",c)},l=()=>{n(),a()},c=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",c),e.addEventListener("abort",c)});qg.set(e,t)}let Gg={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qg.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function kN(e){Gg=e(Gg)}function LN(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(mg(this),t,...n);return zA.set(r,t.sort?t.sort():[t]),Vs(r)}:ON().includes(e)?function(...t){return e.apply(mg(this),t),Vs(jA.get(this))}:function(...t){return Vs(e.apply(mg(this),t))}}function UN(e){return typeof e=="function"?LN(e):(e instanceof IDBTransaction&&PN(e),NN(e,MN())?new Proxy(e,Gg):e)}function Vs(e){if(e instanceof IDBRequest)return VN(e);if(dg.has(e))return dg.get(e);const t=UN(e);return t!==e&&(dg.set(e,t),$y.set(t,e)),t}const mg=e=>$y.get(e);function jN(e,t,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(e,t),f=Vs(c);return r&&c.addEventListener("upgradeneeded",m=>{r(Vs(c.result),m.oldVersion,m.newVersion,Vs(c.transaction),m)}),n&&c.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const zN=["get","getKey","getAll","getAllKeys","count"],BN=["put","add","delete","clear"],pg=new Map;function yb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pg.get(t))return pg.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=BN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||zN.includes(n)))return;const l=async function(c,...f){const m=this.transaction(c,a?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&m.done]))[0]};return pg.set(t,l),l}kN(e=>({...e,get:(t,n,r)=>yb(t,n)||e.get(t,n,r),has:(t,n)=>!!yb(t,n)||e.has(t,n)}));class FN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HN(e){const t=e.getComponent();return t?.type==="VERSION"}const Kg="@firebase/app",vb="0.13.2";const Nr=new Ky("@firebase/app"),qN="@firebase/app-compat",GN="@firebase/analytics-compat",KN="@firebase/analytics",$N="@firebase/app-check-compat",YN="@firebase/app-check",QN="@firebase/auth",XN="@firebase/auth-compat",WN="@firebase/database",ZN="@firebase/data-connect",JN="@firebase/database-compat",tM="@firebase/functions",eM="@firebase/functions-compat",nM="@firebase/installations",iM="@firebase/installations-compat",rM="@firebase/messaging",sM="@firebase/messaging-compat",aM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",uM="@firebase/remote-config-compat",cM="@firebase/storage",hM="@firebase/storage-compat",fM="@firebase/firestore",dM="@firebase/ai",mM="@firebase/firestore-compat",pM="firebase",gM="11.10.0";const $g="[DEFAULT]",yM={[Kg]:"fire-core",[qN]:"fire-core-compat",[KN]:"fire-analytics",[GN]:"fire-analytics-compat",[YN]:"fire-app-check",[$N]:"fire-app-check-compat",[QN]:"fire-auth",[XN]:"fire-auth-compat",[WN]:"fire-rtdb",[ZN]:"fire-data-connect",[JN]:"fire-rtdb-compat",[tM]:"fire-fn",[eM]:"fire-fn-compat",[nM]:"fire-iid",[iM]:"fire-iid-compat",[rM]:"fire-fcm",[sM]:"fire-fcm-compat",[aM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[uM]:"fire-rc-compat",[cM]:"fire-gcs",[hM]:"fire-gcs-compat",[fM]:"fire-fst",[mM]:"fire-fst-compat",[dM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};const Gf=new Map,vM=new Map,Yg=new Map;function _b(e,t){try{e.container.addComponent(t)}catch(n){Nr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ha(e){const t=e.name;if(Yg.has(t))return Nr.debug(`There were multiple attempts to register component ${t}.`),!1;Yg.set(t,e);for(const n of Gf.values())_b(n,e);for(const n of vM.values())_b(n,e);return!0}function wd(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function si(e){return e==null?!1:e.settings!==void 0}const _M={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ps=new yc("app","Firebase",_M);class TM{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}const Qa=gM;function BA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:$g,automaticDataCollectionEnabled:!0},t),a=r.name;if(typeof a!="string"||!a)throw Ps.create("bad-app-name",{appName:String(a)});if(n||(n=kA()),!n)throw Ps.create("no-options");const l=Gf.get(a);if(l){if(Fa(n,l.options)&&Fa(r,l.config))return l;throw Ps.create("duplicate-app",{appName:a})}const c=new RN(a);for(const m of Yg.values())c.addComponent(m);const f=new TM(n,r,c);return Gf.set(a,f),f}function Yy(e=$g){const t=Gf.get(e);if(!t&&e===$g&&kA())return BA();if(!t)throw Ps.create("no-app",{appName:e});return t}function Li(e,t,n){var r;let a=(r=yM[e])!==null&&r!==void 0?r:e;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const f=[`Unable to register library "${a}" with version "${t}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nr.warn(f.join(" "));return}Ha(new Us(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const EM="firebase-heartbeat-database",bM=1,Ju="firebase-heartbeat-store";let gg=null;function FA(){return gg||(gg=jN(EM,bM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ju)}catch(n){console.warn(n)}}}}).catch(e=>{throw Ps.create("idb-open",{originalErrorMessage:e.message})})),gg}async function wM(e){try{const n=(await FA()).transaction(Ju),r=await n.objectStore(Ju).get(HA(e));return await n.done,r}catch(t){if(t instanceof Yi)Nr.warn(t.message);else{const n=Ps.create("idb-get",{originalErrorMessage:t?.message});Nr.warn(n.message)}}}async function Tb(e,t){try{const r=(await FA()).transaction(Ju,"readwrite");await r.objectStore(Ju).put(t,HA(e)),await r.done}catch(n){if(n instanceof Yi)Nr.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n?.message});Nr.warn(r.message)}}}function HA(e){return`${e.name}!${e.options.appId}`}const SM=1024,AM=30;class RM{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Eb();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>AM){const c=IM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Nr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Eb(),{heartbeatsToSend:r,unsentEntries:a}=CM(this._heartbeatsCache.heartbeats),l=qf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Nr.warn(n),""}}}function Eb(){return new Date().toISOString().substring(0,10)}function CM(e,t=SM){const n=[];let r=e.slice();for(const a of e){const l=n.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),bb(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),bb(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mN()?pN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wM(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Tb(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function bb(e){return qf(JSON.stringify({version:2,heartbeats:e})).length}function IM(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function DM(e){Ha(new Us("platform-logger",t=>new FN(t),"PRIVATE")),Ha(new Us("heartbeat",t=>new RM(t),"PRIVATE")),Li(Kg,vb,e),Li(Kg,vb,"esm2017"),Li("fire-js","")}DM("");function Qy(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function qA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NM=qA,GA=new yc("auth","Firebase",qA());const Kf=new Ky("@firebase/auth");function MM(e,...t){Kf.logLevel<=Ut.WARN&&Kf.warn(`Auth (${Qa}): ${e}`,...t)}function Df(e,...t){Kf.logLevel<=Ut.ERROR&&Kf.error(`Auth (${Qa}): ${e}`,...t)}function Gi(e,...t){throw Wy(e,...t)}function _i(e,...t){return Wy(e,...t)}function Xy(e,t,n){const r=Object.assign(Object.assign({},NM()),{[t]:n});return new yc("auth","Firebase",r).create(t,{appName:e.name})}function La(e){return Xy(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OM(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&Gi(e,"argument-error"),Xy(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return GA.create(e,...t)}function wt(e,t,...n){if(!e)throw Wy(t,...n)}function Sr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Df(t),new Error(t)}function Mr(e,t){e||Sr(t)}function Qg(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function VM(){return wb()==="http:"||wb()==="https:"}function wb(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function PM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VM()||cN()||"connection"in navigator)?navigator.onLine:!0}function kM(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class _c{constructor(t,n){this.shortDelay=t,this.longDelay=n,Mr(n>t,"Short delay should be less than long delay!"),this.isMobile=oN()||hN()}get(){return PM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zy(e,t){Mr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class KA{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jM=new _c(3e4,6e4);function Jy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Tl(e,t,n,r,a={}){return $A(e,a,async()=>{let l={},c={};r&&(t==="GET"?c=r:l={body:JSON.stringify(r)});const f=vc(Object.assign({key:e.config.apiKey},c)).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p=Object.assign({method:t,headers:m},l);return uN()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&Qs(e.emulatorConfig.host)&&(p.credentials="include"),KA.fetch()(await YA(e,e.config.apiHost,n,f),p)})}async function $A(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},LM),t);try{const a=new BM(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ff(e,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ff(e,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ff(e,"email-already-in-use",c);if(m==="USER_DISABLED")throw ff(e,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Xy(e,y,p);Gi(e,y)}}catch(a){if(a instanceof Yi)throw a;Gi(e,"network-request-failed",{message:String(a)})}}async function zM(e,t,n,r,a={}){const l=await Tl(e,t,n,r,a);return"mfaPendingCredential"in l&&Gi(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function YA(e,t,n,r){const a=`${t}${n}?${r}`,l=e,c=l.config.emulator?Zy(e.config,a):`${e.config.apiScheme}://${a}`;return UM.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class BM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_i(this.auth,"network-request-failed")),jM.get())})}}function ff(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=_i(e,t,r);return a.customData._tokenResponse=n,a}async function FM(e,t){return Tl(e,"POST","/v1/accounts:delete",t)}async function $f(e,t){return Tl(e,"POST","/v1/accounts:lookup",t)}function Hu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function HM(e,t=!1){const n=fe(e),r=await n.getIdToken(t),a=tv(r);wt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Hu(yg(a.auth_time)),issuedAtTime:Hu(yg(a.iat)),expirationTime:Hu(yg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function yg(e){return Number(e)*1e3}function tv(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const a=OA(n);return a?JSON.parse(a):(Df("Failed to decode base64 JWT payload"),null)}catch(a){return Df("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Sb(e){const t=tv(e);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function tc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Yi&&qM(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function qM({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class GM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hu(this.lastLoginAt),this.creationTime=Hu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yf(e){var t;const n=e.auth,r=await e.getIdToken(),a=await tc(e,$f(n,{idToken:r}));wt(a?.users.length,n,"internal-error");const l=a.users[0];e._notifyReloadListener(l);const c=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?QA(l.providerUserInfo):[],f=$M(e.providerData,c),m=e.isAnonymous,p=!(e.email&&l.passwordHash)&&!f?.length,y=m?p:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Xg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(e,_)}async function KM(e){const t=fe(e);await Yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function $M(e,t){return[...e.filter(r=>!t.some(a=>a.providerId===r.providerId)),...t]}function QA(e){return e.map(t=>{var{providerId:n}=t,r=Qy(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function YM(e,t){const n=await $A(e,{},async()=>{const r=vc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,c=await YA(e,a,"/v1/token",`key=${l}`),f=await e._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:r};return e.emulatorConfig&&Qs(e.emulatorConfig.host)&&(m.credentials="include"),KA.fetch()(c,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QM(e,t){return Tl(e,"POST","/v2/accounts:revokeToken",Jy(e,t))}class nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Sb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const n=Sb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await YM(t,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,c=new nl;return r&&(wt(typeof r=="string","internal-error",{appName:t}),c.refreshToken=r),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nl,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function As(e,t){wt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vi{constructor(t){var{uid:n,auth:r,stsTokenManager:a}=t,l=Qy(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await tc(this,this.stsTokenManager.getToken(this.auth,t));return wt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return HM(this,t)}reload(){return KM(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new vi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(La(this.auth));const t=await this.getIdToken();return await tc(this,FM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,a,l,c,f,m,p,y;const _=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,S=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,D=(c=n.photoURL)!==null&&c!==void 0?c:void 0,A=(f=n.tenantId)!==null&&f!==void 0?f:void 0,x=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,V=(p=n.createdAt)!==null&&p!==void 0?p:void 0,L=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:P,emailVerified:K,isAnonymous:q,providerData:Y,stsTokenManager:R}=n;wt(P&&R,t,"internal-error");const w=nl.fromJSON(this.name,R);wt(typeof P=="string",t,"internal-error"),As(_,t.name),As(E,t.name),wt(typeof K=="boolean",t,"internal-error"),wt(typeof q=="boolean",t,"internal-error"),As(S,t.name),As(D,t.name),As(A,t.name),As(x,t.name),As(V,t.name),As(L,t.name);const N=new vi({uid:P,auth:t,email:E,emailVerified:K,displayName:_,isAnonymous:q,photoURL:D,phoneNumber:S,tenantId:A,stsTokenManager:w,createdAt:V,lastLoginAt:L});return Y&&Array.isArray(Y)&&(N.providerData=Y.map(U=>Object.assign({},U))),x&&(N._redirectEventId=x),N}static async _fromIdTokenResponse(t,n,r=!1){const a=new nl;a.updateFromServerResponse(n);const l=new vi({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:r});return await Yf(l),l}static async _fromGetAccountInfoResponse(t,n,r){const a=n.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?QA(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new nl;f.updateFromIdToken(r);const m=new vi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Ab=new Map;function Ar(e){Mr(e instanceof Function,"Expected a class definition");let t=Ab.get(e);return t?(Mr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ab.set(e,t),t)}class XA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XA.type="NONE";const Rb=XA;function Nf(e,t,n){return`firebase:${e}:${t}:${n}`}class il{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Nf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Nf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await $f(this.auth,{idToken:t}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new il(Ar(Rb),t,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ar(Rb);const c=Nf(r,t.config.apiKey,t.name);let f=null;for(const p of n)try{const y=await p._get(c);if(y){let _;if(typeof y=="string"){const E=await $f(t,{idToken:y}).catch(()=>{});if(!E)break;_=await vi._fromGetAccountInfoResponse(t,E,y)}else _=vi._fromJSON(t,y);p!==l&&(f=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new il(l,t,r):(l=m[0],f&&await l._set(c,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new il(l,t,r))}}function Cb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(n1(t))return"Blackberry";if(i1(t))return"Webos";if(ZA(t))return"Safari";if((t.includes("chrome/")||JA(t))&&!t.includes("edge/"))return"Chrome";if(e1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if(r?.length===2)return r[1]}return"Other"}function WA(e=fn()){return/firefox\//i.test(e)}function ZA(e=fn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function JA(e=fn()){return/crios\//i.test(e)}function t1(e=fn()){return/iemobile/i.test(e)}function e1(e=fn()){return/android/i.test(e)}function n1(e=fn()){return/blackberry/i.test(e)}function i1(e=fn()){return/webos/i.test(e)}function ev(e=fn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function XM(e=fn()){var t;return ev(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function WM(){return fN()&&document.documentMode===10}function r1(e=fn()){return ev(e)||e1(e)||i1(e)||n1(e)||/windows phone/i.test(e)||t1(e)}function s1(e,t=[]){let n;switch(e){case"Browser":n=Cb(fn());break;case"Worker":n=`${Cb(fn())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qa}/${r}`}class ZM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((c,f)=>{try{const m=t(l);c(m)}catch(m){f(m)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function JM(e,t={}){return Tl(e,"GET","/v2/passwordPolicy",Jy(e,t))}const tO=6;class eO{constructor(t){var n,r,a,l;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:tO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,a,l,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<t.length;a++)r=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class nO{constructor(t,n,r,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xb(this),this.idTokenSubscription=new xb(this),this.beforeStateQueue=new ZM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ar(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await il.create(this,t),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await $f(this,{idToken:t}),r=await vi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a?._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&m?.user&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Yf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(La(this));const n=t?fe(t):null;return n&&wt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(La(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(La(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JM(this),n=new eO(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QM(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ar(t)||this._popupRedirectResolver;wt(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[Ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,r,a);return()=>{c=!0,m()}}else{const m=t.addObserver(n);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=s1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var t;if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n?.error&&MM(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Sd(e){return fe(e)}class xb{constructor(t){this.auth=t,this.observer=null,this.addObserver=TN(n=>this.observer=n)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iO(e){nv=e}function rO(e){return nv.loadJS(e)}function sO(){return nv.gapiScript}function aO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function oO(e,t){const n=wd(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Fa(l,t??{}))return a;Gi(a,"already-initialized")}return n.initialize({options:t})}function lO(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ar);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function uO(e,t,n){const r=Sd(e);wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const a=!1,l=a1(t),{host:c,port:f}=cO(t),m=f===null?"":`:${f}`,p={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){wt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),wt(Fa(p,r.config.emulator)&&Fa(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,Qs(c)?(qy(`${l}//${c}${m}`),Gy("Auth",!0)):hO()}function a1(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cO(e){const t=a1(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:Ib(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:Ib(c)}}}function Ib(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function hO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class o1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Sr("not implemented")}_getIdTokenResponse(t){return Sr("not implemented")}_linkToIdToken(t,n){return Sr("not implemented")}_getReauthenticationResolver(t){return Sr("not implemented")}}async function rl(e,t){return zM(e,"POST","/v1/accounts:signInWithIdp",Jy(e,t))}const fO="http://localhost";class qa extends o1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:a}=n,l=Qy(n,["providerId","signInMethod"]);if(!r||!a)return null;const c=new qa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return rl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,rl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,rl(t,n)}buildRequest(){const t={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=vc(n)}return t}}class iv{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Tc extends iv{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Is extends Tc{constructor(){super("facebook.com")}static credential(t){return qa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Is.credential(t.oauthAccessToken)}catch{return null}}}Is.FACEBOOK_SIGN_IN_METHOD="facebook.com";Is.PROVIDER_ID="facebook.com";class wr extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return qa._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return wr.credential(n,r)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Ds extends Tc{constructor(){super("github.com")}static credential(t){return qa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ds.credentialFromTaggedObject(t)}static credentialFromError(t){return Ds.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ds.credential(t.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";class Ns extends Tc{constructor(){super("twitter.com")}static credential(t,n){return qa._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";class ol{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,a=!1){const l=await vi._fromIdTokenResponse(t,r,a),c=Db(r);return new ol({user:l,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const a=Db(r);return new ol({user:t,providerId:a,_tokenResponse:r,operationType:n})}}function Db(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Qf extends Yi{constructor(t,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Qf.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,a){return new Qf(t,n,r,a)}}function l1(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Qf._fromErrorAndOperation(e,l,t,r):l})}async function dO(e,t,n=!1){const r=await tc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ol._forOperation(e,"link",r)}async function mO(e,t,n=!1){const{auth:r}=e;if(si(r.app))return Promise.reject(La(r));const a="reauthenticate";try{const l=await tc(e,l1(r,a,t,e),n);wt(l.idToken,r,"internal-error");const c=tv(l.idToken);wt(c,r,"internal-error");const{sub:f}=c;return wt(e.uid===f,r,"user-mismatch"),ol._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gi(r,"user-mismatch"),l}}async function pO(e,t,n=!1){if(si(e.app))return Promise.reject(La(e));const r="signIn",a=await l1(e,r,t),l=await ol._fromIdTokenResponse(e,r,a);return n||await e._updateCurrentUser(l.user),l}function gO(e,t,n,r){return fe(e).onIdTokenChanged(t,n,r)}function yO(e,t,n){return fe(e).beforeAuthStateChanged(t,n)}function vO(e,t,n,r){return fe(e).onAuthStateChanged(t,n,r)}function vg(e){return fe(e).signOut()}const Xf="__sak";class u1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xf,"1"),this.storage.removeItem(Xf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _O=1e3,TO=10;class c1 extends u1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&t(n,a,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const r=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);WM()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,TO):a()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},_O)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}c1.type="LOCAL";const EO=c1;class h1 extends u1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}h1.type="SESSION";const f1=h1;function bO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ad{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const r=new Ad(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:a,data:l}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async p=>p(n.origin,l)),m=await bO(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ad.receivers=[];function rv(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}class wO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,m)=>{const p=rv("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ui(){return window}function SO(e){Ui().location.href=e}function d1(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function AO(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RO(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function CO(){return d1()?self:null}const m1="firebaseLocalStorageDb",xO=1,Wf="firebaseLocalStorage",p1="fbase_key";class Ec{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rd(e,t){return e.transaction([Wf],t?"readwrite":"readonly").objectStore(Wf)}function IO(){const e=indexedDB.deleteDatabase(m1);return new Ec(e).toPromise()}function Wg(){const e=indexedDB.open(m1,xO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(Wf,{keyPath:p1})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Wf)?t(r):(r.close(),await IO(),t(await Wg()))})})}async function Nb(e,t,n){const r=Rd(e,!0).put({[p1]:t,value:n});return new Ec(r).toPromise()}async function DO(e,t){const n=Rd(e,!1).get(t),r=await new Ec(n).toPromise();return r===void 0?null:r.value}function Mb(e,t){const n=Rd(e,!0).delete(t);return new Ec(n).toPromise()}const NO=800,MO=3;class g1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>MO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ad._getInstance(CO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await AO(),!this.activeServiceWorker)return;this.sender=new wO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wg();return await Nb(t,Xf,"1"),await Mb(t,Xf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nb(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>DO(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new Ec(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g1.type="LOCAL";const OO=g1;new _c(3e4,6e4);function y1(e,t){return t?Ar(t):(wt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class sv extends o1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return rl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return rl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function VO(e){return pO(e.auth,new sv(e),e.bypassAuthState)}function PO(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),mO(n,new sv(e),e.bypassAuthState)}async function kO(e){const{auth:t,user:n}=e;return wt(n,t,"internal-error"),dO(n,new sv(e),e.bypassAuthState)}class v1{constructor(t,n,r,a,l=!1){this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return VO;case"linkViaPopup":case"linkViaRedirect":return kO;case"reauthViaPopup":case"reauthViaRedirect":return PO;default:Gi(this.auth,"internal-error")}}resolve(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LO=new _c(2e3,1e4);async function UO(e,t,n){if(si(e.app))return Promise.reject(_i(e,"operation-not-supported-in-this-environment"));const r=Sd(e);OM(e,t,iv);const a=y1(r,n);return new Va(r,"signInViaPopup",t,a).executeNotNull()}class Va extends v1{constructor(t,n,r,a,l){super(t,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Va.currentPopupAction&&Va.currentPopupAction.cancel(),Va.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const t=rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Va.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,LO.get())};t()}}Va.currentPopupAction=null;const jO="pendingRedirect",Mf=new Map;class zO extends v1{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Mf.get(this.auth._key());if(!t){try{const r=await BO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Mf.set(this.auth._key(),t)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BO(e,t){const n=qO(t),r=HO(e);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function FO(e,t){Mf.set(e._key(),t)}function HO(e){return Ar(e._redirectPersistence)}function qO(e){return Nf(jO,e.config.apiKey,e.name)}async function GO(e,t,n=!1){if(si(e.app))return Promise.reject(La(e));const r=Sd(e),a=y1(r,t),c=await new zO(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,t)),c}const KO=600*1e3;class $O{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!_1(t)){const a=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,a))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(t))}saveEventToCache(t){this.cachedEventUids.add(Ob(t)),this.lastProcessedEventTime=Date.now()}}function Ob(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function _1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function YO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _1(e);default:return!1}}async function QO(e,t={}){return Tl(e,"GET","/v1/projects",t)}const XO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WO=/^https?/;async function ZO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await QO(e);for(const n of t)try{if(JO(n))return}catch{}Gi(e,"unauthorized-domain")}function JO(e){const t=Qg(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!WO.test(n))return!1;if(XO.test(e))return r===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const tV=new _c(3e4,6e4);function Vb(){const e=Ui().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function eV(e){return new Promise((t,n)=>{var r,a,l;function c(){Vb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Vb(),n(_i(e,"network-request-failed"))},timeout:tV.get()})}if(!((a=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)t(gapi.iframes.getContext());else if(!((l=Ui().gapi)===null||l===void 0)&&l.load)c();else{const f=aO("iframefcb");return Ui()[f]=()=>{gapi.load?c():n(_i(e,"network-request-failed"))},rO(`${sO()}?onload=${f}`).catch(m=>n(m))}}).catch(t=>{throw Of=null,t})}let Of=null;function nV(e){return Of=Of||eV(e),Of}const iV=new _c(5e3,15e3),rV="__/auth/iframe",sV="emulator/auth/iframe",aV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lV(e){const t=e.config;wt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Zy(t,sV):`https://${e.config.authDomain}/${rV}`,r={apiKey:t.apiKey,appName:e.name,v:Qa},a=oV.get(e.config.apiHost);a&&(r.eid=a);const l=e._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${vc(r).slice(1)}`}async function uV(e){const t=await nV(e),n=Ui().gapi;return wt(n,e,"internal-error"),t.open({where:document.body,url:lV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aV,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=_i(e,"network-request-failed"),f=Ui().setTimeout(()=>{l(c)},iV.get());function m(){Ui().clearTimeout(f),a(r)}r.ping(m).then(m,()=>{l(c)})}))}const cV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hV=500,fV=600,dV="_blank",mV="http://localhost";class Pb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pV(e,t,n,r=hV,a=fV){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},cV),{width:r.toString(),height:a.toString(),top:l,left:c}),p=fn().toLowerCase();n&&(f=JA(p)?dV:n),WA(p)&&(t=t||mV,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[S,D])=>`${E}${S}=${D},`,"");if(XM(p)&&f!=="_self")return gV(t||"",f),new Pb(null);const _=window.open(t||"",f,y);wt(_,e,"popup-blocked");try{_.focus()}catch{}return new Pb(_)}function gV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const yV="__/auth/handler",vV="emulator/auth/handler",_V=encodeURIComponent("fac");async function kb(e,t,n,r,a,l){wt(e.config.authDomain,e,"auth-domain-config-required"),wt(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qa,eventId:a};if(t instanceof iv){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",_N(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))c[y]=_}if(t instanceof Tc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(c.scopes=y.join(","))}e.tenantId&&(c.tid=e.tenantId);const f=c;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await e._getAppCheckToken(),p=m?`#${_V}=${encodeURIComponent(m)}`:"";return`${TV(e)}?${vc(f).slice(1)}${p}`}function TV({config:e}){return e.emulator?Zy(e,vV):`https://${e.authDomain}/${yV}`}const _g="webStorageSupport";class EV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f1,this._completeRedirectFn=GO,this._overrideRedirectResult=FO}async _openPopup(t,n,r,a){var l;Mr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await kb(t,n,r,Qg(),a);return pV(t,c,rv())}async _openRedirect(t,n,r,a){await this._originValidation(t);const l=await kb(t,n,r,Qg(),a);return SO(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Mr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await uV(t),r=new $O(t);return n.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(_g,{type:_g},a=>{var l;const c=(l=a?.[0])===null||l===void 0?void 0:l[_g];c!==void 0&&n(!!c),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ZO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return r1()||ZA()||ev()}}const bV=EV;var Lb="@firebase/auth",Ub="1.10.8";class wV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AV(e){Ha(new Us("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:f,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s1(e)},p=new nO(r,a,l,m);return lO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ha(new Us("auth-internal",t=>{const n=Sd(t.getProvider("auth").getImmediate());return(r=>new wV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(Lb,Ub,SV(e)),Li(Lb,Ub,"esm2017")}const RV=300,CV=LA("authIdTokenMaxAge")||RV;let jb=null;const xV=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>CV)return;const a=n?.token;jb!==a&&(jb=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function IV(e=Yy()){const t=wd(e,"auth");if(t.isInitialized())return t.getImmediate();const n=oO(e,{popupRedirectResolver:bV,persistence:[OO,EO,f1]}),r=LA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=xV(l.toString());yO(n,c,()=>c(n.currentUser)),gO(n,f=>c(f))}}const a=VA("auth");return a&&uO(n,`http://${a}`),n}function DV(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}iO({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=a=>{const l=_i("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",DV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AV("Browser");var zb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ks,T1;(function(){var e;function t(R,w){function N(){}N.prototype=w.prototype,R.D=w.prototype,R.prototype=new N,R.prototype.constructor=R,R.C=function(U,z,H){for(var k=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)k[Xt-2]=arguments[Xt];return w.prototype[z].apply(U,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,w,N){N||(N=0);var U=Array(16);if(typeof w=="string")for(var z=0;16>z;++z)U[z]=w.charCodeAt(N++)|w.charCodeAt(N++)<<8|w.charCodeAt(N++)<<16|w.charCodeAt(N++)<<24;else for(z=0;16>z;++z)U[z]=w[N++]|w[N++]<<8|w[N++]<<16|w[N++]<<24;w=R.g[0],N=R.g[1],z=R.g[2];var H=R.g[3],k=w+(H^N&(z^H))+U[0]+3614090360&4294967295;w=N+(k<<7&4294967295|k>>>25),k=H+(z^w&(N^z))+U[1]+3905402710&4294967295,H=w+(k<<12&4294967295|k>>>20),k=z+(N^H&(w^N))+U[2]+606105819&4294967295,z=H+(k<<17&4294967295|k>>>15),k=N+(w^z&(H^w))+U[3]+3250441966&4294967295,N=z+(k<<22&4294967295|k>>>10),k=w+(H^N&(z^H))+U[4]+4118548399&4294967295,w=N+(k<<7&4294967295|k>>>25),k=H+(z^w&(N^z))+U[5]+1200080426&4294967295,H=w+(k<<12&4294967295|k>>>20),k=z+(N^H&(w^N))+U[6]+2821735955&4294967295,z=H+(k<<17&4294967295|k>>>15),k=N+(w^z&(H^w))+U[7]+4249261313&4294967295,N=z+(k<<22&4294967295|k>>>10),k=w+(H^N&(z^H))+U[8]+1770035416&4294967295,w=N+(k<<7&4294967295|k>>>25),k=H+(z^w&(N^z))+U[9]+2336552879&4294967295,H=w+(k<<12&4294967295|k>>>20),k=z+(N^H&(w^N))+U[10]+4294925233&4294967295,z=H+(k<<17&4294967295|k>>>15),k=N+(w^z&(H^w))+U[11]+2304563134&4294967295,N=z+(k<<22&4294967295|k>>>10),k=w+(H^N&(z^H))+U[12]+1804603682&4294967295,w=N+(k<<7&4294967295|k>>>25),k=H+(z^w&(N^z))+U[13]+4254626195&4294967295,H=w+(k<<12&4294967295|k>>>20),k=z+(N^H&(w^N))+U[14]+2792965006&4294967295,z=H+(k<<17&4294967295|k>>>15),k=N+(w^z&(H^w))+U[15]+1236535329&4294967295,N=z+(k<<22&4294967295|k>>>10),k=w+(z^H&(N^z))+U[1]+4129170786&4294967295,w=N+(k<<5&4294967295|k>>>27),k=H+(N^z&(w^N))+U[6]+3225465664&4294967295,H=w+(k<<9&4294967295|k>>>23),k=z+(w^N&(H^w))+U[11]+643717713&4294967295,z=H+(k<<14&4294967295|k>>>18),k=N+(H^w&(z^H))+U[0]+3921069994&4294967295,N=z+(k<<20&4294967295|k>>>12),k=w+(z^H&(N^z))+U[5]+3593408605&4294967295,w=N+(k<<5&4294967295|k>>>27),k=H+(N^z&(w^N))+U[10]+38016083&4294967295,H=w+(k<<9&4294967295|k>>>23),k=z+(w^N&(H^w))+U[15]+3634488961&4294967295,z=H+(k<<14&4294967295|k>>>18),k=N+(H^w&(z^H))+U[4]+3889429448&4294967295,N=z+(k<<20&4294967295|k>>>12),k=w+(z^H&(N^z))+U[9]+568446438&4294967295,w=N+(k<<5&4294967295|k>>>27),k=H+(N^z&(w^N))+U[14]+3275163606&4294967295,H=w+(k<<9&4294967295|k>>>23),k=z+(w^N&(H^w))+U[3]+4107603335&4294967295,z=H+(k<<14&4294967295|k>>>18),k=N+(H^w&(z^H))+U[8]+1163531501&4294967295,N=z+(k<<20&4294967295|k>>>12),k=w+(z^H&(N^z))+U[13]+2850285829&4294967295,w=N+(k<<5&4294967295|k>>>27),k=H+(N^z&(w^N))+U[2]+4243563512&4294967295,H=w+(k<<9&4294967295|k>>>23),k=z+(w^N&(H^w))+U[7]+1735328473&4294967295,z=H+(k<<14&4294967295|k>>>18),k=N+(H^w&(z^H))+U[12]+2368359562&4294967295,N=z+(k<<20&4294967295|k>>>12),k=w+(N^z^H)+U[5]+4294588738&4294967295,w=N+(k<<4&4294967295|k>>>28),k=H+(w^N^z)+U[8]+2272392833&4294967295,H=w+(k<<11&4294967295|k>>>21),k=z+(H^w^N)+U[11]+1839030562&4294967295,z=H+(k<<16&4294967295|k>>>16),k=N+(z^H^w)+U[14]+4259657740&4294967295,N=z+(k<<23&4294967295|k>>>9),k=w+(N^z^H)+U[1]+2763975236&4294967295,w=N+(k<<4&4294967295|k>>>28),k=H+(w^N^z)+U[4]+1272893353&4294967295,H=w+(k<<11&4294967295|k>>>21),k=z+(H^w^N)+U[7]+4139469664&4294967295,z=H+(k<<16&4294967295|k>>>16),k=N+(z^H^w)+U[10]+3200236656&4294967295,N=z+(k<<23&4294967295|k>>>9),k=w+(N^z^H)+U[13]+681279174&4294967295,w=N+(k<<4&4294967295|k>>>28),k=H+(w^N^z)+U[0]+3936430074&4294967295,H=w+(k<<11&4294967295|k>>>21),k=z+(H^w^N)+U[3]+3572445317&4294967295,z=H+(k<<16&4294967295|k>>>16),k=N+(z^H^w)+U[6]+76029189&4294967295,N=z+(k<<23&4294967295|k>>>9),k=w+(N^z^H)+U[9]+3654602809&4294967295,w=N+(k<<4&4294967295|k>>>28),k=H+(w^N^z)+U[12]+3873151461&4294967295,H=w+(k<<11&4294967295|k>>>21),k=z+(H^w^N)+U[15]+530742520&4294967295,z=H+(k<<16&4294967295|k>>>16),k=N+(z^H^w)+U[2]+3299628645&4294967295,N=z+(k<<23&4294967295|k>>>9),k=w+(z^(N|~H))+U[0]+4096336452&4294967295,w=N+(k<<6&4294967295|k>>>26),k=H+(N^(w|~z))+U[7]+1126891415&4294967295,H=w+(k<<10&4294967295|k>>>22),k=z+(w^(H|~N))+U[14]+2878612391&4294967295,z=H+(k<<15&4294967295|k>>>17),k=N+(H^(z|~w))+U[5]+4237533241&4294967295,N=z+(k<<21&4294967295|k>>>11),k=w+(z^(N|~H))+U[12]+1700485571&4294967295,w=N+(k<<6&4294967295|k>>>26),k=H+(N^(w|~z))+U[3]+2399980690&4294967295,H=w+(k<<10&4294967295|k>>>22),k=z+(w^(H|~N))+U[10]+4293915773&4294967295,z=H+(k<<15&4294967295|k>>>17),k=N+(H^(z|~w))+U[1]+2240044497&4294967295,N=z+(k<<21&4294967295|k>>>11),k=w+(z^(N|~H))+U[8]+1873313359&4294967295,w=N+(k<<6&4294967295|k>>>26),k=H+(N^(w|~z))+U[15]+4264355552&4294967295,H=w+(k<<10&4294967295|k>>>22),k=z+(w^(H|~N))+U[6]+2734768916&4294967295,z=H+(k<<15&4294967295|k>>>17),k=N+(H^(z|~w))+U[13]+1309151649&4294967295,N=z+(k<<21&4294967295|k>>>11),k=w+(z^(N|~H))+U[4]+4149444226&4294967295,w=N+(k<<6&4294967295|k>>>26),k=H+(N^(w|~z))+U[11]+3174756917&4294967295,H=w+(k<<10&4294967295|k>>>22),k=z+(w^(H|~N))+U[2]+718787259&4294967295,z=H+(k<<15&4294967295|k>>>17),k=N+(H^(z|~w))+U[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(z+(k<<21&4294967295|k>>>11))&4294967295,R.g[2]=R.g[2]+z&4294967295,R.g[3]=R.g[3]+H&4294967295}r.prototype.u=function(R,w){w===void 0&&(w=R.length);for(var N=w-this.blockSize,U=this.B,z=this.h,H=0;H<w;){if(z==0)for(;H<=N;)a(this,R,H),H+=this.blockSize;if(typeof R=="string"){for(;H<w;)if(U[z++]=R.charCodeAt(H++),z==this.blockSize){a(this,U),z=0;break}}else for(;H<w;)if(U[z++]=R[H++],z==this.blockSize){a(this,U),z=0;break}}this.h=z,this.o+=w},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;var N=8*this.o;for(w=R.length-8;w<R.length;++w)R[w]=N&255,N/=256;for(this.u(R),R=Array(16),w=N=0;4>w;++w)for(var U=0;32>U;U+=8)R[N++]=this.g[w]>>>U&255;return R};function l(R,w){var N=f;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=w(R)}function c(R,w){this.h=w;for(var N=[],U=!0,z=R.length-1;0<=z;z--){var H=R[z]|0;U&&H==w||(N[z]=H,U=!1)}this.g=N}var f={};function m(R){return-128<=R&&128>R?l(R,function(w){return new c([w|0],0>w?-1:0)}):new c([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return x(p(-R));for(var w=[],N=1,U=0;R>=N;U++)w[U]=R/N|0,N*=4294967296;return new c(w,0)}function y(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return x(y(R.substring(1),w));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(w,8)),U=_,z=0;z<R.length;z+=8){var H=Math.min(8,R.length-z),k=parseInt(R.substring(z,z+H),w);8>H?(H=p(Math.pow(w,H)),U=U.j(H).add(p(k))):(U=U.j(N),U=U.add(p(k)))}return U}var _=m(0),E=m(1),S=m(16777216);e=c.prototype,e.m=function(){if(A(this))return-x(this).m();for(var R=0,w=1,N=0;N<this.g.length;N++){var U=this.i(N);R+=(0<=U?U:4294967296+U)*w,w*=4294967296}return R},e.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D(this))return"0";if(A(this))return"-"+x(this).toString(R);for(var w=p(Math.pow(R,6)),N=this,U="";;){var z=K(N,w).g;N=V(N,z.j(w));var H=((0<N.g.length?N.g[0]:N.h)>>>0).toString(R);if(N=z,D(N))return H+U;for(;6>H.length;)H="0"+H;U=H+U}},e.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function D(R){if(R.h!=0)return!1;for(var w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function A(R){return R.h==-1}e.l=function(R){return R=V(this,R),A(R)?-1:D(R)?0:1};function x(R){for(var w=R.g.length,N=[],U=0;U<w;U++)N[U]=~R.g[U];return new c(N,~R.h).add(E)}e.abs=function(){return A(this)?x(this):this},e.add=function(R){for(var w=Math.max(this.g.length,R.g.length),N=[],U=0,z=0;z<=w;z++){var H=U+(this.i(z)&65535)+(R.i(z)&65535),k=(H>>>16)+(this.i(z)>>>16)+(R.i(z)>>>16);U=k>>>16,H&=65535,k&=65535,N[z]=k<<16|H}return new c(N,N[N.length-1]&-2147483648?-1:0)};function V(R,w){return R.add(x(w))}e.j=function(R){if(D(this)||D(R))return _;if(A(this))return A(R)?x(this).j(x(R)):x(x(this).j(R));if(A(R))return x(this.j(x(R)));if(0>this.l(S)&&0>R.l(S))return p(this.m()*R.m());for(var w=this.g.length+R.g.length,N=[],U=0;U<2*w;U++)N[U]=0;for(U=0;U<this.g.length;U++)for(var z=0;z<R.g.length;z++){var H=this.i(U)>>>16,k=this.i(U)&65535,Xt=R.i(z)>>>16,ue=R.i(z)&65535;N[2*U+2*z]+=k*ue,L(N,2*U+2*z),N[2*U+2*z+1]+=H*ue,L(N,2*U+2*z+1),N[2*U+2*z+1]+=k*Xt,L(N,2*U+2*z+1),N[2*U+2*z+2]+=H*Xt,L(N,2*U+2*z+2)}for(U=0;U<w;U++)N[U]=N[2*U+1]<<16|N[2*U];for(U=w;U<2*w;U++)N[U]=0;return new c(N,0)};function L(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function P(R,w){this.g=R,this.h=w}function K(R,w){if(D(w))throw Error("division by zero");if(D(R))return new P(_,_);if(A(R))return w=K(x(R),w),new P(x(w.g),x(w.h));if(A(w))return w=K(R,x(w)),new P(x(w.g),w.h);if(30<R.g.length){if(A(R)||A(w))throw Error("slowDivide_ only works with positive integers.");for(var N=E,U=w;0>=U.l(R);)N=q(N),U=q(U);var z=Y(N,1),H=Y(U,1);for(U=Y(U,2),N=Y(N,2);!D(U);){var k=H.add(U);0>=k.l(R)&&(z=z.add(N),H=k),U=Y(U,1),N=Y(N,1)}return w=V(R,z.j(w)),new P(z,w)}for(z=_;0<=R.l(w);){for(N=Math.max(1,Math.floor(R.m()/w.m())),U=Math.ceil(Math.log(N)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),H=p(N),k=H.j(w);A(k)||0<k.l(R);)N-=U,H=p(N),k=H.j(w);D(H)&&(H=E),z=z.add(H),R=V(R,k)}return new P(z,R)}e.A=function(R){return K(this,R).h},e.and=function(R){for(var w=Math.max(this.g.length,R.g.length),N=[],U=0;U<w;U++)N[U]=this.i(U)&R.i(U);return new c(N,this.h&R.h)},e.or=function(R){for(var w=Math.max(this.g.length,R.g.length),N=[],U=0;U<w;U++)N[U]=this.i(U)|R.i(U);return new c(N,this.h|R.h)},e.xor=function(R){for(var w=Math.max(this.g.length,R.g.length),N=[],U=0;U<w;U++)N[U]=this.i(U)^R.i(U);return new c(N,this.h^R.h)};function q(R){for(var w=R.g.length+1,N=[],U=0;U<w;U++)N[U]=R.i(U)<<1|R.i(U-1)>>>31;return new c(N,R.h)}function Y(R,w){var N=w>>5;w%=32;for(var U=R.g.length-N,z=[],H=0;H<U;H++)z[H]=0<w?R.i(H+N)>>>w|R.i(H+N+1)<<32-w:R.i(H+N);return new c(z,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,T1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=y,ks=c}).apply(typeof zb<"u"?zb:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var E1,Vu,b1,Vf,Zg,w1,S1,A1;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function a(h,v){if(v)t:{var b=r;h=h.split(".");for(var I=0;I<h.length-1;I++){var $=h[I];if(!($ in b))break t;b=b[$]}h=h[h.length-1],I=b[h],v=v(I),v!=I&&v!=null&&t(b,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var b=0,I=!1,$={next:function(){if(!I&&b<h.length){var J=b++;return{value:v(J,h[J]),done:!1}}return I=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,b){return b})}});var c=c||{},f=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,b){return h.call.apply(h.bind,arguments)}function _(h,v,b){if(!h)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,I),h.apply(v,$)}}return function(){return h.apply(v,arguments)}}function E(h,v,b){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,E.apply(null,arguments)}function S(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var I=b.slice();return I.push.apply(I,arguments),h.apply(this,I)}}function D(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(I,$,J){for(var ct=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)ct[Kt-2]=arguments[Kt];return v.prototype[$].apply(I,ct)}}function A(h){const v=h.length;if(0<v){const b=Array(v);for(let I=0;I<v;I++)b[I]=h[I];return b}return[]}function x(h,v){for(let b=1;b<arguments.length;b++){const I=arguments[b];if(m(I)){const $=h.length||0,J=I.length||0;h.length=$+J;for(let ct=0;ct<J;ct++)h[$+ct]=I[ct]}else h.push(I)}}class V{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){return/^[\s\xa0]*$/.test(h)}function P(){var h=f.navigator;return h&&(h=h.userAgent)?h:""}function K(h){return K[" "](h),h}K[" "]=function(){};var q=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function Y(h,v,b){for(const I in h)v.call(b,h[I],I,h)}function R(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function w(h){const v={};for(const b in h)v[b]=h[b];return v}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(h,v){let b,I;for(let $=1;$<arguments.length;$++){I=arguments[$];for(b in I)h[b]=I[b];for(let J=0;J<N.length;J++)b=N[J],Object.prototype.hasOwnProperty.call(I,b)&&(h[b]=I[b])}}function z(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function H(h){f.setTimeout(()=>{throw h},0)}function k(){var h=It;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Xt{constructor(){this.h=this.g=null}add(v,b){const I=ue.get();I.set(v,b),this.h?this.h.next=I:this.g=I,this.h=I}}var ue=new V(()=>new tt,h=>h.reset());class tt{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,ft=!1,It=new Xt,Dt=()=>{const h=f.Promise.resolve(void 0);ot=()=>{h.then(F)}};var F=()=>{for(var h;h=k();){try{h.h.call(h.g)}catch(b){H(b)}var v=ue;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ft=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ut=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};f.addEventListener("test",b,v),f.removeEventListener("test",b,v)}catch{}return h})();function gt(h,v){if(lt.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,I=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(q){t:{try{K(v.nodeName);var $=!0;break t}catch{}$=!1}$||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Et[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&gt.aa.h.call(this)}}D(gt,lt);var Et={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ot="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function ce(h,v,b,I,$){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!I,this.ha=$,this.key=++Ge,this.da=this.fa=!1}function bi(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Xi(h){this.src=h,this.g={},this.h=0}Xi.prototype.add=function(h,v,b,I,$){var J=h.toString();h=this.g[J],h||(h=this.g[J]=[],this.h++);var ct=to(h,v,I,$);return-1<ct?(v=h[ct],b||(v.fa=!1)):(v=new ce(v,this.src,J,!!I,$),v.fa=b,h.push(v)),v};function Js(h,v){var b=v.type;if(b in h.g){var I=h.g[b],$=Array.prototype.indexOf.call(I,v,void 0),J;(J=0<=$)&&Array.prototype.splice.call(I,$,1),J&&(bi(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function to(h,v,b,I){for(var $=0;$<h.length;++$){var J=h[$];if(!J.da&&J.listener==v&&J.capture==!!b&&J.ha==I)return $}return-1}var li="closure_lm_"+(1e6*Math.random()|0),ta={};function eo(h,v,b,I,$){if(Array.isArray(v)){for(var J=0;J<v.length;J++)eo(h,v[J],b,I,$);return null}return b=Lc(b),h&&h[Ot]?h.K(v,b,p(I)?!!I.capture:!1,$):em(h,v,b,!1,I,$)}function em(h,v,b,I,$,J){if(!v)throw Error("Invalid event type");var ct=p($)?!!$.capture:!!$,Kt=Cl(h);if(Kt||(h[li]=Kt=new Xi(h)),b=Kt.add(v,b,I,ct,J),b.proxy)return b;if(I=kc(),b.proxy=I,I.src=h,I.listener=b,h.addEventListener)ut||($=ct),$===void 0&&($=!1),h.addEventListener(v.toString(),I,$);else if(h.attachEvent)h.attachEvent(io(v.toString()),I);else if(h.addListener&&h.removeListener)h.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return b}function kc(){function h(b){return v.call(h.src,h.listener,b)}const v=nm;return h}function no(h,v,b,I,$){if(Array.isArray(v))for(var J=0;J<v.length;J++)no(h,v[J],b,I,$);else I=p(I)?!!I.capture:!!I,b=Lc(b),h&&h[Ot]?(h=h.i,v=String(v).toString(),v in h.g&&(J=h.g[v],b=to(J,b,I,$),-1<b&&(bi(J[b]),Array.prototype.splice.call(J,b,1),J.length==0&&(delete h.g[v],h.h--)))):h&&(h=Cl(h))&&(v=h.g[v.toString()],h=-1,v&&(h=to(v,b,I,$)),(b=-1<h?v[h]:null)&&ea(b))}function ea(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ot])Js(v.i,h);else{var b=h.type,I=h.proxy;v.removeEventListener?v.removeEventListener(b,I,h.capture):v.detachEvent?v.detachEvent(io(b),I):v.addListener&&v.removeListener&&v.removeListener(I),(b=Cl(v))?(Js(b,h),b.h==0&&(b.src=null,v[li]=null)):bi(h)}}}function io(h){return h in ta?ta[h]:ta[h]="on"+h}function nm(h,v){if(h.da)h=!0;else{v=new gt(v,this);var b=h.listener,I=h.ha||h.src;h.fa&&ea(h),h=b.call(I,v)}return h}function Cl(h){return h=h[li],h instanceof Xi?h:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lc(h){return typeof h=="function"?h:(h[Ke]||(h[Ke]=function(v){return h.handleEvent(v)}),h[Ke])}function ke(){it.call(this),this.i=new Xi(this),this.M=this,this.F=null}D(ke,it),ke.prototype[Ot]=!0,ke.prototype.removeEventListener=function(h,v,b,I){no(this,h,v,b,I)};function je(h,v){var b,I=h.F;if(I)for(b=[];I;I=I.F)b.push(I);if(h=h.M,I=v.type||v,typeof v=="string")v=new lt(v,h);else if(v instanceof lt)v.target=v.target||h;else{var $=v;v=new lt(I,h),U(v,$)}if($=!0,b)for(var J=b.length-1;0<=J;J--){var ct=v.g=b[J];$=Wi(ct,I,!0,v)&&$}if(ct=v.g=h,$=Wi(ct,I,!0,v)&&$,$=Wi(ct,I,!1,v)&&$,b)for(J=0;J<b.length;J++)ct=v.g=b[J],$=Wi(ct,I,!1,v)&&$}ke.prototype.N=function(){if(ke.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],I=0;I<b.length;I++)bi(b[I]);delete h.g[v],h.h--}}this.F=null},ke.prototype.K=function(h,v,b,I){return this.i.add(String(h),v,!1,b,I)},ke.prototype.L=function(h,v,b,I){return this.i.add(String(h),v,!0,b,I)};function Wi(h,v,b,I){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,J=0;J<v.length;++J){var ct=v[J];if(ct&&!ct.da&&ct.capture==b){var Kt=ct.listener,xe=ct.ha||ct.src;ct.fa&&Js(h.i,ct),$=Kt.call(xe,I)!==!1&&$}}return $&&!I.defaultPrevented}function Uc(h,v,b){if(typeof h=="function")b&&(h=E(h,b));else if(h&&typeof h.handleEvent=="function")h=E(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:f.setTimeout(h,v||0)}function xl(h){h.g=Uc(()=>{h.g=null,h.i&&(h.i=!1,xl(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class im extends it{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:xl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(h){it.call(this),this.h=h,this.g={}}D(na,it);var Lr=[];function rn(h){Y(h.g,function(v,b){this.g.hasOwnProperty(b)&&ea(v)},h),h.g={}}na.prototype.N=function(){na.aa.N.call(this),rn(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=f.JSON.stringify,dn=f.JSON.parse,rm=class{stringify(h){return f.JSON.stringify(h,void 0)}parse(h){return f.JSON.parse(h,void 0)}};function Il(){}Il.prototype.h=null;function jc(h){return h.h||(h.h=h.i())}function ia(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){lt.call(this,"d")}D(Ur,lt);function ui(){lt.call(this,"c")}D(ui,lt);var Kn={},jr=null;function ro(){return jr=jr||new ke}Kn.La="serverreachability";function Dl(h){lt.call(this,Kn.La,h)}D(Dl,lt);function Zi(h){const v=ro();je(v,new Dl(v))}Kn.STAT_EVENT="statevent";function zr(h,v){lt.call(this,Kn.STAT_EVENT,h),this.stat=v}D(zr,lt);function $e(h){const v=ro();je(v,new zr(v,h))}Kn.Ma="timingevent";function Nl(h,v){lt.call(this,Kn.Ma,h),this.size=v}D(Nl,lt);function Br(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){h()},v)}function Fr(){this.g=!0}Fr.prototype.xa=function(){this.g=!1};function Ml(h,v,b,I,$,J){h.info(function(){if(h.g)if(J)for(var ct="",Kt=J.split("&"),xe=0;xe<Kt.length;xe++){var Nt=Kt[xe].split("=");if(1<Nt.length){var Be=Nt[0];Nt=Nt[1];var Fe=Be.split("_");ct=2<=Fe.length&&Fe[1]=="type"?ct+(Be+"="+Nt+"&"):ct+(Be+"=redacted&")}}else ct=null;else ct=J;return"XMLHTTP REQ ("+I+") [attempt "+$+"]: "+v+`
`+b+`
`+ct})}function Ol(h,v,b,I,$,J,ct){h.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+$+"]: "+v+`
`+b+`
`+J+" "+ct})}function Ji(h,v,b,I){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Si(h,b)+(I?" "+I:"")})}function zc(h,v){h.info(function(){return"TIMEOUT: "+v})}Fr.prototype.info=function(){};function Si(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var I=b[h];if(!(2>I.length)){var $=I[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ct=1;ct<$.length;ct++)$[ct]=""}}}}return Gn(b)}catch{return v}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ai;function Hr(){}D(Hr,Il),Hr.prototype.g=function(){return new XMLHttpRequest},Hr.prototype.i=function(){return{}},Ai=new Hr;function Ri(h,v,b,I){this.j=h,this.i=v,this.l=b,this.R=I||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bc}function Bc(){this.i=null,this.g="",this.h=!1}var Vl={},tr={};function ra(h,v,b){h.L=1,h.v=oa(pe(v)),h.m=b,h.P=!0,er(h,null)}function er(h,v){h.F=Date.now(),ci(h),h.A=pe(h.v);var b=h.A,I=h.R;Array.isArray(I)||(I=[String(I)]),rr(b.i,"t",I),h.C=0,b=h.j.J,h.h=new Bc,h.g=ih(h.j,b?v:null,!h.m),0<h.O&&(h.M=new im(E(h.Y,h,h.g),h.O)),v=h.U,b=h.g,I=h.ca;var $="readystatechange";Array.isArray($)||($&&(Lr[0]=$.toString()),$=Lr);for(var J=0;J<$.length;J++){var ct=eo(b,$[J],I||v.handleEvent,!1,v.h||v);if(!ct)break;v.g[ct.key]=ct}v=h.H?w(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),Zi(),Ml(h.i,h.u,h.A,h.l,h.R,h.m)}Ri.prototype.ca=function(h){h=h.target;const v=this.M;v&&gn(h)==3?v.j():this.Y(h)},Ri.prototype.Y=function(h){try{if(h==this.g)t:{const Fe=gn(this.g);var v=this.g.Ba();const ns=this.g.Z();if(!(3>Fe)&&(Fe!=3||this.g&&(this.h.h||this.g.oa()||ca(this.g)))){this.J||Fe!=4||v==7||(v==8||0>=ns?Zi(3):Zi(2)),so(this);var b=this.g.Z();this.X=b;e:if(nr(this)){var I=ca(this.g);h="";var $=I.length,J=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),qr(this);var ct="";break e}this.h.i=new f.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,h+=this.h.i.decode(I[v],{stream:!(J&&v==$-1)});I.length=0,this.h.g+=h,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=b==200,Ol(this.i,this.u,this.A,this.l,this.R,Fe,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,xe=this.g;if((Kt=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Kt)){var Nt=Kt;break e}}Nt=null}if(b=Nt)Ji(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ci(this,b);else{this.o=!1,this.s=3,$e(12),mn(this),qr(this);break t}}if(this.P){b=!0;let En;for(;!this.J&&this.C<ct.length;)if(En=sa(this,ct),En==tr){Fe==4&&(this.s=4,$e(14),b=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Vl){this.s=4,$e(15),Ji(this.i,this.l,ct,"[Invalid Chunk]"),b=!1;break}else Ji(this.i,this.l,En,null),Ci(this,En);if(nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Fe!=4||ct.length!=0||this.h.h||(this.s=1,$e(16),b=!1),this.o=this.o&&b,!b)Ji(this.i,this.l,ct,"[Invalid Chunked Response]"),mn(this),qr(this);else if(0<ct.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),Gl(Be),Be.M=!0,$e(11))}}else Ji(this.i,this.l,ct,null),Ci(this,ct);Fe==4&&mn(this),this.o&&!this.J&&(Fe==4?th(this.j,this):(this.o=!1,ci(this)))}else Yc(this.g),b==400&&0<ct.indexOf("Unknown SID")?(this.s=3,$e(12)):(this.s=0,$e(13)),mn(this),qr(this)}}}catch{}finally{}};function nr(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function sa(h,v){var b=h.C,I=v.indexOf(`
`,b);return I==-1?tr:(b=Number(v.substring(b,I)),isNaN(b)?Vl:(I+=1,I+b>v.length?tr:(v=v.slice(I,I+b),h.C=I+b,v)))}Ri.prototype.cancel=function(){this.J=!0,mn(this)};function ci(h){h.S=Date.now()+h.I,be(h,h.I)}function be(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Br(E(h.ba,h),v)}function so(h){h.B&&(f.clearTimeout(h.B),h.B=null)}Ri.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(zc(this.i,this.A),this.L!=2&&(Zi(),$e(17)),mn(this),this.s=2,qr(this)):be(this,this.S-h)};function qr(h){h.j.G==0||h.J||th(h.j,h)}function mn(h){so(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,rn(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Ci(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Gr(b.h,h))){if(!h.K&&Gr(b.h,h)&&b.G==3){try{var I=b.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var $=I;if($[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)ts(b),Jr(b);else break t;ql(b),$e(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=Br(E(b.Za,b),6e3));if(1>=Fc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else ar(b,11)}else if((h.K||b.g==h)&&ts(b),!L(v))for($=b.Da.g.parse(v),v=0;v<$.length;v++){let Nt=$[v];if(b.T=Nt[0],Nt=Nt[1],b.G==2)if(Nt[0]=="c"){b.K=Nt[1],b.ia=Nt[2];const Be=Nt[3];Be!=null&&(b.la=Be,b.j.info("VER="+b.la));const Fe=Nt[4];Fe!=null&&(b.Aa=Fe,b.j.info("SVER="+b.Aa));const ns=Nt[5];ns!=null&&typeof ns=="number"&&0<ns&&(I=1.5*ns,b.L=I,b.j.info("backChannelRequestTimeoutMs_="+I)),I=b;const En=h.g;if(En){const da=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(da){var J=I.h;J.g||da.indexOf("spdy")==-1&&da.indexOf("quic")==-1&&da.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Kr(J,J.h),J.h=null))}if(I.D){const or=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;or&&(I.ya=or,Ft(I.I,I.D,or))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),I=b;var ct=h;if(I.qa=nh(I,I.J?I.ia:null,I.W),ct.K){$n(I.h,ct);var Kt=ct,xe=I.L;xe&&(Kt.I=xe),Kt.B&&(so(Kt),ci(Kt)),I.g=ct}else Zc(I);0<b.i.length&&mo(b)}else Nt[0]!="stop"&&Nt[0]!="close"||ar(b,7);else b.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?ar(b,7):Fl(b):Nt[0]!="noop"&&b.l&&b.l.ta(Nt),b.v=0)}}Zi(4)}catch{}}var sm=class{constructor(h,v){this.g=h,this.map=v}};function Pl(h){this.l=h||10,f.PerformanceNavigationTiming?(h=f.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Fc(h){return h.h?1:h.g?h.g.size:0}function Gr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Kr(h,v){h.g?h.g.add(v):h.h=v}function $n(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Pl.prototype.cancel=function(){if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function pn(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return A(h.i)}function Hc(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],b=h.length,I=0;I<b;I++)v.push(h[I]);return v}v=[],b=0;for(I in h)v[b++]=h[I];return v}function am(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const I in h)v[b++]=I;return v}}}function ao(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=am(h),I=Hc(h),$=I.length,J=0;J<$;J++)v.call(void 0,I[J],b&&b[J],h)}var Ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var I=h[b].indexOf("="),$=null;if(0<=I){var J=h[b].substring(0,I);$=h[b].substring(I+1)}else J=h[b];v(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ir(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ir){this.h=h.h,$r(this,h.j),this.o=h.o,this.g=h.g,aa(this,h.s),this.l=h.l;var v=h.i,b=new xi;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),lo(this,b),this.m=h.m}else h&&(v=String(h).match(Ll))?(this.h=!1,$r(this,v[1]||"",!0),this.o=Yr(v[2]||""),this.g=Yr(v[3]||"",!0),aa(this,v[4]),this.l=Yr(v[5]||"",!0),lo(this,v[6]||"",!0),this.m=Yr(v[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}ir.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Yn(v,Ul,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Yn(v,Ul,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(Yn(b,b.charAt(0)=="/"?jl:qc,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",Yn(b,um)),h.join("")};function pe(h){return new ir(h)}function $r(h,v,b){h.j=b?Yr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function aa(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function lo(h,v,b){v instanceof xi?(h.i=v,Gc(h.i,h.h)):(b||(v=Yn(v,lm)),h.i=new xi(v,h.h))}function Ft(h,v,b){h.i.set(v,b)}function oa(h){return Ft(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Yr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Yn(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,om),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function om(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ul=/[#\/\?@]/g,qc=/[#\?:]/g,jl=/[#\?]/g,lm=/[#\?@]/g,um=/#/g;function xi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function ze(h){h.g||(h.g=new Map,h.h=0,h.i&&oo(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}e=xi.prototype,e.add=function(h,v){ze(this),this.i=null,h=Nn(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function uo(h,v){ze(h),v=Nn(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function co(h,v){return ze(h),v=Nn(h,v),h.g.has(v)}e.forEach=function(h,v){ze(this),this.g.forEach(function(b,I){b.forEach(function($){h.call(v,$,I,this)},this)},this)},e.na=function(){ze(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let I=0;I<v.length;I++){const $=h[I];for(let J=0;J<$.length;J++)b.push(v[I])}return b},e.V=function(h){ze(this);let v=[];if(typeof h=="string")co(this,h)&&(v=v.concat(this.g.get(Nn(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},e.set=function(h,v){return ze(this),this.i=null,h=Nn(this,h),co(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},e.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function rr(h,v,b){uo(h,v),0<b.length&&(h.i=null,h.g.set(Nn(h,v),A(b)),h.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var I=v[b];const J=encodeURIComponent(String(I)),ct=this.V(I);for(I=0;I<ct.length;I++){var $=J;ct[I]!==""&&($+="="+encodeURIComponent(String(ct[I]))),h.push($)}}return this.i=h.join("&")};function Nn(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Gc(h,v){v&&!h.j&&(ze(h),h.i=null,h.g.forEach(function(b,I){var $=I.toLowerCase();I!=$&&(uo(this,I),rr(this,$,b))},h)),h.j=v}function zl(h,v){const b=new Fr;if(f.Image){const I=new Image;I.onload=S(Tn,b,"TestLoadImage: loaded",!0,v,I),I.onerror=S(Tn,b,"TestLoadImage: error",!1,v,I),I.onabort=S(Tn,b,"TestLoadImage: abort",!1,v,I),I.ontimeout=S(Tn,b,"TestLoadImage: timeout",!1,v,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=h}else v(!1)}function Kc(h,v){const b=new Fr,I=new AbortController,$=setTimeout(()=>{I.abort(),Tn(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:I.signal}).then(J=>{clearTimeout($),J.ok?Tn(b,"TestPingServer: ok",!0,v):Tn(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Tn(b,"TestPingServer: error",!1,v)})}function Tn(h,v,b,I,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),I(b)}catch{}}function hi(){this.g=new rm}function Bl(h,v,b){const I=b||"";try{ao(h,function($,J){let ct=$;p($)&&(ct=Gn($)),v.push(I+J+"="+encodeURIComponent(ct))})}catch($){throw v.push(I+"type="+encodeURIComponent("_badmap")),$}}function Ii(h){this.l=h.Ub||null,this.j=h.eb||!1}D(Ii,Il),Ii.prototype.g=function(){return new Mn(this.l,this.j)},Ii.prototype.i=(function(h){return function(){return h}})({});function Mn(h,v){ke.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Mn,ke),e=Mn.prototype,e.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Qr(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||f).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},e.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Qr(this)),this.g&&(this.readyState=3,Qr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ho(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ho(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}e.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Di(this):Qr(this),this.readyState==3&&ho(this)}},e.Ra=function(h){this.g&&(this.response=this.responseText=h,Di(this))},e.Qa=function(h){this.g&&(this.response=h,Di(this))},e.ga=function(){this.g&&Di(this)};function Di(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Qr(h)}e.setRequestHeader=function(h,v){this.u.append(h,v)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Qr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function la(h){let v="";return Y(h,function(b,I){v+=I,v+=":",v+=b,v+=`\r
`}),v}function Xr(h,v,b){t:{for(I in b){var I=!1;break t}I=!0}I||(b=la(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):Ft(h,v,b))}function ne(h){ke.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ne,ke);var sn=/^https?$/i,sr=["POST","PUT"];e=ne.prototype,e.Ha=function(h){this.J=h},e.ea=function(h,v,b,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ai.g(),this.v=this.o?jc(this.o):jc(Ai),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(J){ua(this,J);return}if(h=b||"",b=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var $ in I)b.set($,I[$]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const J of I.keys())b.set(J,I.get(J));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(b.keys()).find(J=>J.toLowerCase()=="content-type"),$=f.FormData&&h instanceof f.FormData,!(0<=Array.prototype.indexOf.call(sr,v,void 0))||I||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ct]of b)this.g.setRequestHeader(J,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(h),this.u=!1}catch(J){ua(this,J)}};function ua(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Wr(h),Zr(h)}function Wr(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,je(this,"complete"),je(this,"abort"),Zr(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zr(this,!0)),ne.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$c(this):this.bb())},e.bb=function(){$c(this)};function $c(h){if(h.h&&typeof c<"u"&&(!h.v[1]||gn(h)!=4||h.Z()!=2)){if(h.u&&gn(h)==4)Uc(h.Ea,0,h);else if(je(h,"readystatechange"),gn(h)==4){h.h=!1;try{const ct=h.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var I;if(I=ct===0){var $=String(h.D).match(Ll)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),I=!sn.test($?$.toLowerCase():"")}b=I}if(b)je(h,"complete"),je(h,"success");else{h.m=6;try{var J=2<gn(h)?h.g.statusText:""}catch{J=""}h.l=J+" ["+h.Z()+"]",Wr(h)}}finally{Zr(h)}}}}function Zr(h,v){if(h.g){fo(h);const b=h.g,I=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||je(h,"ready");try{b.onreadystatechange=I}catch{}}}function fo(h){h.I&&(f.clearTimeout(h.I),h.I=null)}e.isActive=function(){return!!this.g};function gn(h){return h.g?h.g.readyState:0}e.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),dn(v)}};function ca(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(h){const v={};h=(h.g&&2<=gn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<h.length;I++){if(L(h[I]))continue;var b=z(h[I]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const J=v[$]||[];v[$]=J,J.push(b)}R(v,function(I){return I.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function Qc(h){this.Aa=0,this.i=[],this.j=new Fr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,h),this.cb=ha("retryDelaySeedMs",1e4,h),this.Wa=ha("forwardChannelMaxRetries",2,h),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Pl(h&&h.concurrentRequestLimit),this.Da=new hi,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Qc.prototype,e.la=8,e.G=1,e.connect=function(h,v,b,I){$e(0),this.W=h,this.H=v||{},b&&I!==void 0&&(this.H.OSID=b,this.H.OAID=I),this.F=this.X,this.I=nh(this,null,this.W),mo(this)};function Fl(h){if(Xc(h),h.G==3){var v=h.U++,b=pe(h.I);if(Ft(b,"SID",h.K),Ft(b,"RID",v),Ft(b,"TYPE","terminate"),fa(h,b),v=new Ri(h,h.j,v),v.L=2,v.v=oa(pe(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=v.v,b=!0),b||(v.g=ih(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ci(v)}Kl(h)}function Jr(h){h.g&&(Gl(h),h.g.cancel(),h.g=null)}function Xc(h){Jr(h),h.u&&(f.clearTimeout(h.u),h.u=null),ts(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&f.clearTimeout(h.s),h.s=null)}function mo(h){if(!kl(h.h)&&!h.s){h.s=!0;var v=h.Ga;ot||Dt(),ft||(ot(),ft=!0),It.add(v,h),h.B=0}}function cm(h,v){return Fc(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Br(E(h.Ga,h,v),eh(h,h.B)),h.B++,!0)}e.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const $=new Ri(this,this.j,h);let J=this.o;if(this.S&&(J?(J=w(J),U(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var I=this.i[b];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=Hl(this,$,v),b=pe(this.I),Ft(b,"RID",h),Ft(b,"CVER",22),this.D&&Ft(b,"X-HTTP-Session-Id",this.D),fa(this,b),J&&(this.O?v="headers="+encodeURIComponent(String(la(J)))+"&"+v:this.m&&Xr(b,this.m,J)),Kr(this.h,$),this.Ua&&Ft(b,"TYPE","init"),this.P?(Ft(b,"$req",v),Ft(b,"SID","null"),$.T=!0,ra($,b,null)):ra($,b,v),this.G=2}}else this.G==3&&(h?Wc(this,h):this.i.length==0||kl(this.h)||Wc(this))};function Wc(h,v){var b;v?b=v.l:b=h.U++;const I=pe(h.I);Ft(I,"SID",h.K),Ft(I,"RID",b),Ft(I,"AID",h.T),fa(h,I),h.m&&h.o&&Xr(I,h.m,h.o),b=new Ri(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Hl(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Kr(h.h,b),ra(b,I,v)}function fa(h,v){h.H&&Y(h.H,function(b,I){Ft(v,I,b)}),h.l&&ao({},function(b,I){Ft(v,I,b)})}function Hl(h,v,b){b=Math.min(h.i.length,b);var I=h.l?E(h.l.Na,h.l,h):null;t:{var $=h.i;let J=-1;for(;;){const ct=["count="+b];J==-1?0<b?(J=$[0].g,ct.push("ofs="+J)):J=0:ct.push("ofs="+J);let Kt=!0;for(let xe=0;xe<b;xe++){let Nt=$[xe].g;const Be=$[xe].map;if(Nt-=J,0>Nt)J=Math.max(0,$[xe].g-100),Kt=!1;else try{Bl(Be,ct,"req"+Nt+"_")}catch{I&&I(Be)}}if(Kt){I=ct.join("&");break t}}}return h=h.i.splice(0,b),v.D=h,I}function Zc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ot||Dt(),ft||(ot(),ft=!0),It.add(v,h),h.v=0}}function ql(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Br(E(h.Fa,h),eh(h,h.v)),h.v++,!0)}e.Fa=function(){if(this.u=null,Jc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Br(E(this.ab,this),h)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$e(10),Jr(this),Jc(this))};function Gl(h){h.A!=null&&(f.clearTimeout(h.A),h.A=null)}function Jc(h){h.g=new Ri(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=pe(h.qa);Ft(v,"RID","rpc"),Ft(v,"SID",h.K),Ft(v,"AID",h.T),Ft(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ft(v,"TO",h.ja),Ft(v,"TYPE","xmlhttp"),fa(h,v),h.m&&h.o&&Xr(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=oa(pe(v)),b.m=null,b.P=!0,er(b,h)}e.Za=function(){this.C!=null&&(this.C=null,Jr(this),ql(this),$e(19))};function ts(h){h.C!=null&&(f.clearTimeout(h.C),h.C=null)}function th(h,v){var b=null;if(h.g==v){ts(h),Gl(h),h.g=null;var I=2}else if(Gr(h.h,v))b=v.D,$n(h.h,v),I=1;else return;if(h.G!=0){if(v.o)if(I==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var $=h.B;I=ro(),je(I,new Nl(I,b)),mo(h)}else Zc(h);else if($=v.s,$==3||$==0&&0<v.X||!(I==1&&cm(h,v)||I==2&&ql(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),$){case 1:ar(h,5);break;case 4:ar(h,10);break;case 3:ar(h,6);break;default:ar(h,2)}}}function eh(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function ar(h,v){if(h.j.info("Error code "+v),v==2){var b=E(h.fb,h),I=h.Xa;const $=!I;I=new ir(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||$r(I,"https"),oa(I),$?zl(I.toString(),b):Kc(I.toString(),b)}else $e(2);h.G=0,h.l&&h.l.sa(v),Kl(h),Xc(h)}e.fb=function(h){h?(this.j.info("Successfully pinged google.com"),$e(2)):(this.j.info("Failed to ping google.com"),$e(1))};function Kl(h){if(h.G=0,h.ka=[],h.l){const v=pn(h.h);(v.length!=0||h.i.length!=0)&&(x(h.ka,v),x(h.ka,h.i),h.h.i.length=0,A(h.i),h.i.length=0),h.l.ra()}}function nh(h,v,b){var I=b instanceof ir?pe(b):new ir(b);if(I.g!="")v&&(I.g=v+"."+I.g),aa(I,I.s);else{var $=f.location;I=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var J=new ir(null);I&&$r(J,I),v&&(J.g=v),$&&aa(J,$),b&&(J.l=b),I=J}return b=h.D,v=h.ya,b&&v&&Ft(I,b,v),Ft(I,"VER",h.la),fa(h,I),I}function ih(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new ne(new Ii({eb:b})):new ne(h.pa),v.Ha(h.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}e=rh.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function po(){}po.prototype.g=function(h,v){return new yn(h,v)};function yn(h,v){ke.call(this),this.g=new Qc(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!L(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new es(this)}D(yn,ke),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Fl(this.g)},yn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=Gn(h),h=b);v.i.push(new sm(v.Ya++,h)),v.G==3&&mo(v)},yn.prototype.N=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,yn.aa.N.call(this)};function sh(h){Ur.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){t:{for(const b in v){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}D(sh,Ur);function ah(){ui.call(this),this.status=1}D(ah,ui);function es(h){this.g=h}D(es,rh),es.prototype.ua=function(){je(this.g,"a")},es.prototype.ta=function(h){je(this.g,new sh(h))},es.prototype.sa=function(h){je(this.g,new ah)},es.prototype.ra=function(){je(this.g,"b")},po.prototype.createWebChannel=po.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,A1=function(){return new po},S1=function(){return ro()},w1=Kn,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Vf=me,Ye.COMPLETE="complete",b1=Ye,ia.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ke.prototype.listen=ke.prototype.K,Vu=ia,ne.prototype.listenOnce=ne.prototype.L,ne.prototype.getLastError=ne.prototype.Ka,ne.prototype.getLastErrorCode=ne.prototype.Ba,ne.prototype.getStatus=ne.prototype.Z,ne.prototype.getResponseJson=ne.prototype.Oa,ne.prototype.getResponseText=ne.prototype.oa,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Ha,E1=ne}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const Bb="@firebase/firestore",Fb="4.8.0";class un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let El="11.10.0";const Ga=new Ky("@firebase/firestore");function Ko(){return Ga.logLevel}function dt(e,...t){if(Ga.logLevel<=Ut.DEBUG){const n=t.map(av);Ga.debug(`Firestore (${El}): ${e}`,...n)}}function Or(e,...t){if(Ga.logLevel<=Ut.ERROR){const n=t.map(av);Ga.error(`Firestore (${El}): ${e}`,...n)}}function js(e,...t){if(Ga.logLevel<=Ut.WARN){const n=t.map(av);Ga.warn(`Firestore (${El}): ${e}`,...n)}}function av(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function bt(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,R1(e,r,n)}function R1(e,t,n){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Or(r),new Error(r)}function $t(e,t,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,e||R1(t,a,r)}function Rt(e,t){return e}const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Cr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class C1{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class NV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(un.UNAUTHENTICATED)))}shutdown(){}}class MV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OV{constructor(t){this.t=t,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0,42304);let r=this.i;const a=m=>this.i!==r?(r=this.i,n(m)):Promise.resolve();let l=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Cr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Cr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($t(typeof r.accessToken=="string",31837,{l:r}),new C1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new un(t)}}class VV{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PV{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new VV(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kV{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0,3512);const r=l=>{l.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>r(l)))};const a=l=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?($t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hb(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LV(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function x1(){return new TextEncoder}class ov{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=LV(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=t.charAt(a[l]%62))}return r}}function Mt(e,t){return e<t?-1:e>t?1:0}function Jg(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),a=t.codePointAt(n);if(r!==a){if(r<128&&a<128)return Mt(r,a);{const l=x1(),c=UV(l.encode(qb(e,n)),l.encode(qb(t,n)));return c!==0?c:Mt(r,a)}}n+=r>65535?2:1}return Mt(e.length,t.length)}function qb(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function UV(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Mt(e[n],t[n]);return Mt(e.length,t.length)}function ll(e,t,n){return e.length===t.length&&e.every(((r,a)=>n(r,t[a])))}const Gb="__name__";class Pi{constructor(t,n,r){n===void 0?n=0:n>t.length&&bt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&bt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pi?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let a=0;a<r;a++){const l=Pi.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Mt(t.length,n.length)}static compareSegments(t,n){const r=Pi.isNumericId(t),a=Pi.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Pi.extractNumericId(t).compare(Pi.extractNumericId(n)):Jg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ks.fromString(t.substring(4,t.length-2))}}class ee extends Pi{construct(t,n,r){return new ee(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const jV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Pi{construct(t,n,r){return new en(t,n,r)}static isValidIdentifier(t){return jV.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new en([Gb])}static fromServerFormat(t){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ht(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ht(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new ht(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(n)}static emptyPath(){return new en([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ee.fromString(t))}static fromName(t){return new yt(ee.fromString(t).popFirst(5))}static empty(){return new yt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ee(t.slice()))}}function I1(e,t,n){if(!n)throw new ht(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function zV(e,t,n,r){if(t===!0&&r===!0)throw new ht(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Kb(e){if(!yt.isDocumentKey(e))throw new ht(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $b(e){if(yt.isDocumentKey(e))throw new ht(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function D1(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function Cd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":bt(12329,{type:typeof e})}function Dn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ht(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cd(e);throw new ht(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function bc(e,t){if(!D1(e))throw new ht(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const a=t[r].typeString,l="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const c=e[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${r}' field to equal '${l.value}'`;break}}if(n)throw new ht(nt.INVALID_ARGUMENT,n);return!0}const Yb=-62135596800,Qb=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Qb);return new se(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ht(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yb)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qb}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bc(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Pe("string",se._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new se(0,0))}static max(){return new St(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ec=-1;function BV(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,a=St.fromTimestamp(r===1e9?new se(n+1,0):new se(n,r));return new zs(a,yt.empty(),t)}function FV(e){return new zs(e.readTime,e.key,ec)}class zs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(St.min(),yt.empty(),ec)}static max(){return new zs(St.max(),yt.empty(),ec)}}function HV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:Mt(e.largestBatchId,t.largestBatchId))}const qV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function bl(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==qV)throw e;dt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):at.reject(n)}static resolve(t){return new at(((n,r)=>{n(t)}))}static reject(t){return new at(((n,r)=>{r(t)}))}static waitFor(t){return new at(((n,r)=>{let a=0,l=0,c=!1;t.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&n()}),(m=>r(m)))})),c=!0,l===a&&n()}))}static or(t){let n=at.resolve(!1);for(const r of t)n=n.next((a=>a?at.resolve(a):r()));return n}static forEach(t,n){const r=[];return t.forEach(((a,l)=>{r.push(n.call(this,a,l))})),this.waitFor(r)}static mapArray(t,n){return new at(((r,a)=>{const l=t.length,c=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{c[p]=y,++f,f===l&&r(c)}),(y=>a(y)))}}))}static doWhile(t,n){return new at(((r,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):r()};l()}))}}function KV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wl(e){return e.name==="IndexedDbTransactionError"}class xd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}xd.ue=-1;const lv=-1;function Id(e){return e==null}function Zf(e){return e===0&&1/e==-1/0}function $V(e){return typeof e=="number"&&Number.isInteger(e)&&!Zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const N1="";function YV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Xb(t)),t=QV(e.get(n),t);return Xb(t)}function QV(e,t){let n=t;const r=e.length;for(let a=0;a<r;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case N1:n+="";break;default:n+=l}}return n}function Xb(e){return e+N1+""}function Wb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xs(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M1(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class de{constructor(t,n){this.comparator=t,this.root=n||tn.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(t,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mf(this.root,t,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mf(this.root,t,this.comparator,!0)}}class mf{constructor(t,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?r(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,n,r,a,l){this.key=t,this.value=n,this.color=r??tn.RED,this.left=a??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,a,l){return new tn(t??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let a=this;const l=r(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,n,r,a,l){return this}insert(t,n,r){return new tn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ue{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(t){return new Zb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ue)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ue(this.comparator);return n.data=t,n}}class Zb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class zn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new zn([])}unionWith(t){let n=new Ue(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ll(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}class O1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new O1("Invalid base64 string: "+l):l}})(t);return new nn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(t);return new nn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const XV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(e){if($t(!!e,39018),typeof e=="string"){let t=0;const n=XV.exec(e);if($t(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ce(e.seconds),nanos:Ce(e.nanos)}}function Ce(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Fs(e){return typeof e=="string"?nn.fromBase64String(e):nn.fromUint8Array(e)}const V1="server_timestamp",P1="__type__",k1="__previous_value__",L1="__local_write_time__";function Dd(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[P1])===null||n===void 0?void 0:n.stringValue)===V1}function Nd(e){const t=e.mapValue.fields[k1];return Dd(t)?Nd(t):t}function nc(e){const t=Bs(e.mapValue.fields[L1].timestampValue);return new se(t.seconds,t.nanos)}class WV{constructor(t,n,r,a,l,c,f,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Jf="(default)";class ic{constructor(t,n){this.projectId=t,this.database=n||Jf}static empty(){return new ic("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(t){return t instanceof ic&&t.projectId===this.projectId&&t.database===this.database}}const U1="__type__",ZV="__max__",pf={mapValue:{}},j1="__vector__",td="value";function Hs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Dd(e)?4:tP(e)?9007199254740991:JV(e)?10:11:bt(28295,{value:e})}function Ki(e,t){if(e===t)return!0;const n=Hs(e);if(n!==Hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return nc(e).isEqual(nc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Bs(a.timestampValue),f=Bs(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return Fs(a.bytesValue).isEqual(Fs(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ce(a.geoPointValue.latitude)===Ce(l.geoPointValue.latitude)&&Ce(a.geoPointValue.longitude)===Ce(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ce(a.integerValue)===Ce(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ce(a.doubleValue),f=Ce(l.doubleValue);return c===f?Zf(c)===Zf(f):isNaN(c)&&isNaN(f)}return!1})(e,t);case 9:return ll(e.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Wb(c)!==Wb(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!Ki(c[m],f[m])))return!1;return!0})(e,t);default:return bt(52216,{left:e})}}function rc(e,t){return(e.values||[]).find((n=>Ki(n,t)))!==void 0}function ul(e,t){if(e===t)return 0;const n=Hs(e),r=Hs(t);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(e.booleanValue,t.booleanValue);case 2:return(function(l,c){const f=Ce(l.integerValue||l.doubleValue),m=Ce(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(e,t);case 3:return Jb(e.timestampValue,t.timestampValue);case 4:return Jb(nc(e),nc(t));case 5:return Jg(e.stringValue,t.stringValue);case 6:return(function(l,c){const f=Fs(l),m=Fs(c);return f.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,c){const f=l.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=Mt(f[p],m[p]);if(y!==0)return y}return Mt(f.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,c){const f=Mt(Ce(l.latitude),Ce(c.latitude));return f!==0?f:Mt(Ce(l.longitude),Ce(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return tw(e.arrayValue,t.arrayValue);case 10:return(function(l,c){var f,m,p,y;const _=l.fields||{},E=c.fields||{},S=(f=_[td])===null||f===void 0?void 0:f.arrayValue,D=(m=E[td])===null||m===void 0?void 0:m.arrayValue,A=Mt(((p=S?.values)===null||p===void 0?void 0:p.length)||0,((y=D?.values)===null||y===void 0?void 0:y.length)||0);return A!==0?A:tw(S,D)})(e.mapValue,t.mapValue);case 11:return(function(l,c){if(l===pf.mapValue&&c===pf.mapValue)return 0;if(l===pf.mapValue)return 1;if(c===pf.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=c.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const E=Jg(m[_],y[_]);if(E!==0)return E;const S=ul(f[m[_]],p[y[_]]);if(S!==0)return S}return Mt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw bt(23264,{le:n})}}function Jb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Mt(e,t);const n=Bs(e),r=Bs(t),a=Mt(n.seconds,r.seconds);return a!==0?a:Mt(n.nanos,r.nanos)}function tw(e,t){const n=e.values||[],r=t.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=ul(n[a],r[a]);if(l)return l}return Mt(n.length,r.length)}function cl(e){return ty(e)}function ty(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return Fs(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=ty(l);return r+"]"})(e.arrayValue):"mapValue"in e?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${ty(n.fields[c])}`;return a+"}"})(e.mapValue):bt(61005,{value:e})}function Pf(e){switch(Hs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Nd(e);return t?16+Pf(t):16;case 5:return 2*e.stringValue.length;case 6:return Fs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Pf(l)),0)})(e.arrayValue);case 10:case 11:return(function(r){let a=0;return Xs(r.fields,((l,c)=>{a+=l.length+Pf(c)})),a})(e.mapValue);default:throw bt(13486,{value:e})}}function ed(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ey(e){return!!e&&"integerValue"in e}function uv(e){return!!e&&"arrayValue"in e}function ew(e){return!!e&&"nullValue"in e}function nw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function kf(e){return!!e&&"mapValue"in e}function JV(e){var t,n;return((n=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{})[U1])===null||n===void 0?void 0:n.stringValue)===j1}function qu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xs(e.mapValue.fields,((n,r)=>t.mapValue.fields[n]=qu(r))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=qu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tP(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ZV}class xn{constructor(t){this.value=t}static empty(){return new xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!kf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=qu(n)}setAll(t){let n=en.emptyPath(),r={},a=[];t.forEach(((c,f)=>{if(!n.isImmediateParentOf(f)){const m=this.getFieldsMap(n);this.applyChanges(m,r,a),r={},a=[],n=f.popLast()}c?r[f.lastSegment()]=qu(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(t){const n=this.field(t.popLast());kf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let a=n.mapValue.fields[t.get(r)];kf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,r){Xs(n,((a,l)=>t[a]=l));for(const a of r)delete t[a]}clone(){return new xn(qu(this.value))}}function z1(e){const t=[];return Xs(e.fields,((n,r)=>{const a=new en([n]);if(kf(r)){const l=z1(r.mapValue).fields;if(l.length===0)t.push(a);else for(const c of l)t.push(a.child(c))}else t.push(a)})),new zn(t)}class cn{constructor(t,n,r,a,l,c,f){this.key=t,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(t){return new cn(t,0,St.min(),St.min(),St.min(),xn.empty(),0)}static newFoundDocument(t,n,r,a){return new cn(t,1,n,St.min(),r,a,0)}static newNoDocument(t,n){return new cn(t,2,n,St.min(),St.min(),xn.empty(),0)}static newUnknownDocument(t,n){return new cn(t,3,n,St.min(),St.min(),xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof cn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hl{constructor(t,n){this.position=t,this.inclusive=n}}function iw(e,t,n){let r=0;for(let a=0;a<e.position.length;a++){const l=t[a],c=e.position[a];if(l.field.isKeyField()?r=yt.comparator(yt.fromName(c.referenceValue),n.key):r=ul(c,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function rw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ki(e.position[n],t.position[n]))return!1;return!0}class sc{constructor(t,n="asc"){this.field=t,this.dir=n}}function eP(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class B1{}class Ve extends B1{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new iP(t,n,r):n==="array-contains"?new aP(t,r):n==="in"?new oP(t,r):n==="not-in"?new lP(t,r):n==="array-contains-any"?new uP(t,r):new Ve(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new rP(t,r):new sP(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ul(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(ul(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends B1{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Ti(t,n)}matches(t){return F1(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function F1(e){return e.op==="and"}function H1(e){return nP(e)&&F1(e)}function nP(e){for(const t of e.filters)if(t instanceof Ti)return!1;return!0}function ny(e){if(e instanceof Ve)return e.field.canonicalString()+e.op.toString()+cl(e.value);if(H1(e))return e.filters.map((t=>ny(t))).join(",");{const t=e.filters.map((n=>ny(n))).join(",");return`${e.op}(${t})`}}function q1(e,t){return e instanceof Ve?(function(r,a){return a instanceof Ve&&r.op===a.op&&r.field.isEqual(a.field)&&Ki(r.value,a.value)})(e,t):e instanceof Ti?(function(r,a){return a instanceof Ti&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&q1(c,a.filters[f])),!0):!1})(e,t):void bt(19439)}function G1(e){return e instanceof Ve?(function(n){return`${n.field.canonicalString()} ${n.op} ${cl(n.value)}`})(e):e instanceof Ti?(function(n){return n.op.toString()+" {"+n.getFilters().map(G1).join(" ,")+"}"})(e):"Filter"}class iP extends Ve{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class rP extends Ve{constructor(t,n){super(t,"in",n),this.keys=K1("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class sP extends Ve{constructor(t,n){super(t,"not-in",n),this.keys=K1("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function K1(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>yt.fromName(r.referenceValue)))}class aP extends Ve{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return uv(n)&&rc(n.arrayValue,this.value)}}class oP extends Ve{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&rc(this.value.arrayValue,n)}}class lP extends Ve{constructor(t,n){super(t,"not-in",n)}matches(t){if(rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rc(this.value.arrayValue,n)}}class uP extends Ve{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rc(this.value.arrayValue,r)))}}class cP{constructor(t,n=null,r=[],a=[],l=null,c=null,f=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Pe=null}}function sw(e,t=null,n=[],r=[],a=null,l=null,c=null){return new cP(e,t,n,r,a,l,c)}function cv(e){const t=Rt(e);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>ny(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Id(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>cl(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>cl(r))).join(",")),t.Pe=n}return t.Pe}function hv(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!eP(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!q1(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rw(e.startAt,t.startAt)&&rw(e.endAt,t.endAt)}function iy(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class Xa{constructor(t,n=null,r=[],a=[],l=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function hP(e,t,n,r,a,l,c,f){return new Xa(e,t,n,r,a,l,c,f)}function Md(e){return new Xa(e)}function aw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function fv(e){return e.collectionGroup!==null}function sl(e){const t=Rt(e);if(t.Te===null){t.Te=[];const n=new Set;for(const l of t.explicitOrderBy)t.Te.push(l),n.add(l.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Ue(en.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Te.push(new sc(l,r))})),n.has(en.keyField().canonicalString())||t.Te.push(new sc(en.keyField(),r))}return t.Te}function ji(e){const t=Rt(e);return t.Ie||(t.Ie=fP(t,sl(e))),t.Ie}function fP(e,t){if(e.limitType==="F")return sw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new sc(a.field,l)}));const n=e.endAt?new hl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new hl(e.startAt.position,e.startAt.inclusive):null;return sw(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ry(e,t){const n=e.filters.concat([t]);return new Xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function nd(e,t,n){return new Xa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Od(e,t){return hv(ji(e),ji(t))&&e.limitType===t.limitType}function $1(e){return`${cv(ji(e))}|lt:${e.limitType}`}function $o(e){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>G1(a))).join(", ")}]`),Id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>cl(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>cl(a))).join(",")),`Target(${r})`})(ji(e))}; limitType=${e.limitType})`}function Vd(e,t){return t.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):yt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(e,t)&&(function(r,a){for(const l of sl(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(r,a){return!(r.startAt&&!(function(c,f,m){const p=iw(c,f,m);return c.inclusive?p<=0:p<0})(r.startAt,sl(r),a)||r.endAt&&!(function(c,f,m){const p=iw(c,f,m);return c.inclusive?p>=0:p>0})(r.endAt,sl(r),a))})(e,t)}function dP(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Y1(e){return(t,n)=>{let r=!1;for(const a of sl(e)){const l=mP(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function mP(e,t,n){const r=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(l,c,f){const m=c.data.field(l),p=f.data.field(l);return m!==null&&p!==null?ul(m,p):bt(42886)})(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:e.dir})}}class Wa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),a=this.inner[r];if(a===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Xs(this.inner,((n,r)=>{for(const[a,l]of r)t(a,l)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}const pP=new de(yt.comparator);function Vr(){return pP}const Q1=new de(yt.comparator);function Pu(...e){let t=Q1;for(const n of e)t=t.insert(n.key,n);return t}function X1(e){let t=Q1;return e.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Pa(){return Gu()}function W1(){return Gu()}function Gu(){return new Wa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const gP=new de(yt.comparator),yP=new Ue(yt.comparator);function jt(...e){let t=yP;for(const n of e)t=t.add(n);return t}const vP=new Ue(Mt);function _P(){return vP}function dv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(t)?"-0":t}}function Z1(e){return{integerValue:""+e}}function TP(e,t){return $V(t)?Z1(t):dv(e,t)}class Pd{constructor(){this._=void 0}}function EP(e,t,n){return e instanceof ac?(function(a,l){const c={fields:{[P1]:{stringValue:V1},[L1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Dd(l)&&(l=Nd(l)),l&&(c.fields[k1]=l),{mapValue:c}})(n,t):e instanceof oc?tR(e,t):e instanceof lc?eR(e,t):(function(a,l){const c=J1(a,l),f=ow(c)+ow(a.Ee);return ey(c)&&ey(a.Ee)?Z1(f):dv(a.serializer,f)})(e,t)}function bP(e,t,n){return e instanceof oc?tR(e,t):e instanceof lc?eR(e,t):n}function J1(e,t){return e instanceof id?(function(r){return ey(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(t)?t:{integerValue:0}:null}class ac extends Pd{}class oc extends Pd{constructor(t){super(),this.elements=t}}function tR(e,t){const n=nR(t);for(const r of e.elements)n.some((a=>Ki(a,r)))||n.push(r);return{arrayValue:{values:n}}}class lc extends Pd{constructor(t){super(),this.elements=t}}function eR(e,t){let n=nR(t);for(const r of e.elements)n=n.filter((a=>!Ki(a,r)));return{arrayValue:{values:n}}}class id extends Pd{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function ow(e){return Ce(e.integerValue||e.doubleValue)}function nR(e){return uv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class wP{constructor(t,n){this.field=t,this.transform=n}}function SP(e,t){return e.field.isEqual(t.field)&&(function(r,a){return r instanceof oc&&a instanceof oc||r instanceof lc&&a instanceof lc?ll(r.elements,a.elements,Ki):r instanceof id&&a instanceof id?Ki(r.Ee,a.Ee):r instanceof ac&&a instanceof ac})(e.transform,t.transform)}class AP{constructor(t,n){this.version=t,this.transformResults=n}}class oi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new oi}static exists(t){return new oi(void 0,t)}static updateTime(t){return new oi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class kd{}function iR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new mv(e.key,oi.none()):new wc(e.key,e.data,oi.none());{const n=e.data,r=xn.empty();let a=new Ue(en.comparator);for(let l of t.fields)if(!a.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ws(e.key,r,new zn(a.toArray()),oi.none())}}function RP(e,t,n){e instanceof wc?(function(a,l,c){const f=a.value.clone(),m=uw(a.fieldTransforms,l,c.transformResults);f.setAll(m),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(e,t,n):e instanceof Ws?(function(a,l,c){if(!Lf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=uw(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(rR(a)),m.setAll(f),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Ku(e,t,n,r){return e instanceof wc?(function(l,c,f,m){if(!Lf(l.precondition,c))return f;const p=l.value.clone(),y=cw(l.fieldTransforms,m,c);return p.setAll(y),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(e,t,n,r):e instanceof Ws?(function(l,c,f,m){if(!Lf(l.precondition,c))return f;const p=cw(l.fieldTransforms,m,c),y=c.data;return y.setAll(rR(l)),y.setAll(p),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,r):(function(l,c,f){return Lf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(e,t,n)}function CP(e,t){let n=null;for(const r of e.fieldTransforms){const a=t.data.field(r.field),l=J1(r.transform,a||null);l!=null&&(n===null&&(n=xn.empty()),n.set(r.field,l))}return n||null}function lw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&ll(r,a,((l,c)=>SP(l,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wc extends kd{constructor(t,n,r,a=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ws extends kd{constructor(t,n,r,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rR(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function uw(e,t,n){const r=new Map;$t(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let a=0;a<n.length;a++){const l=e[a],c=l.transform,f=t.data.field(l.field);r.set(l.field,bP(c,f,n[a]))}return r}function cw(e,t,n){const r=new Map;for(const a of e){const l=a.transform,c=n.data.field(a.field);r.set(a.field,EP(l,c,t))}return r}class mv extends kd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xP extends kd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IP{constructor(t,n,r,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&RP(l,t,r[a])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ku(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ku(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=W1();return this.mutations.forEach((a=>{const l=t.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=n.has(a.key)?null:f;const m=iR(c,f);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),jt())}isEqual(t){return this.batchId===t.batchId&&ll(this.mutations,t.mutations,((n,r)=>lw(n,r)))&&ll(this.baseMutations,t.baseMutations,((n,r)=>lw(n,r)))}}class pv{constructor(t,n,r,a){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(t,n,r){$t(t.mutations.length===r.length,58842,{Ve:t.mutations.length,me:r.length});let a=(function(){return gP})();const l=t.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new pv(t,n,r,a)}}class DP{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NP{constructor(t,n){this.count=t,this.unchangedNames=n}}var Oe,Bt;function MP(e){switch(e){case nt.OK:return bt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return bt(15467,{code:e})}}function sR(e){if(e===void 0)return Or("GRPC error has no .code"),nt.UNKNOWN;switch(e){case Oe.OK:return nt.OK;case Oe.CANCELLED:return nt.CANCELLED;case Oe.UNKNOWN:return nt.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return nt.INTERNAL;case Oe.UNAVAILABLE:return nt.UNAVAILABLE;case Oe.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Oe.NOT_FOUND:return nt.NOT_FOUND;case Oe.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Oe.ABORTED:return nt.ABORTED;case Oe.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Oe.DATA_LOSS:return nt.DATA_LOSS;default:return bt(39323,{code:e})}}(Bt=Oe||(Oe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";const OP=new ks([4294967295,4294967295],0);function hw(e){const t=x1().encode(e),n=new T1;return n.update(t),new Uint8Array(n.digest())}function fw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ks([n,r],0),new ks([a,l],0)]}class gv{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ku(`Invalid padding: ${n}`);if(r<0)throw new ku(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new ku(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new ku(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=ks.fromNumber(this.fe)}pe(t,n,r){let a=t.add(n.multiply(ks.fromNumber(r)));return a.compare(OP)===1&&(a=new ks([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=hw(t),[r,a]=fw(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);if(!this.ye(c))return!1}return!0}static create(t,n,r){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),c=new gv(l,a,n);return r.forEach((f=>c.insert(f))),c}insert(t){if(this.fe===0)return;const n=hw(t),[r,a]=fw(n);for(let l=0;l<this.hashCount;l++){const c=this.pe(r,a,l);this.we(c)}}we(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class ku extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ld{constructor(t,n,r,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const a=new Map;return a.set(t,Sc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Ld(St.min(),a,new de(Mt),Vr(),jt())}}class Sc{constructor(t,n,r,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Sc(r,n,jt(),jt(),jt())}}class Uf{constructor(t,n,r,a){this.Se=t,this.removedTargetIds=n,this.key=r,this.be=a}}class aR{constructor(t,n){this.targetId=t,this.De=n}}class oR{constructor(t,n,r=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a}}class dw{constructor(){this.ve=0,this.Ce=mw(),this.Fe=nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=jt(),n=jt(),r=jt();return this.Ce.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:bt(38017,{changeType:l})}})),new Sc(this.Fe,this.Me,t,n,r)}ke(){this.xe=!1,this.Ce=mw()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class VP{constructor(t){this.We=t,this.Ge=new Map,this.ze=Vr(),this.je=gf(),this.Je=gf(),this.He=new de(Mt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,(n=>{const r=this.tt(n);switch(t.state){case 0:this.nt(n)&&r.Be(t.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(t.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach(((r,a)=>{this.nt(a)&&n(a)}))}it(t){const n=t.targetId,r=t.De.count,a=this.st(n);if(a){const l=a.target;if(iy(l))if(r===0){const c=new yt(l.path);this.Xe(n,c,cn.newNoDocument(c,St.min()))}else $t(r===1,20013,{expectedCount:r});else{const c=this.ot(n);if(c!==r){const f=this._t(t),m=f?this.ut(f,t,c):1;if(m!==0){this.rt(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,p)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let c,f;try{c=Fs(r).toUint8Array()}catch(m){if(m instanceof O1)return js("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new gv(c,a,l)}catch(m){return js(m instanceof ku?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.fe===0?null:f}ut(t,n,r){return n.De.count===r-this.ht(t,n.targetId)?0:2}ht(t,n){const r=this.We.getRemoteKeysForTarget(n);let a=0;return r.forEach((l=>{const c=this.We.lt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.Xe(n,l,null),a++)})),a}Pt(t){const n=new Map;this.Ge.forEach(((l,c)=>{const f=this.st(c);if(f){if(l.current&&iy(f.target)){const m=new yt(f.target.path);this.Tt(m).has(c)||this.It(c,m)||this.Xe(c,m,cn.newNoDocument(m,t))}l.Ne&&(n.set(c,l.Le()),l.ke())}}));let r=jt();this.Je.forEach(((l,c)=>{let f=!0;c.forEachWhile((m=>{const p=this.st(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.ze.forEach(((l,c)=>c.setReadTime(t)));const a=new Ld(t,n,this.He,this.ze,r);return this.ze=Vr(),this.je=gf(),this.Je=gf(),this.He=new de(Mt),a}Ze(t,n){if(!this.nt(t))return;const r=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,r){if(!this.nt(t))return;const a=this.tt(t);this.It(t,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new dw,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new Ue(Mt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new Ue(Mt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||dt("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new dw),this.We.getRemoteKeysForTarget(t).forEach((n=>{this.Xe(t,n,null)}))}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function gf(){return new de(yt.comparator)}function mw(){return new de(yt.comparator)}const PP={asc:"ASCENDING",desc:"DESCENDING"},kP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LP={and:"AND",or:"OR"};class UP{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sy(e,t){return e.useProto3Json||Id(t)?t:{value:t}}function rd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jP(e,t){return rd(e,t.toTimestamp())}function zi(e){return $t(!!e,49232),St.fromTimestamp((function(n){const r=Bs(n);return new se(r.seconds,r.nanos)})(e))}function yv(e,t){return ay(e,t).canonicalString()}function ay(e,t){const n=(function(a){return new ee(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function uR(e){const t=ee.fromString(e);return $t(mR(t),10190,{key:t.toString()}),t}function oy(e,t){return yv(e.databaseId,t.path)}function Tg(e,t){const n=uR(t);if(n.get(1)!==e.databaseId.projectId)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ht(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(hR(n))}function cR(e,t){return yv(e.databaseId,t)}function zP(e){const t=uR(e);return t.length===4?ee.emptyPath():hR(t)}function ly(e){return new ee(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hR(e){return $t(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function pw(e,t,n){return{name:oy(e,t),fields:n.value.mapValue.fields}}function BP(e,t){let n;if("targetChange"in t){t.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:bt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?($t(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):($t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&(function(p){const y=p.code===void 0?nt.UNKNOWN:sR(p.code);return new ht(y,p.message||"")})(c);n=new oR(r,a,l,f||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const a=Tg(e,r.document.name),l=zi(r.document.updateTime),c=r.document.createTime?zi(r.document.createTime):St.min(),f=new xn({mapValue:{fields:r.document.fields}}),m=cn.newFoundDocument(a,l,c,f),p=r.targetIds||[],y=r.removedTargetIds||[];n=new Uf(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const a=Tg(e,r.document),l=r.readTime?zi(r.readTime):St.min(),c=cn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new Uf([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const a=Tg(e,r.document),l=r.removedTargetIds||[];n=new Uf([],l,a,null)}else{if(!("filter"in t))return bt(11601,{At:t});{t.filter;const r=t.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new NP(a,l),f=r.targetId;n=new aR(f,c)}}return n}function FP(e,t){let n;if(t instanceof wc)n={update:pw(e,t.key,t.value)};else if(t instanceof mv)n={delete:oy(e,t.key)};else if(t instanceof Ws)n={update:pw(e,t.key,t.data),updateMask:WP(t.fieldMask)};else{if(!(t instanceof xP))return bt(16599,{Rt:t.type});n={verify:oy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof ac)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof oc)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof lc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof id)return{fieldPath:c.field.canonicalString(),increment:f.Ee};throw bt(20930,{transform:c.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:jP(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:bt(27497)})(e,t.precondition)),n}function HP(e,t){return e&&e.length>0?($t(t!==void 0,14353),e.map((n=>(function(a,l){let c=a.updateTime?zi(a.updateTime):zi(l);return c.isEqual(St.min())&&(c=zi(l)),new AP(c,a.transformResults||[])})(n,t)))):[]}function qP(e,t){return{documents:[cR(e,t.path)]}}function GP(e,t){const n={structuredQuery:{}},r=t.path;let a;t.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cR(e,a);const l=(function(p){if(p.length!==0)return dR(Ti.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:Yo(E.field),direction:YP(E.dir)}})(y)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const f=sy(e,t.limit);return f!==null&&(n.structuredQuery.limit=f),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{Vt:n,parent:a}}function KP(e){let t=zP(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){$t(r===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const E=fR(_);return E instanceof Ti&&H1(E)?E.getFilters():[E]})(n.where));let c=[];n.orderBy&&(c=(function(_){return _.map((E=>(function(D){return new sc(Qo(D.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let f=null;n.limit&&(f=(function(_){let E;return E=typeof _=="object"?_.value:_,Id(E)?null:E})(n.limit));let m=null;n.startAt&&(m=(function(_){const E=!!_.before,S=_.values||[];return new hl(S,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const E=!_.before,S=_.values||[];return new hl(S,E)})(n.endAt)),hP(t,a,c,l,f,"F",m,p)}function $P(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function fR(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qo(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Qo(n.unaryFilter.field);return Ve.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qo(n.unaryFilter.field);return Ve.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(n.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return Ve.create(Qo(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ti.create(n.compositeFilter.filters.map((r=>fR(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(n.compositeFilter.op))})(e):bt(30097,{filter:e})}function YP(e){return PP[e]}function QP(e){return kP[e]}function XP(e){return LP[e]}function Yo(e){return{fieldPath:e.canonicalString()}}function Qo(e){return en.fromServerFormat(e.fieldPath)}function dR(e){return e instanceof Ve?(function(n){if(n.op==="=="){if(nw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NAN"}};if(ew(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nw(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NAN"}};if(ew(n.value))return{unaryFilter:{field:Yo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yo(n.field),op:QP(n.op),value:n.value}}})(e):e instanceof Ti?(function(n){const r=n.getFilters().map((a=>dR(a)));return r.length===1?r[0]:{compositeFilter:{op:XP(n.op),filters:r}}})(e):bt(54877,{filter:e})}function WP(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function mR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class Os{constructor(t,n,r,a,l=St.min(),c=St.min(),f=nn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Os(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class ZP{constructor(t){this.gt=t}}function JP(e){const t=KP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?nd(t,t.limit,"L"):t}class tk{constructor(){this.Dn=new ek}addToCollectionParentIndex(t,n){return this.Dn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(zs.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(zs.min())}updateCollectionGroup(t,n,r){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class ek{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n]||new Ue(ee.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(t){const n=t.lastSegment(),r=t.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(t){return(this.index[t]||new Ue(ee.comparator)).toArray()}}const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040;class Cn{static withCacheSize(t){return new Cn(t,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(pR,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);class fl{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new fl(0)}static ur(){return new fl(-1)}}const yw="LruGarbageCollector",nk=1048576;function vw([e,t],[n,r]){const a=Mt(e,n);return a===0?Mt(t,r):a}class ik{constructor(t){this.Tr=t,this.buffer=new Ue(vw),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rk{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){dt(yw,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wl(n)?dt(yw,"Ignoring IndexedDB error during garbage collection: ",n):await bl(n)}await this.Rr(3e5)}))}}class sk{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return at.resolve(xd.ue);const r=new ik(n);return this.Vr.forEachTarget(t,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.gr(t,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.Vr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(gw)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.pr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let r,a,l,c,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(r=_,f=Date.now(),this.removeTargets(t,r,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,r)))).next((_=>(p=Date.now(),Ko()<=Ut.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function ak(e,t){return new sk(e,t)}class ok{constructor(){this.changes=new Wa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,cn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?at.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lk{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class uk{constructor(t,n,r,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(r!==null&&Ku(r.mutation,a,zn.empty(),se.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,jt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=jt()){const a=Pa();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,r).next((l=>{let c=Pu();return l.forEach(((f,m)=>{c=c.insert(f,m.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const r=Pa();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,jt())))}populateOverlays(t,n,r){const a=[];return r.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((c,f)=>{n.set(c,f)}))}))}computeViews(t,n,r,a){let l=Vr();const c=Gu(),f=(function(){return Gu()})();return n.forEach(((m,p)=>{const y=r.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ws)?l=l.insert(p.key,p):y!==void 0?(c.set(p.key,y.mutation.getFieldMask()),Ku(y.mutation,p,y.mutation.getFieldMask(),se.now())):c.set(p.key,zn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>c.set(p,y))),n.forEach(((p,y)=>{var _;return f.set(p,new lk(y,(_=c.get(p))!==null&&_!==void 0?_:null))})),f)))}recalculateAndSaveOverlays(t,n){const r=Gu();let a=new de(((c,f)=>c-f)),l=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const f of c)f.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=r.get(m)||zn.empty();y=f.applyToLocalView(p,y),r.set(m,y);const _=(a.get(f.batchId)||jt()).add(m);a=a.insert(f.batchId,_)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,_=W1();y.forEach((E=>{if(!l.has(E)){const S=iR(n.get(E),r.get(E));S!==null&&_.set(E,S),l=l.add(E)}})),c.push(this.documentOverlayCache.saveOverlays(t,p,_))}return at.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,a){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):fv(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,a):this.getDocumentsMatchingCollectionQuery(t,n,r,a)}getNextDocuments(t,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,a-l.size):at.resolve(Pa());let f=ec,m=l;return c.next((p=>at.forEach(p,((y,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,jt()))).next((y=>({batchId:f,changes:X1(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((r=>{let a=Pu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,a){const l=n.collectionGroup;let c=Pu();return this.indexManager.getCollectionParents(t,l).next((f=>at.forEach(f,(m=>{const p=(function(_,E){return new Xa(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,r,a).next((y=>{y.forEach(((_,E)=>{c=c.insert(_,E)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,l,a)))).next((c=>{l.forEach(((m,p)=>{const y=p.getKey();c.get(y)===null&&(c=c.insert(y,cn.newInvalidDocument(y)))}));let f=Pu();return c.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Ku(y.mutation,p,zn.empty(),se.now()),Vd(n,p)&&(f=f.insert(m,p))})),f}))}}class ck{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return at.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:zi(a.createTime)}})(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,(function(a){return{name:a.name,query:JP(a.bundledQuery),readTime:zi(a.readTime)}})(n)),at.resolve()}}class hk{constructor(){this.overlays=new de(yt.comparator),this.kr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Pa();return at.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((a,l)=>{this.wt(t,n,l)})),at.resolve()}removeOverlaysForBatchId(t,n,r){const a=this.kr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(r)),at.resolve()}getOverlaysForCollection(t,n,r){const a=Pa(),l=n.length+1,c=new yt(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return at.resolve(a)}getOverlaysForCollectionGroup(t,n,r,a){let l=new de(((p,y)=>p-y));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let y=l.get(p.largestBatchId);y===null&&(y=Pa(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Pa(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return at.resolve(f)}wt(t,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.kr.get(a.largestBatchId).delete(r.key);this.kr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new DP(n,r));let l=this.kr.get(n);l===void 0&&(l=jt(),this.kr.set(n,l)),this.kr.set(n,l.add(r.key))}}class fk{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}class vv{constructor(){this.qr=new Ue(qe.Qr),this.$r=new Ue(qe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const r=new qe(t,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Wr(new qe(t,n))}Gr(t,n){t.forEach((r=>this.removeReference(r,n)))}zr(t){const n=new yt(new ee([])),r=new qe(n,t),a=new qe(n,t+1),l=[];return this.$r.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}jr(){this.qr.forEach((t=>this.Wr(t)))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new yt(new ee([])),r=new qe(n,t),a=new qe(n,t+1);let l=jt();return this.$r.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(t){const n=new qe(t,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class qe{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return yt.comparator(t.key,n.key)||Mt(t.Hr,n.Hr)}static Ur(t,n){return Mt(t.Hr,n.Hr)||yt.comparator(t.key,n.key)}}class dk{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Ue(qe.Qr)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,a){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new IP(l,n,r,a);this.mutationQueue.push(c);for(const f of a)this.Yr=this.Yr.add(new qe(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return at.resolve(c)}lookupMutationBatch(t,n){return at.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,a=this.Xr(r),l=a<0?0:a;return at.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?lv:this.er-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new qe(n,0),a=new qe(n,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([r,a],(c=>{const f=this.Zr(c.Hr);l.push(f)})),at.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ue(Mt);return n.forEach((a=>{const l=new qe(a,0),c=new qe(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,c],(f=>{r=r.add(f.Hr)}))})),at.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,a=r.length+1;let l=r;yt.isDocumentKey(l)||(l=l.child(""));const c=new qe(new yt(l),0);let f=new Ue(Mt);return this.Yr.forEachWhile((m=>{const p=m.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),c),at.resolve(this.ei(f))}ei(t){const n=[];return t.forEach((r=>{const a=this.Zr(r);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){$t(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return at.forEach(n.mutations,(a=>{const l=new qe(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Yr=r}))}rr(t){}containsKey(t,n){const r=new qe(n,0),a=this.Yr.firstAfterOrEqual(r);return at.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class mk{constructor(t){this.ni=t,this.docs=(function(){return new de(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,c=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return at.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(t,n){let r=Vr();return n.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))})),at.resolve(r)}getDocumentsMatchingQuery(t,n,r,a){let l=Vr();const c=n.path,f=new yt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||HV(FV(y),r)<=0||(a.has(y.key)||Vd(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(t,n,r,a){bt(9500)}ri(t,n){return at.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new pk(this)}getSize(t){return at.resolve(this.size)}}class pk extends ok{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(t,a)):this.Or.removeEntry(r)})),at.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}class gk{constructor(t){this.persistence=t,this.ii=new Wa((n=>cv(n)),hv),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.si=0,this.oi=new vv,this.targetCount=0,this._i=fl.ar()}forEachTarget(t,n){return this.ii.forEach(((r,a)=>n(a))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),at.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new fl(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.hr(n),at.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,r){let a=0;const l=[];return this.ii.forEach(((c,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.ii.delete(c),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),at.waitFor(l).next((()=>a))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const r=this.ii.get(n)||null;return at.resolve(r)}addMatchingKeys(t,n,r){return this.oi.Kr(n,r),at.resolve()}removeMatchingKeys(t,n,r){this.oi.Gr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((c=>{l.push(a.markPotentiallyOrphaned(t,c))})),at.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const r=this.oi.Jr(n);return at.resolve(r)}containsKey(t,n){return at.resolve(this.oi.containsKey(n))}}class gR{constructor(t,n){this.ai={},this.overlays={},this.ui=new xd(0),this.ci=!1,this.ci=!0,this.li=new fk,this.referenceDelegate=t(this),this.hi=new gk(this),this.indexManager=new tk,this.remoteDocumentCache=(function(a){return new mk(a)})((r=>this.referenceDelegate.Pi(r))),this.serializer=new ZP(n),this.Ti=new ck(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new hk,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ai[t.toKey()];return r||(r=new dk(n,this.referenceDelegate),this.ai[t.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,r){dt("MemoryPersistence","Starting transaction:",t);const a=new yk(this.ui.next());return this.referenceDelegate.Ii(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,n){return at.or(Object.values(this.ai).map((r=>()=>r.containsKey(t,n))))}}class yk extends GV{constructor(t){super(),this.currentSequenceNumber=t}}class _v{constructor(t){this.persistence=t,this.Ai=new vv,this.Ri=null}static Vi(t){return new _v(t)}get mi(){if(this.Ri)return this.Ri;throw bt(60996)}addReference(t,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),at.resolve()}removeReference(t,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),at.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach((a=>this.mi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.mi.add(l.toString())))})).next((()=>r.removeTargetData(t,n)))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.mi,(r=>{const a=yt.fromPath(r);return this.fi(t,a).next((l=>{l||n.removeEntry(a,St.min())}))})).next((()=>(this.Ri=null,n.apply(t))))}updateLimboDocument(t,n){return this.fi(t,n).next((r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(t){return 0}fi(t,n){return at.or([()=>at.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class sd{constructor(t,n){this.persistence=t,this.gi=new Wa((r=>YV(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=ak(this,n)}static Vi(t,n){return new sd(t,n)}Ii(){}di(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((a=>r+a))))}yr(t){let n=0;return this.gr(t,(r=>{n++})).next((()=>n))}gr(t,n){return at.forEach(this.gi,((r,a)=>this.Sr(t,r,a).next((l=>l?at.resolve():n(a)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ri(t,(c=>this.Sr(t,c,n).next((f=>{f||(r++,l.removeEntry(c,St.min()))})))).next((()=>l.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.gi.set(r,t.currentSequenceNumber),at.resolve()}removeReference(t,n,r){return this.gi.set(r,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),at.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Pf(t.data.value)),n}Sr(t,n,r){return at.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.gi.get(n);return at.resolve(a!==void 0&&a>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Tv{constructor(t,n,r,a){this.targetId=t,this.fromCache=n,this.Is=r,this.ds=a}static Es(t,n){let r=jt(),a=jt();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Tv(t,n.fromCache,r,a)}}class vk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _k{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return dN()?8:KV(fn())>0?6:4})()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,r,a){const l={result:null};return this.ps(t,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ys(t,n,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new vk;return this.ws(t,n,c).next((f=>{if(l.result=f,this.Rs)return this.Ss(t,n,c,f.size)}))})).next((()=>l.result))}Ss(t,n,r,a){return r.documentReadCount<this.Vs?(Ko()<=Ut.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),at.resolve()):(Ko()<=Ut.DEBUG&&dt("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.fs*a?(Ko()<=Ut.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ji(n))):at.resolve())}ps(t,n){if(aw(n))return at.resolve(null);let r=ji(n);return this.indexManager.getIndexType(t,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=nd(n,null,"F"),r=ji(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((l=>{const c=jt(...l);return this.gs.getDocuments(t,c).next((f=>this.indexManager.getMinOffset(t,r).next((m=>{const p=this.bs(n,f);return this.Ds(n,p,c,m.readTime)?this.ps(t,nd(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ys(t,n,r,a){return aw(n)||a.isEqual(St.min())?at.resolve(null):this.gs.getDocuments(t,r).next((l=>{const c=this.bs(n,l);return this.Ds(n,c,r,a)?at.resolve(null):(Ko()<=Ut.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$o(n)),this.vs(t,c,n,BV(a,ec)).next((f=>f)))}))}bs(t,n){let r=new Ue(Y1(t));return n.forEach(((a,l)=>{Vd(t,l)&&(r=r.add(l))})),r}Ds(t,n,r,a){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ws(t,n,r){return Ko()<=Ut.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",$o(n)),this.gs.getDocumentsMatchingQuery(t,n,zs.min(),r)}vs(t,n,r,a){return this.gs.getDocumentsMatchingQuery(t,r,a).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const Ev="LocalStore",Tk=3e8;class Ek{constructor(t,n,r,a){this.persistence=t,this.Cs=n,this.serializer=a,this.Fs=new de(Mt),this.Ms=new Wa((l=>cv(l)),hv),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(r)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uk(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Fs)))}}function bk(e,t,n,r){return new Ek(e,t,n,r)}async function yR(e,t){const n=Rt(e);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,n.Ns(t),n.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let m=jt();for(const p of a){c.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(r,m).next((p=>({Bs:p,removedBatchIds:c,addedBatchIds:f})))}))}))}function wk(e,t){const n=Rt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=t.batch.keys(),l=n.Os.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const _=p.batch,E=_.keys();let S=at.resolve();return E.forEach((D=>{S=S.next((()=>y.getEntry(m,D))).next((A=>{const x=p.docVersions.get(D);$t(x!==null,48541),A.version.compareTo(x)<0&&(_.applyToRemoteDocument(A,p),A.isValidDocument()&&(A.setReadTime(p.commitVersion),y.addEntry(A)))}))})),S.next((()=>f.mutationQueue.removeMutationBatch(m,_)))})(n,r,t,l).next((()=>l.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let m=jt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function vR(e){const t=Rt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.hi.getLastRemoteSnapshotVersion(n)))}function Sk(e,t){const n=Rt(e),r=t.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const f=[];t.targetChanges.forEach(((y,_)=>{const E=a.get(_);if(!E)return;f.push(n.hi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.hi.addMatchingKeys(l,y.addedDocuments,_))));let S=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?S=S.withResumeToken(nn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,r)),a=a.insert(_,S),(function(A,x,V){return A.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Tk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0})(E,S,y)&&f.push(n.hi.updateTargetData(l,S))}));let m=Vr(),p=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(Ak(l,c,t.documentUpdates).next((y=>{m=y.Ls,p=y.ks}))),!r.isEqual(St.min())){const y=n.hi.getLastRemoteSnapshotVersion(l).next((_=>n.hi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(y)}return at.waitFor(f).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Fs=a,l)))}function Ak(e,t,n){let r=jt(),a=jt();return n.forEach((l=>r=r.add(l))),t.getEntries(e,r).next((l=>{let c=Vr();return n.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(St.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):dt(Ev,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Ls:c,ks:a}}))}function Rk(e,t){const n=Rt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=lv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function Ck(e,t){const n=Rt(e);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.hi.getTargetData(r,t).next((l=>l?(a=l,at.resolve(a)):n.hi.allocateTargetId(r).next((c=>(a=new Os(t,c,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Fs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(t,r.targetId)),r}))}async function uy(e,t,n){const r=Rt(e),a=r.Fs.get(t),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!wl(c))throw c;dt(Ev,`Failed to update sequence numbers for target ${t}: ${c}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(a.target)}function _w(e,t,n){const r=Rt(e);let a=St.min(),l=jt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,p,y){const _=Rt(m),E=_.Ms.get(y);return E!==void 0?at.resolve(_.Fs.get(E)):_.hi.getTargetData(p,y)})(r,c,ji(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(c,f.targetId).next((m=>{l=m}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,t,n?a:St.min(),n?l:jt()))).next((f=>(xk(r,dP(t),f),{documents:f,qs:l})))))}function xk(e,t,n){let r=e.xs.get(t)||St.min();n.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),e.xs.set(t,r)}class Tw{constructor(){this.activeTargetIds=_P()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ik{constructor(){this.Fo=new Tw,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,r){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new Tw,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Dk{xo(t){}shutdown(){}}const Ew="ConnectivityMonitor";class bw{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){dt(Ew,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){dt(Ew,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yf=null;function cy(){return yf===null?yf=(function(){return 268435456+Math.round(2147483648*Math.random())})():yf++,"0x"+yf.toString(16)}const Eg="RestConnection",Nk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mk{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${r}/databases/${a}`,this.Ko=this.databaseId.database===Jf?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(t,n,r,a,l){const c=cy(),f=this.Go(t,n.toUriEncodedString());dt(Eg,`Sending RPC '${t}' ${c}:`,f,r);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,a,l);const{host:p}=new URL(f),y=Qs(p);return this.jo(t,f,m,r,y).then((_=>(dt(Eg,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw js(Eg,`RPC '${t}' ${c} failed with error: `,_,"url: ",f,"request:",r),_}))}Jo(t,n,r,a,l,c){return this.Wo(t,n,r,a,l)}zo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),r&&r.headers.forEach(((a,l)=>t[l]=a))}Go(t,n){const r=Nk[t];return`${this.$o}/v1/${n}:${r}`}terminate(){}}class Ok{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}const on="WebChannelConnection";class Vk extends Mk{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,r,a,l){const c=cy();return new Promise(((f,m)=>{const p=new E1;p.setWithCredentials(!0),p.listenOnce(b1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Vf.NO_ERROR:const _=p.getResponseJson();dt(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),f(_);break;case Vf.TIMEOUT:dt(on,`RPC '${t}' ${c} timed out`),m(new ht(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Vf.HTTP_ERROR:const E=p.getStatus();if(dt(on,`RPC '${t}' ${c} failed with status:`,E,"response text:",p.getResponseText()),E>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const D=S?.error;if(D&&D.status&&D.message){const A=(function(V){const L=V.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(L)>=0?L:nt.UNKNOWN})(D.status);m(new ht(A,D.message))}else m(new ht(nt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ht(nt.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{c_:t,streamId:c,l_:p.getLastErrorCode(),h_:p.getLastError()})}}finally{dt(on,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(on,`RPC '${t}' ${c} sending request:`,a),p.send(n,"POST",y,r,15)}))}P_(t,n,r){const a=cy(),l=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=A1(),f=S1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=l.join("");dt(on,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=c.createWebChannel(y,m);this.T_(_);let E=!1,S=!1;const D=new Ok({Ho:x=>{S?dt(on,`Not sending because RPC '${t}' stream ${a} is closed:`,x):(E||(dt(on,`Opening RPC '${t}' stream ${a} transport.`),_.open(),E=!0),dt(on,`RPC '${t}' stream ${a} sending:`,x),_.send(x))},Yo:()=>_.close()}),A=(x,V,L)=>{x.listen(V,(P=>{try{L(P)}catch(K){setTimeout((()=>{throw K}),0)}}))};return A(_,Vu.EventType.OPEN,(()=>{S||(dt(on,`RPC '${t}' stream ${a} transport opened.`),D.s_())})),A(_,Vu.EventType.CLOSE,(()=>{S||(S=!0,dt(on,`RPC '${t}' stream ${a} transport closed`),D.__(),this.I_(_))})),A(_,Vu.EventType.ERROR,(x=>{S||(S=!0,js(on,`RPC '${t}' stream ${a} transport errored. Name:`,x.name,"Message:",x.message),D.__(new ht(nt.UNAVAILABLE,"The operation could not be completed")))})),A(_,Vu.EventType.MESSAGE,(x=>{var V;if(!S){const L=x.data[0];$t(!!L,16349);const P=L,K=P?.error||((V=P[0])===null||V===void 0?void 0:V.error);if(K){dt(on,`RPC '${t}' stream ${a} received error:`,K);const q=K.status;let Y=(function(N){const U=Oe[N];if(U!==void 0)return sR(U)})(q),R=K.message;Y===void 0&&(Y=nt.INTERNAL,R="Unknown error status: "+q+" with message "+K.message),S=!0,D.__(new ht(Y,R)),_.close()}else dt(on,`RPC '${t}' stream ${a} received:`,L),D.a_(L)}})),A(f,w1.STAT_EVENT,(x=>{x.stat===Zg.PROXY?dt(on,`RPC '${t}' stream ${a} detected buffering proxy`):x.stat===Zg.NOPROXY&&dt(on,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.o_()}),0),D}terminate(){this.u_.forEach((t=>t.close())),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter((n=>n===t))}}function bg(){return typeof document<"u"?document:null}function Ud(e){return new UP(e,!0)}class _R{constructor(t,n,r=1e3,a=1.5,l=6e4){this.Fi=t,this.timerId=n,this.d_=r,this.E_=a,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-r);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),t()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}const ww="PersistentStream";class TR{constructor(t,n,r,a,l,c,f,m){this.Fi=t,this.w_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _R(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.b_===n&&this.W_(r,a)}),(r=>{t((()=>{const a=new ht(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(a)}))}))}W_(t,n){const r=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.e_((()=>{r((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{r((()=>this.G_(a)))})),this.stream.onMessage((a=>{r((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(t){return dt(ww,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget((()=>this.b_===t?n():(dt(ww,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Pk extends TR{constructor(t,n,r,a,l,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=BP(this.serializer,t),r=(function(l){if(!("targetChange"in l))return St.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?zi(c.readTime):St.min()})(t);return this.listener.J_(n,r)}H_(t){const n={};n.database=ly(this.serializer),n.addTarget=(function(l,c){let f;const m=c.target;if(f=iy(m)?{documents:qP(l,m)}:{query:GP(l,m).Vt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=lR(l,c.resumeToken);const p=sy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(St.min())>0){f.readTime=rd(l,c.snapshotVersion.toTimestamp());const p=sy(l,c.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const r=$P(this.serializer,t);r&&(n.labels=r),this.k_(n)}Y_(t){const n={};n.database=ly(this.serializer),n.removeTarget=t,this.k_(n)}}class kk extends TR{constructor(t,n,r,a,l,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=HP(t.writeResults,t.commitTime),r=zi(t.commitTime);return this.listener.ta(r,n)}na(){const t={};t.database=ly(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>FP(this.serializer,r)))};this.k_(n)}}class Lk{}class Uk extends Lk{constructor(t,n,r,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,r,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(t,ay(n,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ht(nt.UNKNOWN,l.toString())}))}Jo(t,n,r,a,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Jo(t,ay(n,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(nt.UNKNOWN,c.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class jk{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Or(n),this._a=!1):dt("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}const Ka="RemoteStore";class zk{constructor(t,n,r,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((c=>{r.enqueueAndForget((async()=>{Za(this)&&(dt(Ka,"Restarting streams for network reachability change."),await(async function(m){const p=Rt(m);p.Ia.add(4),await Ac(p),p.Aa.set("Unknown"),p.Ia.delete(4),await jd(p)})(this))}))})),this.Aa=new jk(r,a)}}async function jd(e){if(Za(e))for(const t of e.da)await t(!0)}async function Ac(e){for(const t of e.da)await t(!1)}function ER(e,t){const n=Rt(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Av(n)?Sv(n):Sl(n).x_()&&wv(n,t))}function bv(e,t){const n=Rt(e),r=Sl(n);n.Ta.delete(t),r.x_()&&bR(n,t),n.Ta.size===0&&(r.x_()?r.B_():Za(n)&&n.Aa.set("Unknown"))}function wv(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Sl(e).H_(t)}function bR(e,t){e.Ra.$e(t),Sl(e).Y_(t)}function Sv(e){e.Ra=new VP({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),Sl(e).start(),e.Aa.aa()}function Av(e){return Za(e)&&!Sl(e).M_()&&e.Ta.size>0}function Za(e){return Rt(e).Ia.size===0}function wR(e){e.Ra=void 0}async function Bk(e){e.Aa.set("Online")}async function Fk(e){e.Ta.forEach(((t,n)=>{wv(e,t)}))}async function Hk(e,t){wR(e),Av(e)?(e.Aa.la(t),Sv(e)):e.Aa.set("Unknown")}async function qk(e,t,n){if(e.Aa.set("Online"),t instanceof oR&&t.state===2&&t.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ta.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ta.delete(f),a.Ra.removeTarget(f))})(e,t)}catch(r){dt(Ka,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await ad(e,r)}else if(t instanceof Uf?e.Ra.Ye(t):t instanceof aR?e.Ra.it(t):e.Ra.et(t),!n.isEqual(St.min()))try{const r=await vR(e.localStore);n.compareTo(r)>=0&&await(function(l,c){const f=l.Ra.Pt(c);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ta.get(p);y&&l.Ta.set(p,y.withResumeToken(m.resumeToken,c))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ta.get(m);if(!y)return;l.Ta.set(m,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),bR(l,m);const _=new Os(y.target,m,p,y.sequenceNumber);wv(l,_)})),l.remoteSyncer.applyRemoteEvent(f)})(e,n)}catch(r){dt(Ka,"Failed to raise snapshot:",r),await ad(e,r)}}async function ad(e,t,n){if(!wl(t))throw t;e.Ia.add(1),await Ac(e),e.Aa.set("Offline"),n||(n=()=>vR(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{dt(Ka,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await jd(e)}))}function SR(e,t){return t().catch((n=>ad(e,n,t)))}async function zd(e){const t=Rt(e),n=qs(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:lv;for(;Gk(t);)try{const a=await Rk(t.localStore,r);if(a===null){t.Pa.length===0&&n.B_();break}r=a.batchId,Kk(t,a)}catch(a){await ad(t,a)}AR(t)&&RR(t)}function Gk(e){return Za(e)&&e.Pa.length<10}function Kk(e,t){e.Pa.push(t);const n=qs(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function AR(e){return Za(e)&&!qs(e).M_()&&e.Pa.length>0}function RR(e){qs(e).start()}async function $k(e){qs(e).na()}async function Yk(e){const t=qs(e);for(const n of e.Pa)t.X_(n.mutations)}async function Qk(e,t,n){const r=e.Pa.shift(),a=pv.from(r,t,n);await SR(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await zd(e)}async function Xk(e,t){t&&qs(e).Z_&&await(async function(r,a){if((function(c){return MP(c)&&c!==nt.ABORTED})(a.code)){const l=r.Pa.shift();qs(r).N_(),await SR(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await zd(r)}})(e,t),AR(e)&&RR(e)}async function Sw(e,t){const n=Rt(e);n.asyncQueue.verifyOperationInProgress(),dt(Ka,"RemoteStore received new credentials");const r=Za(n);n.Ia.add(3),await Ac(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await jd(n)}async function Wk(e,t){const n=Rt(e);t?(n.Ia.delete(2),await jd(n)):t||(n.Ia.add(2),await Ac(n),n.Aa.set("Unknown"))}function Sl(e){return e.Va||(e.Va=(function(n,r,a){const l=Rt(n);return l.ia(),new Pk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:Bk.bind(null,e),e_:Fk.bind(null,e),n_:Hk.bind(null,e),J_:qk.bind(null,e)}),e.da.push((async t=>{t?(e.Va.N_(),Av(e)?Sv(e):e.Aa.set("Unknown")):(await e.Va.stop(),wR(e))}))),e.Va}function qs(e){return e.ma||(e.ma=(function(n,r,a){const l=Rt(n);return l.ia(),new kk(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:$k.bind(null,e),n_:Xk.bind(null,e),ea:Yk.bind(null,e),ta:Qk.bind(null,e)}),e.da.push((async t=>{t?(e.ma.N_(),await zd(e)):(await e.ma.stop(),e.Pa.length>0&&(dt(Ka,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))}))),e.ma}class Rv{constructor(t,n,r,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,a,l){const c=Date.now()+r,f=new Rv(t,n,c,a,l);return f.start(r),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cv(e,t){if(Or("AsyncQueue",`${t}: ${e}`),wl(e))return new ht(nt.UNAVAILABLE,`${t}: ${e}`);throw e}class al{static emptySet(t){return new al(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Pu(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof al)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}class Aw{constructor(){this.fa=new de(yt.comparator)}track(t){const n=t.doc.key,r=this.fa.get(n);r?t.type!==0&&r.type===3?this.fa=this.fa.insert(n,t):t.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.fa=this.fa.remove(n):t.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):bt(63341,{At:t,ga:r}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal(((n,r)=>{t.push(r)})),t}}class dl{constructor(t,n,r,a,l,c,f,m,p){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,r,a,l){const c=[];return n.forEach((f=>{c.push({type:0,doc:f})})),new dl(t,n,al.emptySet(n),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Od(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}class Zk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((t=>t.ba()))}}class Jk{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const a=Rt(n),l=a.queries;a.queries=Rw(),l.forEach(((c,f)=>{for(const m of f.wa)m.onError(r)}))})(this,new ht(nt.ABORTED,"Firestore shutting down"))}}function Rw(){return new Wa((e=>$1(e)),Od)}async function xv(e,t){const n=Rt(e);let r=3;const a=t.query;let l=n.queries.get(a);l?!l.Sa()&&t.ba()&&(r=2):(l=new Zk,r=t.ba()?0:1);try{switch(r){case 0:l.ya=await n.onListen(a,!0);break;case 1:l.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const f=Cv(c,`Initialization of query '${$o(t.query)}' failed`);return void t.onError(f)}n.queries.set(a,l),l.wa.push(t),t.va(n.onlineState),l.ya&&t.Ca(l.ya)&&Dv(n)}async function Iv(e,t){const n=Rt(e),r=t.query;let a=3;const l=n.queries.get(r);if(l){const c=l.wa.indexOf(t);c>=0&&(l.wa.splice(c,1),l.wa.length===0?a=t.ba()?0:1:!l.Sa()&&t.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t4(e,t){const n=Rt(e);let r=!1;for(const a of t){const l=a.query,c=n.queries.get(l);if(c){for(const f of c.wa)f.Ca(a)&&(r=!0);c.ya=a}}r&&Dv(n)}function e4(e,t,n){const r=Rt(e),a=r.queries.get(t);if(a)for(const l of a.wa)l.onError(n);r.queries.delete(t)}function Dv(e){e.Da.forEach((t=>{t.next()}))}var hy,Cw;(Cw=hy||(hy={})).Fa="default",Cw.Cache="cache";class Nv{constructor(t,n,r){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(t){if(!this.options.includeMetadataChanges){const r=[];for(const a of t.docChanges)a.type!==3&&r.push(a);t=new dl(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==hy.Cache}}class CR{constructor(t){this.key=t}}class xR{constructor(t){this.key=t}}class n4{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=jt(),this.mutatedKeys=jt(),this.Xa=Y1(t),this.eu=new al(this.Xa)}get tu(){return this.Ha}nu(t,n){const r=n?n.ru:new Aw,a=n?n.eu:this.eu;let l=n?n.mutatedKeys:this.mutatedKeys,c=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const E=a.get(y),S=Vd(this.query,_)?_:null,D=!!E&&this.mutatedKeys.has(E.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let x=!1;E&&S?E.data.isEqual(S.data)?D!==A&&(r.track({type:3,doc:S}),x=!0):this.iu(E,S)||(r.track({type:2,doc:S}),x=!0,(m&&this.Xa(S,m)>0||p&&this.Xa(S,p)<0)&&(f=!0)):!E&&S?(r.track({type:0,doc:S}),x=!0):E&&!S&&(r.track({type:1,doc:E}),x=!0,(m||p)&&(f=!0)),x&&(S?(c=c.add(S),l=A?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{eu:c,ru:r,Ds:f,mutatedKeys:l}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,a){const l=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const c=t.ru.pa();c.sort(((y,_)=>(function(S,D){const A=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{At:x})}};return A(S)-A(D)})(y.type,_.type)||this.Xa(y.doc,_.doc))),this.su(r),a=a!=null&&a;const f=n&&!a?this.ou():[],m=this.Za.size===0&&this.current&&!a?1:0,p=m!==this.Ya;return this.Ya=m,c.length!==0||p?{snapshot:new dl(this.query,t.eu,l,c,t.mutatedKeys,m===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Aw,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=jt(),this.eu.forEach((r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))}));const n=[];return t.forEach((r=>{this.Za.has(r)||n.push(new xR(r))})),this.Za.forEach((r=>{t.has(r)||n.push(new CR(r))})),n}uu(t){this.Ha=t.qs,this.Za=jt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return dl.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Mv="SyncEngine";class i4{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class r4{constructor(t){this.key=t,this.lu=!1}}class s4{constructor(t,n,r,a,l,c){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.hu={},this.Pu=new Wa((f=>$1(f)),Od),this.Tu=new Map,this.Iu=new Set,this.du=new de(yt.comparator),this.Eu=new Map,this.Au=new vv,this.Ru={},this.Vu=new Map,this.mu=fl.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function a4(e,t,n=!0){const r=VR(e);let a;const l=r.Pu.get(t);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.cu()):a=await IR(r,t,n,!0),a}async function o4(e,t){const n=VR(e);await IR(n,t,!0,!1)}async function IR(e,t,n,r){const a=await Ck(e.localStore,ji(t)),l=a.targetId,c=e.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await l4(e,t,l,c==="current",a.resumeToken)),e.isPrimaryClient&&n&&ER(e.remoteStore,a),f}async function l4(e,t,n,r,a){e.gu=(_,E,S)=>(async function(A,x,V,L){let P=x.view.nu(V);P.Ds&&(P=await _w(A.localStore,x.query,!1).then((({documents:R})=>x.view.nu(R,P))));const K=L&&L.targetChanges.get(x.targetId),q=L&&L.targetMismatches.get(x.targetId)!=null,Y=x.view.applyChanges(P,A.isPrimaryClient,K,q);return Iw(A,x.targetId,Y._u),Y.snapshot})(e,_,E,S);const l=await _w(e.localStore,t,!0),c=new n4(t,l.qs),f=c.nu(l.documents),m=Sc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",a),p=c.applyChanges(f,e.isPrimaryClient,m);Iw(e,n,p._u);const y=new i4(t,n,c);return e.Pu.set(t,y),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),p.snapshot}async function u4(e,t,n){const r=Rt(e),a=r.Pu.get(t),l=r.Tu.get(a.targetId);if(l.length>1)return r.Tu.set(a.targetId,l.filter((c=>!Od(c,t)))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await uy(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&bv(r.remoteStore,a.targetId),fy(r,a.targetId)})).catch(bl)):(fy(r,a.targetId),await uy(r.localStore,a.targetId,!0))}async function c4(e,t){const n=Rt(e),r=n.Pu.get(t),a=n.Tu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bv(n.remoteStore,r.targetId))}async function h4(e,t,n){const r=v4(e);try{const a=await(function(c,f){const m=Rt(c),p=se.now(),y=f.reduce(((S,D)=>S.add(D.key)),jt());let _,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let D=Vr(),A=jt();return m.Os.getEntries(S,y).next((x=>{D=x,D.forEach(((V,L)=>{L.isValidDocument()||(A=A.add(V))}))})).next((()=>m.localDocuments.getOverlayedDocuments(S,D))).next((x=>{_=x;const V=[];for(const L of f){const P=CP(L,_.get(L.key).overlayedDocument);P!=null&&V.push(new Ws(L.key,P,z1(P.value.mapValue),oi.exists(!0)))}return m.mutationQueue.addMutationBatch(S,p,V,f)})).next((x=>{E=x;const V=x.applyToLocalDocumentSet(_,A);return m.documentOverlayCache.saveOverlays(S,x.batchId,V)}))})).then((()=>({batchId:E.batchId,changes:X1(_)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,m){let p=c.Ru[c.currentUser.toKey()];p||(p=new de(Mt)),p=p.insert(f,m),c.Ru[c.currentUser.toKey()]=p})(r,a.batchId,n),await Rc(r,a.changes),await zd(r.remoteStore)}catch(a){const l=Cv(a,"Failed to persist write");n.reject(l)}}async function DR(e,t){const n=Rt(e);try{const r=await Sk(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const c=n.Eu.get(l);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.lu=!0:a.modifiedDocuments.size>0?$t(c.lu,14607):a.removedDocuments.size>0&&($t(c.lu,42227),c.lu=!1))})),await Rc(n,r,t)}catch(r){await bl(r)}}function xw(e,t,n){const r=Rt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Pu.forEach(((l,c)=>{const f=c.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const m=Rt(c);m.onlineState=f;let p=!1;m.queries.forEach(((y,_)=>{for(const E of _.wa)E.va(f)&&(p=!0)})),p&&Dv(m)})(r.eventManager,t),a.length&&r.hu.J_(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function f4(e,t,n){const r=Rt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const a=r.Eu.get(t),l=a&&a.key;if(l){let c=new de(yt.comparator);c=c.insert(l,cn.newNoDocument(l,St.min()));const f=jt().add(l),m=new Ld(St.min(),new Map,new de(Mt),c,f);await DR(r,m),r.du=r.du.remove(l),r.Eu.delete(t),Ov(r)}else await uy(r.localStore,t,!1).then((()=>fy(r,t,n))).catch(bl)}async function d4(e,t){const n=Rt(e),r=t.batch.batchId;try{const a=await wk(n.localStore,t);MR(n,r,null),NR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,a)}catch(a){await bl(a)}}async function m4(e,t,n){const r=Rt(e);try{const a=await(function(c,f){const m=Rt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((_=>($t(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(r.localStore,t);MR(r,t,n),NR(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Rc(r,a)}catch(a){await bl(a)}}function NR(e,t){(e.Vu.get(t)||[]).forEach((n=>{n.resolve()})),e.Vu.delete(t)}function MR(e,t,n){const r=Rt(e);let a=r.Ru[r.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),r.Ru[r.currentUser.toKey()]=a}}function fy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach((r=>{e.Au.containsKey(r)||OR(e,r)}))}function OR(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(bv(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Ov(e))}function Iw(e,t,n){for(const r of n)r instanceof CR?(e.Au.addReference(r.key,t),p4(e,r)):r instanceof xR?(dt(Mv,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||OR(e,r.key)):bt(19791,{yu:r})}function p4(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(dt(Mv,"New document in limbo: "+n),e.Iu.add(r),Ov(e))}function Ov(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new yt(ee.fromString(t)),r=e.mu.next();e.Eu.set(r,new r4(n)),e.du=e.du.insert(n,r),ER(e.remoteStore,new Os(ji(Md(n.path)),r,"TargetPurposeLimboResolution",xd.ue))}}async function Rc(e,t,n){const r=Rt(e),a=[],l=[],c=[];r.Pu.isEmpty()||(r.Pu.forEach(((f,m)=>{c.push(r.gu(m,t,n).then((p=>{var y;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=n?.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(p){a.push(p);const _=Tv.Es(m.targetId,p);l.push(_)}})))})),await Promise.all(c),r.hu.J_(a),await(async function(m,p){const y=Rt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>at.forEach(p,(E=>at.forEach(E.Is,(S=>y.persistence.referenceDelegate.addReference(_,E.targetId,S))).next((()=>at.forEach(E.ds,(S=>y.persistence.referenceDelegate.removeReference(_,E.targetId,S)))))))))}catch(_){if(!wl(_))throw _;dt(Ev,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const S=y.Fs.get(E),D=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(D);y.Fs=y.Fs.insert(E,A)}}})(r.localStore,l))}async function g4(e,t){const n=Rt(e);if(!n.currentUser.isEqual(t)){dt(Mv,"User change. New user:",t.toKey());const r=await yR(n.localStore,t);n.currentUser=t,(function(l,c){l.Vu.forEach((f=>{f.forEach((m=>{m.reject(new ht(nt.CANCELLED,c))}))})),l.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.Bs)}}function y4(e,t){const n=Rt(e),r=n.Eu.get(t);if(r&&r.lu)return jt().add(r.key);{let a=jt();const l=n.Tu.get(t);if(!l)return a;for(const c of l){const f=n.Pu.get(c);a=a.unionWith(f.view.tu)}return a}}function VR(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=y4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=f4.bind(null,t),t.hu.J_=t4.bind(null,t.eventManager),t.hu.pu=e4.bind(null,t.eventManager),t}function v4(e){const t=Rt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,t),t}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ud(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return bk(this.persistence,new _k,t.initialUser,this.serializer)}Du(t){return new gR(_v.Vi,this.serializer)}bu(t){return new Ik}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class _4 extends od{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){$t(this.persistence.referenceDelegate instanceof sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rk(r,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new gR((r=>sd.Vi(r,n)),this.serializer)}}class dy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=g4.bind(null,this.syncEngine),await Wk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Jk})()}createDatastore(t){const n=Ud(t.databaseInfo.databaseId),r=(function(l){return new Vk(l)})(t.databaseInfo);return(function(l,c,f,m){return new Uk(l,c,f,m)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,a,l,c,f){return new zk(r,a,l,c,f)})(this.localStore,this.datastore,t.asyncQueue,(n=>xw(this.syncEngine,n,0)),(function(){return bw.C()?new bw:new Dk})())}createSyncEngine(t,n){return(function(a,l,c,f,m,p,y){const _=new s4(a,l,c,f,m,p);return y&&(_.fu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(a){const l=Rt(a);dt(Ka,"RemoteStore shutting down."),l.Ia.add(5),await Ac(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dy.provider={build:()=>new dy};class Vv{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):Or("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Gs="FirestoreClient";class T4{constructor(t,n,r,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=ov.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{dt(Gs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(dt(Gs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=Cv(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function wg(e,t){e.asyncQueue.verifyOperationInProgress(),dt(Gs,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async a=>{r.isEqual(a)||(await yR(t.localStore,a),r=a)})),t.persistence.setDatabaseDeletedListener((()=>{js("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then((()=>{dt("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{js("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),e._offlineComponents=t}async function Dw(e,t){e.asyncQueue.verifyOperationInProgress();const n=await E4(e);dt(Gs,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((r=>Sw(t.remoteStore,r))),e.setAppCheckTokenChangeListener(((r,a)=>Sw(t.remoteStore,a))),e._onlineComponents=t}async function E4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){dt(Gs,"Using user provided OfflineComponentProvider");try{await wg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===nt.FAILED_PRECONDITION||a.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await wg(e,new od)}}else dt(Gs,"Using default OfflineComponentProvider"),await wg(e,new _4(void 0));return e._offlineComponents}async function PR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(dt(Gs,"Using user provided OnlineComponentProvider"),await Dw(e,e._uninitializedComponentsProvider._online)):(dt(Gs,"Using default OnlineComponentProvider"),await Dw(e,new dy))),e._onlineComponents}function b4(e){return PR(e).then((t=>t.syncEngine))}async function ld(e){const t=await PR(e),n=t.eventManager;return n.onListen=a4.bind(null,t.syncEngine),n.onUnlisten=u4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=o4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=c4.bind(null,t.syncEngine),n}function w4(e,t,n={}){const r=new Cr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Vv({next:E=>{y.Ou(),c.enqueueAndForget((()=>Iv(l,_)));const S=E.docs.has(f);!S&&E.fromCache?p.reject(new ht(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&m&&m.source==="server"?p.reject(new ht(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new Nv(Md(f.path),y,{includeMetadataChanges:!0,ka:!0});return xv(l,_)})(await ld(e),e.asyncQueue,t,n,r))),r.promise}function S4(e,t,n={}){const r=new Cr;return e.asyncQueue.enqueueAndForget((async()=>(function(l,c,f,m,p){const y=new Vv({next:E=>{y.Ou(),c.enqueueAndForget((()=>Iv(l,_))),E.fromCache&&m.source==="server"?p.reject(new ht(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new Nv(f,y,{includeMetadataChanges:!0,ka:!0});return xv(l,_)})(await ld(e),e.asyncQueue,t,n,r))),r.promise}function kR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const Nw=new Map;const LR="firestore.googleapis.com",Mw=!0;class Ow{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new ht(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LR,this.ssl=Mw}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Mw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<nk)throw new ht(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kR((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ht(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Bd{constructor(t,n,r,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ow({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ow(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NV;switch(r.type){case"firstParty":return new PV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Nw.get(n);r&&(dt("ComponentProvider","Removing Datastore"),Nw.delete(n),r.terminate())})(this),Promise.resolve()}}function A4(e,t,n,r={}){var a;e=Dn(e,Bd);const l=Qs(t),c=e._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:e._getEmulatorOptions()}),m=`${t}:${n}`;l&&(qy(`https://${m}`),Gy("Firestore",!0)),c.host!==LR&&c.host!==m&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:l,emulatorOptions:r});if(!Fa(p,f)&&(e._setSettings(p),r.mockUserToken)){let y,_;if(typeof r.mockUserToken=="string")y=r.mockUserToken,_=un.MOCK_USER;else{y=UA(r.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new ht(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(E)}e._authCredentials=new MV(new C1(y,_))}}class Qi{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qi(this.firestore,t,this._query)}}class _e{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(bc(n,_e._jsonSchema))return new _e(t,r||null,new yt(ee.fromString(n.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Pe("string",_e._jsonSchemaVersion),referencePath:Pe("string")};class Ls extends Qi{constructor(t,n,r){super(t,n,Md(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new yt(t))}withConverter(t){return new Ls(this.firestore,t,this._path)}}function gi(e,t,...n){if(e=fe(e),I1("collection","path",t),e instanceof Bd){const r=ee.fromString(t,...n);return $b(r),new Ls(e,null,r)}{if(!(e instanceof _e||e instanceof Ls))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ee.fromString(t,...n));return $b(r),new Ls(e.firestore,null,r)}}function yi(e,t,...n){if(e=fe(e),arguments.length===1&&(t=ov.newId()),I1("doc","path",t),e instanceof Bd){const r=ee.fromString(t,...n);return Kb(r),new _e(e,null,new yt(r))}{if(!(e instanceof _e||e instanceof Ls))throw new ht(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(ee.fromString(t,...n));return Kb(r),new _e(e.firestore,e instanceof Ls?e.converter:null,new yt(r))}}const Vw="AsyncQueue";class Pw{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _R(this,"async_queue_retry"),this.oc=()=>{const r=bg();r&&dt(Vw,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=t;const n=bg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=bg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new Cr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Zu.push(t),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!wl(t))throw t;dt(Vw,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(t){const n=this._c.then((()=>(this.nc=!0,t().catch((r=>{throw this.tc=r,this.nc=!1,Or("INTERNAL UNHANDLED ERROR: ",kw(r)),r})).then((r=>(this.nc=!1,r))))));return this._c=n,n}enqueueAfterDelay(t,n,r){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const a=Rv.createAndSchedule(this,t,n,r,(l=>this.lc(l)));return this.ec.push(a),a}ac(){this.tc&&bt(47125,{hc:kw(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then((()=>{this.ec.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()}))}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function kw(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Lw(e){return(function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(e,["next","error","complete"])}class Pr extends Bd{constructor(t,n,r,a){super(t,n,r,a),this.type="firestore",this._queue=new Pw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Pw(t),this._firestoreClient=void 0,await t}}}function R4(e,t){const n=typeof e=="object"?e:Yy(),r=typeof e=="string"?e:Jf,a=wd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=PA("firestore");l&&A4(a,...l)}return a}function Fd(e){if(e._terminated)throw new ht(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||C4(e),e._firestoreClient}function C4(e){var t,n,r;const a=e._freezeSettings(),l=(function(f,m,p,y){return new WV(f,m,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kR(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new T4(e._authCredentials,e._appCheckCredentials,e._queue,l,e._componentsProvider&&(function(f){const m=f?._online.build();return{_offline:f?._offline.build(m),_online:m}})(e._componentsProvider))}class ai{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ai(nn.fromBase64String(t))}catch(n){throw new ht(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ai(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bc(t,ai._jsonSchema))return ai.fromBase64String(t.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Pe("string",ai._jsonSchemaVersion),bytes:Pe("string")};class Hd{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ht(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class qd{constructor(t){this._methodName=t}}class Bi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ht(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ht(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(t){if(bc(t,Bi._jsonSchema))return new Bi(t.latitude,t.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Pe("string",Bi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Fi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bc(t,Fi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Fi(t.vectorValues);throw new ht(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Pe("string",Fi._jsonSchemaVersion),vectorValues:Pe("object")};const x4=/^__.*__$/;class I4{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ws(t,this.data,this.fieldMask,n,this.fieldTransforms):new wc(t,this.data,n,this.fieldTransforms)}}class UR{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new Ws(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function jR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ec:e})}}class Pv{constructor(t,n,r,a,l,c){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Pv(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Rc({path:r,mc:!1});return a.fc(t),a}gc(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),a=this.Rc({path:r,mc:!1});return a.Ac(),a}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return ud(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(jR(this.Ec)&&x4.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class D4{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Ud(t)}Dc(t,n,r,a=!1){return new Pv({Ec:t,methodName:n,bc:r,path:en.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(e){const t=e._freezeSettings(),n=Ud(e._databaseId);return new D4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zR(e,t,n,r,a,l={}){const c=e.Dc(l.merge||l.mergeFields?2:0,t,n,a);Lv("Data must be an object, but it was:",c,r);const f=FR(r,c);let m,p;if(l.merge)m=new zn(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const E=my(t,_,n);if(!c.contains(E))throw new ht(nt.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);qR(y,E)||y.push(E)}m=new zn(y),p=c.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=c.fieldTransforms;return new I4(new xn(f),m,p)}class Gd extends qd{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Gd}}class kv extends qd{_toFieldTransform(t){return new wP(t.path,new ac)}isEqual(t){return t instanceof kv}}function N4(e,t,n,r){const a=e.Dc(1,t,n);Lv("Data must be an object, but it was:",a,r);const l=[],c=xn.empty();Xs(r,((m,p)=>{const y=Uv(t,m,n);p=fe(p);const _=a.gc(y);if(p instanceof Gd)l.push(y);else{const E=xc(p,_);E!=null&&(l.push(y),c.set(y,E))}}));const f=new zn(l);return new UR(c,f,a.fieldTransforms)}function M4(e,t,n,r,a,l){const c=e.Dc(1,t,n),f=[my(t,r,n)],m=[a];if(l.length%2!=0)throw new ht(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(my(t,l[E])),m.push(l[E+1]);const p=[],y=xn.empty();for(let E=f.length-1;E>=0;--E)if(!qR(p,f[E])){const S=f[E];let D=m[E];D=fe(D);const A=c.gc(S);if(D instanceof Gd)p.push(S);else{const x=xc(D,A);x!=null&&(p.push(S),y.set(S,x))}}const _=new zn(p);return new UR(y,_,c.fieldTransforms)}function BR(e,t,n,r=!1){return xc(n,e.Dc(r?4:3,t))}function xc(e,t){if(HR(e=fe(e)))return Lv("Unsupported field value:",t,e),FR(e,t);if(e instanceof qd)return(function(r,a){if(!jR(a.Ec))throw a.wc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let m=xc(f,a.yc(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}})(e,t)}return(function(r,a){if((r=fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TP(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=se.fromDate(r);return{timestampValue:rd(a.serializer,l)}}if(r instanceof se){const l=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:rd(a.serializer,l)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:lR(a.serializer,r._byteString)};if(r instanceof _e){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.wc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:yv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Fi)return(function(c,f){return{mapValue:{fields:{[U1]:{stringValue:j1},[td]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw f.wc("VectorValues must only contain numeric values.");return dv(f.serializer,p)}))}}}}}})(r,a);throw a.wc(`Unsupported field value: ${Cd(r)}`)})(e,t)}function FR(e,t){const n={};return M1(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xs(e,((r,a)=>{const l=xc(a,t.Vc(r));l!=null&&(n[r]=l)})),{mapValue:{fields:n}}}function HR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof se||e instanceof Bi||e instanceof ai||e instanceof _e||e instanceof qd||e instanceof Fi)}function Lv(e,t,n){if(!HR(n)||!D1(n)){const r=Cd(n);throw r==="an object"?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function my(e,t,n){if((t=fe(t))instanceof Hd)return t._internalPath;if(typeof t=="string")return Uv(e,t);throw ud("Field path arguments must be of type string or ",e,!1,void 0,n)}const O4=new RegExp("[~\\*/\\[\\]]");function Uv(e,t,n){if(t.search(O4)>=0)throw ud(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Hd(...t.split("."))._internalPath}catch{throw ud(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ud(e,t,n,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${t}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new ht(nt.INVALID_ARGUMENT,f+e+m)}function qR(e,t){return e.some((n=>n.isEqual(t)))}class jv{constructor(t,n,r,a,l){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new V4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class V4 extends jv{data(){return super.data()}}function Kd(e,t){return typeof t=="string"?Uv(e,t):t instanceof Hd?t._internalPath:t._delegate._internalPath}function GR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ht(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zv{}class $d extends zv{}function Oa(e,t,...n){let r=[];t instanceof zv&&r.push(t),r=r.concat(n),(function(l){const c=l.filter((m=>m instanceof Dc)).length,f=l.filter((m=>m instanceof Ic)).length;if(c>1||c>0&&f>0)throw new ht(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)e=a._apply(e);return e}class Ic extends $d{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Ic(t,n,r)}_apply(t){const n=this._parse(t);return KR(t._query,n),new Qi(t.firestore,t.converter,ry(t._query,n))}_parse(t){const n=Cc(t.firestore);return(function(l,c,f,m,p,y,_){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){zw(_,y);const D=[];for(const A of _)D.push(jw(m,l,A));E={arrayValue:{values:D}}}else E=jw(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||zw(_,y),E=BR(f,c,_,y==="in"||y==="not-in");return Ve.create(p,y,E)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Rs(e,t,n){const r=t,a=Kd("where",e);return Ic._create(a,r,n)}class Dc extends zv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Dc(t,n)}_parse(t){const n=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let c=a;const f=l.getFlattenedFilters();for(const m of f)KR(c,m),c=ry(c,m)})(t._query,n),new Qi(t.firestore,t.converter,ry(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P4(...e){return e.forEach((t=>U4("or",t))),Dc._create("or",e)}class Bv extends $d{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Bv(t,n)}_apply(t){const n=(function(a,l,c){if(a.startAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ht(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sc(l,c)})(t._query,this._field,this._direction);return new Qi(t.firestore,t.converter,(function(a,l){const c=a.explicitOrderBy.concat([l]);return new Xa(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,n))}}function cd(e,t="asc"){const n=t,r=Kd("orderBy",e);return Bv._create(r,n)}class Fv extends $d{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new Fv(t,n,r)}_apply(t){return new Qi(t.firestore,t.converter,nd(t._query,this._limit,this._limitType))}}function Uw(e){return Fv._create("limit",e,"F")}class Hv extends $d{constructor(t,n,r){super(),this.type=t,this._docOrFields=n,this._inclusive=r}static _create(t,n,r){return new Hv(t,n,r)}_apply(t){const n=L4(t,this.type,this._docOrFields,this._inclusive);return new Qi(t.firestore,t.converter,(function(a,l){return new Xa(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,l,a.endAt)})(t._query,n))}}function k4(...e){return Hv._create("startAfter",e,!1)}function L4(e,t,n,r){if(n[0]=fe(n[0]),n[0]instanceof jv)return(function(l,c,f,m,p){if(!m)throw new ht(nt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const y=[];for(const _ of sl(l))if(_.field.isKeyField())y.push(ed(c,m.key));else{const E=m.data.field(_.field);if(Dd(E))throw new ht(nt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(E===null){const S=_.field.canonicalString();throw new ht(nt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${S}' (used as the orderBy) does not exist.`)}y.push(E)}return new hl(y,p)})(e._query,e.firestore._databaseId,t,n[0]._document,r);{const a=Cc(e.firestore);return(function(c,f,m,p,y,_){const E=c.explicitOrderBy;if(y.length>E.length)throw new ht(nt.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const S=[];for(let D=0;D<y.length;D++){const A=y[D];if(E[D].field.isKeyField()){if(typeof A!="string")throw new ht(nt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof A}`);if(!fv(c)&&A.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${A}' contains a slash.`);const x=c.path.child(ee.fromString(A));if(!yt.isDocumentKey(x))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${x}' is not because it contains an odd number of segments.`);const V=new yt(x);S.push(ed(f,V))}else{const x=BR(m,p,A);S.push(x)}}return new hl(S,_)})(e._query,e.firestore._databaseId,a,t,n,r)}}function jw(e,t,n){if(typeof(n=fe(n))=="string"){if(n==="")throw new ht(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fv(t)&&n.indexOf("/")!==-1)throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(ee.fromString(n));if(!yt.isDocumentKey(r))throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ed(e,new yt(r))}if(n instanceof _e)return ed(e,n._key);throw new ht(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cd(n)}.`)}function zw(e,t){if(!Array.isArray(e)||e.length===0)throw new ht(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function KR(e,t){const n=(function(a,l){for(const c of a)for(const f of c.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ht(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function U4(e,t){if(!(t instanceof Ic||t instanceof Dc))throw new ht(nt.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class j4{convertValue(t,n="none"){switch(Hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Fs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Xs(t,((a,l)=>{r[a]=this.convertValue(l,n)})),r}convertVectorValue(t){var n,r,a;const l=(a=(r=(n=t.fields)===null||n===void 0?void 0:n[td].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map((c=>Ce(c.doubleValue)));return new Fi(l)}convertGeoPoint(t){return new Bi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=Nd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(nc(t));default:return null}}convertTimestamp(t){const n=Bs(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=ee.fromString(t);$t(mR(r),9688,{name:t});const a=new ic(r.get(1),r.get(3)),l=new yt(r.popFirst(5));return a.isEqual(n)||Or(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function $R(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Lu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ua extends jv{constructor(t,n,r,a,l,c){super(t,n,r,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Kd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ua._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Pe("string",Ua._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class jf extends Ua{data(t={}){return super.data(t)}}class ja{constructor(t,n,r,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Lu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new jf(this._firestore,this._userDataWriter,r.key,r,new Lu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ht(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const m=new jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new jf(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Lu(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),y=c.indexOf(f.doc.key)),{type:z4(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ja._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ov.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function z4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:e})}}function hd(e){e=Dn(e,_e);const t=Dn(e.firestore,Pr);return w4(Fd(t),e._key).then((n=>YR(t,e,n)))}ja._jsonSchemaVersion="firestore/querySnapshot/1.0",ja._jsonSchema={type:Pe("string",ja._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class qv extends j4{constructor(t){super(),this.firestore=t}convertBytes(t){return new ai(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}function Uu(e){e=Dn(e,Qi);const t=Dn(e.firestore,Pr),n=Fd(t),r=new qv(t);return GR(e._query),S4(n,e._query).then((a=>new ja(t,r,e,a)))}function B4(e,t,n){e=Dn(e,_e);const r=Dn(e.firestore,Pr),a=$R(e.converter,t,n);return Yd(r,[zR(Cc(r),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,oi.none())])}function py(e,t,n,...r){e=Dn(e,_e);const a=Dn(e.firestore,Pr),l=Cc(a);let c;return c=typeof(t=fe(t))=="string"||t instanceof Hd?M4(l,"updateDoc",e._key,t,n,r):N4(l,"updateDoc",e._key,t),Yd(a,[c.toMutation(e._key,oi.exists(!0))])}function Sg(e){return Yd(Dn(e.firestore,Pr),[new mv(e._key,oi.none())])}function fd(e,t){const n=Dn(e.firestore,Pr),r=yi(e),a=$R(e.converter,t);return Yd(n,[zR(Cc(e.firestore),"addDoc",r._key,a,e.converter!==null,{}).toMutation(r._key,oi.exists(!1))]).then((()=>r))}function Gv(e,...t){var n,r,a;e=fe(e);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof t[c]!="object"||Lw(t[c])||(l=t[c++]);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Lw(t[c])){const _=t[c];t[c]=(n=_.next)===null||n===void 0?void 0:n.bind(_),t[c+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),t[c+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,p,y;if(e instanceof _e)p=Dn(e.firestore,Pr),y=Md(e._key.path),m={next:_=>{t[c]&&t[c](YR(p,e,_))},error:t[c+1],complete:t[c+2]};else{const _=Dn(e,Qi);p=Dn(_.firestore,Pr),y=_._query;const E=new qv(p);m={next:S=>{t[c]&&t[c](new ja(p,E,_,S))},error:t[c+1],complete:t[c+2]},GR(e._query)}return(function(E,S,D,A){const x=new Vv(A),V=new Nv(S,x,D);return E.asyncQueue.enqueueAndForget((async()=>xv(await ld(E),V))),()=>{x.Ou(),E.asyncQueue.enqueueAndForget((async()=>Iv(await ld(E),V)))}})(Fd(p),y,f,m)}function Yd(e,t){return(function(r,a){const l=new Cr;return r.asyncQueue.enqueueAndForget((async()=>h4(await b4(r),a,l))),l.promise})(Fd(e),t)}function YR(e,t,n){const r=n.docs.get(t._key),a=new qv(e);return new Ua(e,a,t._key,r,new Lu(n.hasPendingWrites,n.fromCache),t.converter)}function uc(){return new kv("serverTimestamp")}(function(t,n=!0){(function(a){El=a})(Qa),Ha(new Us("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new Pr(new OV(r.getProvider("auth-internal")),new kV(c,r.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ht(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ic(p.options.projectId,y)})(c,a),c);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Li(Bb,Fb,t),Li(Bb,Fb,"esm2017")})();var F4="firebase",H4="11.10.0";Li(F4,H4,"app");const QR="firebasestorage.googleapis.com",XR="storageBucket",q4=120*1e3,G4=600*1e3;class Ee extends Yi{constructor(t,n,r=0){super(Ag(t),`Firebase Storage: ${n} (${Ag(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ee.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Ag(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Te;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Te||(Te={}));function Ag(e){return"storage/"+e}function Kv(){const e="An unknown error occurred, please check the error payload for server response.";return new Ee(Te.UNKNOWN,e)}function K4(e){return new Ee(Te.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function $4(e){return new Ee(Te.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Y4(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ee(Te.UNAUTHENTICATED,e)}function Q4(){return new Ee(Te.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function X4(e){return new Ee(Te.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function W4(){return new Ee(Te.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Z4(){return new Ee(Te.CANCELED,"User canceled the upload/download.")}function J4(e){return new Ee(Te.INVALID_URL,"Invalid URL '"+e+"'.")}function tL(e){return new Ee(Te.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function eL(){return new Ee(Te.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XR+"' property when initializing the app?")}function nL(){return new Ee(Te.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function iL(){return new Ee(Te.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function rL(e){return new Ee(Te.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gy(e){return new Ee(Te.INVALID_ARGUMENT,e)}function WR(){return new Ee(Te.APP_DELETED,"The Firebase app was deleted.")}function sL(e){return new Ee(Te.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $u(e,t){return new Ee(Te.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Nu(e){throw new Ee(Te.INTERNAL_ERROR,"Internal error: "+e)}class Bn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Bn.makeFromUrl(t,n)}catch{return new Bn(t,"")}if(r.path==="")return r;throw tL(t)}static makeFromUrl(t,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const c="(/(.*))?$",f=new RegExp("^gs://"+a+c,"i"),m={bucket:1,path:3};function p(K){K.path_=decodeURIComponent(K.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${y}/b/${a}/o${E}`,"i"),D={bucket:1,path:3},A=n===QR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",V=new RegExp(`^https?://${A}/${a}/${x}`,"i"),P=[{regex:f,indices:m,postModify:l},{regex:S,indices:D,postModify:p},{regex:V,indices:{bucket:1,path:2},postModify:p}];for(let K=0;K<P.length;K++){const q=P[K],Y=q.regex.exec(t);if(Y){const R=Y[q.indices.bucket];let w=Y[q.indices.path];w||(w=""),r=new Bn(R,w),q.postModify(r);break}}if(r==null)throw J4(t);return r}}class aL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function oL(e,t,n){let r=1,a=null,l=null,c=!1,f=0;function m(){return f===2}let p=!1;function y(...x){p||(p=!0,t.apply(null,x))}function _(x){a=setTimeout(()=>{a=null,e(S,m())},x)}function E(){l&&clearTimeout(l)}function S(x,...V){if(p){E();return}if(x){E(),y.call(null,x,...V);return}if(m()||c){E(),y.call(null,x,...V);return}r<64&&(r*=2);let P;f===1?(f=2,P=0):P=(r+Math.random())*1e3,_(P)}let D=!1;function A(x){D||(D=!0,E(),!p&&(a!==null?(x||(f=2),clearTimeout(a),_(0)):x||(f=1)))}return _(0),l=setTimeout(()=>{c=!0,A(!0)},n),A}function lL(e){e(!1)}function uL(e){return e!==void 0}function cL(e){return typeof e=="object"&&!Array.isArray(e)}function $v(e){return typeof e=="string"||e instanceof String}function Bw(e){return Yv()&&e instanceof Blob}function Yv(){return typeof Blob<"u"}function Fw(e,t,n,r){if(r<t)throw gy(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gy(`Invalid value for '${e}'. Expected ${n} or less.`)}function Qv(e,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function ZR(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const a=t(r)+"="+t(e[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var za;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(za||(za={}));function hL(e,t){const n=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,l=t.indexOf(e)!==-1;return n||a||l}class fL{constructor(t,n,r,a,l,c,f,m,p,y,_,E=!0,S=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=f,this.errorCallback_=m,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=E,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,A)=>{this.resolve_=D,this.reject_=A,this.start_()})}start_(){const t=(r,a)=>{if(a){r(!1,new vf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=f=>{const m=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,p)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const f=l.getErrorCode()===za.NO_ERROR,m=l.getStatus();if(!f||hL(m,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===za.ABORT;r(!1,new vf(!1,null,y));return}const p=this.successCodes_.indexOf(m)!==-1;r(!0,new vf(p,l))})},n=(r,a)=>{const l=this.resolve_,c=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());uL(m)?l(m):l()}catch(m){c(m)}else if(f!==null){const m=Kv();m.serverResponse=f.getErrorText(),this.errorCallback_?c(this.errorCallback_(f,m)):c(m)}else if(a.canceled){const m=this.appDelete_?WR():Z4();c(m)}else{const m=W4();c(m)}};this.canceled_?n(!1,new vf(!1,null,!0)):this.backoffId_=oL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vf{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function dL(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function mL(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function pL(e,t){t&&(e["X-Firebase-GMPID"]=t)}function gL(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function yL(e,t,n,r,a,l,c=!0,f=!1){const m=ZR(e.urlParams),p=e.url+m,y=Object.assign({},e.headers);return pL(y,t),dL(y,n),mL(y,l),gL(y,r),new fL(p,e.method,y,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,c,f)}function vL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _L(...e){const t=vL();if(t!==void 0){const n=new t;for(let r=0;r<e.length;r++)n.append(e[r]);return n.getBlob()}else{if(Yv())return new Blob(e);throw new Ee(Te.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function TL(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}function EL(e){if(typeof atob>"u")throw rL("base-64");return atob(e)}const ki={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rg{constructor(t,n){this.data=t,this.contentType=n||null}}function bL(e,t){switch(e){case ki.RAW:return new Rg(JR(t));case ki.BASE64:case ki.BASE64URL:return new Rg(tC(e,t));case ki.DATA_URL:return new Rg(SL(t),AL(t))}throw Kv()}function JR(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const l=r,c=e.charCodeAt(++n);r=65536|(l&1023)<<10|c&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function wL(e){let t;try{t=decodeURIComponent(e)}catch{throw $u(ki.DATA_URL,"Malformed data URL.")}return JR(t)}function tC(e,t){switch(e){case ki.BASE64:{const a=t.indexOf("-")!==-1,l=t.indexOf("_")!==-1;if(a||l)throw $u(e,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ki.BASE64URL:{const a=t.indexOf("+")!==-1,l=t.indexOf("/")!==-1;if(a||l)throw $u(e,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EL(t)}catch(a){throw a.message.includes("polyfill")?a:$u(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class eC{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw $u(ki.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=RL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function SL(e){const t=new eC(e);return t.base64?tC(ki.BASE64,t.rest):wL(t.rest)}function AL(e){return new eC(e).contentType}function RL(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}class Ms{constructor(t,n){let r=0,a="";Bw(t)?(this.data_=t,r=t.size,a=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(t,n){if(Bw(this.data_)){const r=this.data_,a=TL(r,t,n);return a===null?null:new Ms(a)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new Ms(r,!0)}}static getBlob(...t){if(Yv()){const n=t.map(r=>r instanceof Ms?r.data_:r);return new Ms(_L.apply(null,n))}else{const n=t.map(c=>$v(c)?bL(ki.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let l=0;return n.forEach(c=>{for(let f=0;f<c.length;f++)a[l++]=c[f]}),new Ms(a,!0)}}uploadData(){return this.data_}}function nC(e){let t;try{t=JSON.parse(e)}catch{return null}return cL(t)?t:null}function CL(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function xL(e,t){const n=t.split("/").filter(r=>r.length>0).join("/");return e.length===0?n:e+"/"+n}function iC(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function IL(e,t){return t}class _n{constructor(t,n,r,a){this.server=t,this.local=n||t,this.writable=!!r,this.xform=a||IL}}let _f=null;function DL(e){return!$v(e)||e.length<2?e:iC(e)}function rC(){if(_f)return _f;const e=[];e.push(new _n("bucket")),e.push(new _n("generation")),e.push(new _n("metageneration")),e.push(new _n("name","fullPath",!0));function t(l,c){return DL(c)}const n=new _n("name");n.xform=t,e.push(n);function r(l,c){return c!==void 0?Number(c):c}const a=new _n("size");return a.xform=r,e.push(a),e.push(new _n("timeCreated")),e.push(new _n("updated")),e.push(new _n("md5Hash",null,!0)),e.push(new _n("cacheControl",null,!0)),e.push(new _n("contentDisposition",null,!0)),e.push(new _n("contentEncoding",null,!0)),e.push(new _n("contentLanguage",null,!0)),e.push(new _n("contentType",null,!0)),e.push(new _n("metadata","customMetadata",!0)),_f=e,_f}function NL(e,t){function n(){const r=e.bucket,a=e.fullPath,l=new Bn(r,a);return t._makeStorageReference(l)}Object.defineProperty(e,"ref",{get:n})}function ML(e,t,n){const r={};r.type="file";const a=n.length;for(let l=0;l<a;l++){const c=n[l];r[c.local]=c.xform(r,t[c.server])}return NL(r,e),r}function sC(e,t,n){const r=nC(t);return r===null?null:ML(e,r,n)}function OL(e,t,n,r){const a=nC(t);if(a===null||!$v(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(p=>{const y=e.bucket,_=e.fullPath,E="/b/"+c(y)+"/o/"+c(_),S=Qv(E,n,r),D=ZR({alt:"media",token:p});return S+D})[0]}function VL(e,t){const n={},r=t.length;for(let a=0;a<r;a++){const l=t[a];l.writable&&(n[l.server]=e[l.local])}return JSON.stringify(n)}class aC{constructor(t,n,r,a){this.url=t,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function oC(e){if(!e)throw Kv()}function PL(e,t){function n(r,a){const l=sC(e,a,t);return oC(l!==null),l}return n}function kL(e,t){function n(r,a){const l=sC(e,a,t);return oC(l!==null),OL(l,a,e.host,e._protocol)}return n}function lC(e){function t(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=Q4():a=Y4():n.getStatus()===402?a=$4(e.bucket):n.getStatus()===403?a=X4(e.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return t}function LL(e){const t=lC(e);function n(r,a){let l=t(r,a);return r.getStatus()===404&&(l=K4(e.path)),l.serverResponse=a.serverResponse,l}return n}function UL(e,t,n){const r=t.fullServerUrl(),a=Qv(r,e.host,e._protocol),l="GET",c=e.maxOperationRetryTime,f=new aC(a,l,kL(e,n),c);return f.errorHandler=LL(t),f}function jL(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function zL(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=jL(null,t)),r}function BL(e,t,n,r,a){const l=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function f(){let P="";for(let K=0;K<2;K++)P=P+Math.random().toString().slice(2);return P}const m=f();c["Content-Type"]="multipart/related; boundary="+m;const p=zL(t,r,a),y=VL(p,n),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+m+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+m+"--",S=Ms.getBlob(_,r,E);if(S===null)throw nL();const D={name:p.fullPath},A=Qv(l,e.host,e._protocol),x="POST",V=e.maxUploadRetryTime,L=new aC(A,x,PL(e,n),V);return L.urlParams=D,L.headers=c,L.body=S.uploadData(),L.errorHandler=lC(t),L}class FL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=za.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=za.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=za.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,a,l){if(this.sent_)throw Nu("cannot .send() more than once");if(Qs(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),l!==void 0)for(const c in l)l.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,l[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class HL extends FL{initXhr(){this.xhr_.responseType="text"}}function uC(){return new HL}class $a{constructor(t,n){this._service=t,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $a(t,n)}get root(){const t=new Bn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iC(this._location.path)}get storage(){return this._service}get parent(){const t=CL(this._location.path);if(t===null)return null;const n=new Bn(this._location.bucket,t);return new $a(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw sL(t)}}function qL(e,t,n){e._throwIfRoot("uploadBytes");const r=BL(e.storage,e._location,rC(),new Ms(t,!0),n);return e.storage.makeRequestWithTokens(r,uC).then(a=>({metadata:a,ref:e}))}function GL(e){e._throwIfRoot("getDownloadURL");const t=UL(e.storage,e._location,rC());return e.storage.makeRequestWithTokens(t,uC).then(n=>{if(n===null)throw iL();return n})}function KL(e,t){const n=xL(e._location.path,t),r=new Bn(e._location.bucket,n);return new $a(e.storage,r)}function $L(e){return/^[A-Za-z]+:\/\//.test(e)}function YL(e,t){return new $a(e,t)}function cC(e,t){if(e instanceof Xv){const n=e;if(n._bucket==null)throw eL();const r=new $a(n,n._bucket);return t!=null?cC(r,t):r}else return t!==void 0?KL(e,t):e}function QL(e,t){if(t&&$L(t)){if(e instanceof Xv)return YL(e,t);throw gy("To use ref(service, url), the first argument must be a Storage instance.")}else return cC(e,t)}function Hw(e,t){const n=t?.[XR];return n==null?null:Bn.makeFromBucketSpec(n,e)}function XL(e,t,n,r={}){e.host=`${t}:${n}`;const a=Qs(t);a&&(qy(`https://${e.host}/b`),Gy("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(e._overrideAuthToken=typeof l=="string"?l:UA(l,e.app.options.projectId))}class Xv{constructor(t,n,r,a,l,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=c,this._bucket=null,this._host=QR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=q4,this._maxUploadRetryTime=G4,this._requests=new Set,a!=null?this._bucket=Bn.makeFromBucketSpec(a,this._host):this._bucket=Hw(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,t):this._bucket=Hw(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Fw("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Fw("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $a(this,t)}_makeRequest(t,n,r,a,l=!0){if(this._deleted)return new aL(WR());{const c=yL(t,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,a).getPromise()}}const qw="@firebase/storage",Gw="0.13.14";const hC="storage";function WL(e,t,n){return e=fe(e),qL(e,t,n)}function ZL(e){return e=fe(e),GL(e)}function JL(e,t){return e=fe(e),QL(e,t)}function t3(e=Yy(),t){e=fe(e);const r=wd(e,hC).getImmediate({identifier:t}),a=PA("storage");return a&&e3(r,...a),r}function e3(e,t,n,r={}){XL(e,t,n,r)}function n3(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Xv(n,r,a,t,Qa)}function i3(){Ha(new Us(hC,n3,"PUBLIC").setMultipleInstances(!0)),Li(qw,Gw,""),Li(qw,Gw,"esm2017")}i3();const r3={apiKey:"AIzaSyAIl4vWF73TBXAyI7G_Fw9sxtD63innGag",authDomain:"photo-collage-app-9e42d.firebaseapp.com",projectId:"photo-collage-app-9e42d",storageBucket:"photo-collage-app-9e42d.firebasestorage.app",messagingSenderId:"82565536571",appId:"1:82565536571:web:de4bd1ddc0a4b8ea6bb51e",measurementId:"G-P3Y1KYM0P9"},Tf=["codethathat@gmail.com","marsha.o.y@gmail.com"],Wv=BA(r3),Mu=IV(Wv),fC=new wr;fC.setCustomParameters({prompt:"select_account"});const Re=R4(Wv),s3=t3(Wv),dC=M.createContext(null);function Nc(){const e=M.useContext(dC);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function a3({children:e}){const[t,n]=M.useState(null),[r,a]=M.useState(null),[l,c]=M.useState(!0),[f,m]=M.useState(null),p=t?.email?Tf.includes(t.email):!1;M.useEffect(()=>vO(Mu,async D=>{if(n(D),D&&D.email&&Tf.includes(D.email)){const A={uid:D.uid,email:D.email,displayName:D.displayName||"Anonymous",photoURL:D.photoURL||"",lastSeen:uc()};try{await B4(yi(Re,"duoboard_users",D.uid),A,{merge:!0}),a(A),m(null)}catch(x){console.error("Error updating user document:",x),m("Failed to update user profile")}}else D&&D.email&&!Tf.includes(D.email)?(m("Your email is not authorized to use this app."),a(null),await vg(Mu)):(a(null),m(null));c(!1)}),[]);const E={user:r,firebaseUser:t,loading:l,error:f,signInWithGoogle:async()=>{c(!0),m(null);try{const S=await UO(Mu,fC);S.user.email&&!Tf.includes(S.user.email)&&(m("Your email is not authorized to use this app."),await vg(Mu))}catch(S){console.error("Sign in error:",S),S.code==="auth/popup-closed-by-user"?m("Sign-in was cancelled."):m("Failed to sign in. Please try again.")}finally{c(!1)}},signOut:async()=>{try{await vg(Mu),a(null),m(null)}catch(S){console.error("Sign out error:",S),m("Failed to sign out. Please try again.")}},isWhitelisted:p};return O.jsx(dC.Provider,{value:E,children:e})}const Zv=M.createContext({});function Jv(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qd=M.createContext(null),t0=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class o3 extends M.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function l3({children:e,isPresent:t}){const n=M.useId(),r=M.useRef(null),a=M.useRef({width:0,height:0,top:0,left:0}),{nonce:l}=M.useContext(t0);return M.useInsertionEffect(()=>{const{width:c,height:f,top:m,left:p}=a.current;if(t||!r.current||!c||!f)return;r.current.dataset.motionPopId=n;const y=document.createElement("style");return l&&(y.nonce=l),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${f}px !important;
            top: ${m}px !important;
            left: ${p}px !important;
          }
        `),()=>{document.head.removeChild(y)}},[t]),O.jsx(o3,{isPresent:t,childRef:r,sizeRef:a,children:M.cloneElement(e,{ref:r})})}const u3=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:c})=>{const f=Jv(c3),m=M.useId(),p=M.useCallback(_=>{f.set(_,!0);for(const E of f.values())if(!E)return;r&&r()},[f,r]),y=M.useMemo(()=>({id:m,initial:t,isPresent:n,custom:a,onExitComplete:p,register:_=>(f.set(_,!1),()=>f.delete(_))}),l?[Math.random(),p]:[n,p]);return M.useMemo(()=>{f.forEach((_,E)=>f.set(E,!1))},[n]),M.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),c==="popLayout"&&(e=O.jsx(l3,{isPresent:n,children:e})),O.jsx(Qd.Provider,{value:y,children:e})};function c3(){return new Map}function mC(e=!0){const t=M.useContext(Qd);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,l=M.useId();M.useEffect(()=>{e&&a(l)},[e]);const c=M.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const Ef=e=>e.key||"";function Kw(e){const t=[];return M.Children.forEach(e,n=>{M.isValidElement(n)&&t.push(n)}),t}const e0=typeof window<"u",pC=e0?M.useLayoutEffect:M.useEffect,ml=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1})=>{const[f,m]=mC(c),p=M.useMemo(()=>Kw(e),[e]),y=c&&!f?[]:p.map(Ef),_=M.useRef(!0),E=M.useRef(p),S=Jv(()=>new Map),[D,A]=M.useState(p),[x,V]=M.useState(p);pC(()=>{_.current=!1,E.current=p;for(let K=0;K<x.length;K++){const q=Ef(x[K]);y.includes(q)?S.delete(q):S.get(q)!==!0&&S.set(q,!1)}},[x,y.length,y.join("-")]);const L=[];if(p!==D){let K=[...p];for(let q=0;q<x.length;q++){const Y=x[q],R=Ef(Y);y.includes(R)||(K.splice(q,0,Y),L.push(Y))}l==="wait"&&L.length&&(K=L),V(Kw(K)),A(p);return}const{forceRender:P}=M.useContext(Zv);return O.jsx(O.Fragment,{children:x.map(K=>{const q=Ef(K),Y=c&&!f?!1:p===x||y.includes(q),R=()=>{if(S.has(q))S.set(q,!0);else return;let w=!0;S.forEach(N=>{N||(w=!1)}),w&&(P?.(),V(E.current),c&&m?.(),r&&r())};return O.jsx(u3,{isPresent:Y,initial:!_.current||n?void 0:!1,custom:Y?void 0:t,presenceAffectsLayout:a,mode:l,onExitComplete:Y?void 0:R,children:K},q)})})},Fn=e=>e;let gC=Fn;function n0(e){let t;return()=>(t===void 0&&(t=e()),t)}const pl=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},xr=e=>e*1e3,Ir=e=>e/1e3,h3={useManualTiming:!1};function f3(e){let t=new Set,n=new Set,r=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(p){l.has(p)&&(m.schedule(p),e()),p(c)}const m={schedule:(p,y=!1,_=!1)=>{const S=_&&r?t:n;return y&&l.add(p),S.has(p)||S.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(c=p,r){a=!0;return}r=!0,[t,n]=[n,t],t.forEach(f),t.clear(),r=!1,a&&(a=!1,m.process(p))}};return m}const bf=["read","resolveKeyframes","update","preRender","render","postRender"],d3=40;function yC(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=bf.reduce((V,L)=>(V[L]=f3(l),V),{}),{read:f,resolveKeyframes:m,update:p,preRender:y,render:_,postRender:E}=c,S=()=>{const V=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(V-a.timestamp,d3),1),a.timestamp=V,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),_.process(a),E.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(S))},D=()=>{n=!0,r=!0,a.isProcessing||e(S)};return{schedule:bf.reduce((V,L)=>{const P=c[L];return V[L]=(K,q=!1,Y=!1)=>(n||D(),P.schedule(K,q,Y)),V},{}),cancel:V=>{for(let L=0;L<bf.length;L++)c[bf[L]].cancel(V)},state:a,steps:c}}const{schedule:ae,cancel:Ks,state:Je,steps:Cg}=yC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Fn,!0),vC=M.createContext({strict:!1}),$w={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},gl={};for(const e in $w)gl[e]={isEnabled:t=>$w[e].some(n=>!!t[n])};function m3(e){for(const t in e)gl[t]={...gl[t],...e[t]}}const p3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||p3.has(e)}let _C=e=>!dd(e);function g3(e){e&&(_C=t=>t.startsWith("on")?!dd(t):e(t))}try{g3(require("@emotion/is-prop-valid").default)}catch{}function y3(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(_C(a)||n===!0&&dd(a)||!t&&!dd(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function v3(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Xd=M.createContext({});function cc(e){return typeof e=="string"||Array.isArray(e)}function Wd(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const i0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r0=["initial",...i0];function Zd(e){return Wd(e.animate)||r0.some(t=>cc(e[t]))}function TC(e){return!!(Zd(e)||e.variants)}function _3(e,t){if(Zd(e)){const{initial:n,animate:r}=e;return{initial:n===!1||cc(n)?n:void 0,animate:cc(r)?r:void 0}}return e.inherit!==!1?t:{}}function T3(e){const{initial:t,animate:n}=_3(e,M.useContext(Xd));return M.useMemo(()=>({initial:t,animate:n}),[Yw(t),Yw(n)])}function Yw(e){return Array.isArray(e)?e.join(" "):e}const E3=Symbol.for("motionComponentSymbol");function Xo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function b3(e,t,n){return M.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Xo(n)&&(n.current=r))},[t])}const s0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),w3="framerAppearId",EC="data-"+s0(w3),{schedule:a0}=yC(queueMicrotask,!1),bC=M.createContext({});function S3(e,t,n,r,a){var l,c;const{visualElement:f}=M.useContext(Xd),m=M.useContext(vC),p=M.useContext(Qd),y=M.useContext(t0).reducedMotion,_=M.useRef(null);r=r||m.renderer,!_.current&&r&&(_.current=r(e,{visualState:t,parent:f,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const E=_.current,S=M.useContext(bC);E&&!E.projection&&a&&(E.type==="html"||E.type==="svg")&&A3(_.current,n,a,S);const D=M.useRef(!1);M.useInsertionEffect(()=>{E&&D.current&&E.update(n,p)});const A=n[EC],x=M.useRef(!!A&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,A))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,A)));return pC(()=>{E&&(D.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),a0.render(E.render),x.current&&E.animationState&&E.animationState.animateChanges())}),M.useEffect(()=>{E&&(!x.current&&E.animationState&&E.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var V;(V=window.MotionHandoffMarkAsComplete)===null||V===void 0||V.call(window,A)}),x.current=!1))}),E}function A3(e,t,n,r){const{layoutId:a,layout:l,drag:c,dragConstraints:f,layoutScroll:m,layoutRoot:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:wC(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||f&&Xo(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,layoutScroll:m,layoutRoot:p})}function wC(e){if(e)return e.options.allowProjection!==!1?e.projection:wC(e.parent)}function R3({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){var l,c;e&&m3(e);function f(p,y){let _;const E={...M.useContext(t0),...p,layoutId:C3(p)},{isStatic:S}=E,D=T3(p),A=r(p,S);if(!S&&e0){x3();const x=I3(E);_=x.MeasureLayout,D.visualElement=S3(a,A,E,t,x.ProjectionNode)}return O.jsxs(Xd.Provider,{value:D,children:[_&&D.visualElement?O.jsx(_,{visualElement:D.visualElement,...E}):null,n(a,p,b3(A,D.visualElement,y),A,S,D.visualElement)]})}f.displayName=`motion.${typeof a=="string"?a:`create(${(c=(l=a.displayName)!==null&&l!==void 0?l:a.name)!==null&&c!==void 0?c:""})`}`;const m=M.forwardRef(f);return m[E3]=a,m}function C3({layoutId:e}){const t=M.useContext(Zv).id;return t&&e!==void 0?t+"-"+e:e}function x3(e,t){M.useContext(vC).strict}function I3(e){const{drag:t,layout:n}=gl;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const D3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o0(e){return typeof e!="string"||e.includes("-")?!1:!!(D3.indexOf(e)>-1||/[A-Z]/u.test(e))}function Qw(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function l0(e,t,n,r){if(typeof t=="function"){const[a,l]=Qw(r);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=Qw(r);t=t(n!==void 0?n:e.custom,a,l)}return t}const yy=e=>Array.isArray(e),N3=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),M3=e=>yy(e)?e[e.length-1]||0:e,hn=e=>!!(e&&e.getVelocity);function zf(e){const t=hn(e)?e.get():e;return N3(t)?t.toValue():t}function O3({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,a,l){const c={latestValues:V3(r,a,l,e),renderState:t()};return n&&(c.onMount=f=>n({props:r,current:f,...c}),c.onUpdate=f=>n(f)),c}const SC=e=>(t,n)=>{const r=M.useContext(Xd),a=M.useContext(Qd),l=()=>O3(e,t,r,a);return n?l():Jv(l)};function V3(e,t,n,r){const a={},l=r(e,{});for(const E in l)a[E]=zf(l[E]);let{initial:c,animate:f}=e;const m=Zd(e),p=TC(e);t&&p&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),f===void 0&&(f=t.animate));let y=n?n.initial===!1:!1;y=y||c===!1;const _=y?f:c;if(_&&typeof _!="boolean"&&!Wd(_)){const E=Array.isArray(_)?_:[_];for(let S=0;S<E.length;S++){const D=l0(e,E[S]);if(D){const{transitionEnd:A,transition:x,...V}=D;for(const L in V){let P=V[L];if(Array.isArray(P)){const K=y?P.length-1:0;P=P[K]}P!==null&&(a[L]=P)}for(const L in A)a[L]=A[L]}}}return a}const Al=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ja=new Set(Al),AC=e=>t=>typeof t=="string"&&t.startsWith(e),RC=AC("--"),P3=AC("var(--"),u0=e=>P3(e)?k3.test(e.split("/*")[0].trim()):!1,k3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,CC=(e,t)=>t&&typeof e=="number"?t.transform(e):e,kr=(e,t,n)=>n>t?t:n<e?e:n,Rl={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},hc={...Rl,transform:e=>kr(0,1,e)},wf={...Rl,default:1},Mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xs=Mc("deg"),Hi=Mc("%"),Tt=Mc("px"),L3=Mc("vh"),U3=Mc("vw"),Xw={...Hi,parse:e=>Hi.parse(e)/100,transform:e=>Hi.transform(e*100)},j3={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt},z3={rotate:xs,rotateX:xs,rotateY:xs,rotateZ:xs,scale:wf,scaleX:wf,scaleY:wf,scaleZ:wf,skew:xs,skewX:xs,skewY:xs,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:hc,originX:Xw,originY:Xw,originZ:Tt},Ww={...Rl,transform:Math.round},c0={...j3,...z3,zIndex:Ww,size:Tt,fillOpacity:hc,strokeOpacity:hc,numOctaves:Ww},B3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F3=Al.length;function H3(e,t,n){let r="",a=!0;for(let l=0;l<F3;l++){const c=Al[l],f=e[c];if(f===void 0)continue;let m=!0;if(typeof f=="number"?m=f===(c.startsWith("scale")?1:0):m=parseFloat(f)===0,!m||n){const p=CC(f,c0[c]);if(!m){a=!1;const y=B3[c]||c;r+=`${y}(${p}) `}n&&(t[c]=p)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function h0(e,t,n){const{style:r,vars:a,transformOrigin:l}=e;let c=!1,f=!1;for(const m in t){const p=t[m];if(Ja.has(m)){c=!0;continue}else if(RC(m)){a[m]=p;continue}else{const y=CC(p,c0[m]);m.startsWith("origin")?(f=!0,l[m]=y):r[m]=y}}if(t.transform||(c||n?r.transform=H3(t,e.transform,n):r.transform&&(r.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;r.transformOrigin=`${m} ${p} ${y}`}}const q3={offset:"stroke-dashoffset",array:"stroke-dasharray"},G3={offset:"strokeDashoffset",array:"strokeDasharray"};function K3(e,t,n=1,r=0,a=!0){e.pathLength=1;const l=a?q3:G3;e[l.offset]=Tt.transform(-r);const c=Tt.transform(t),f=Tt.transform(n);e[l.array]=`${c} ${f}`}function Zw(e,t,n){return typeof e=="string"?e:Tt.transform(t+n*e)}function $3(e,t,n){const r=Zw(t,e.x,e.width),a=Zw(n,e.y,e.height);return`${r} ${a}`}function f0(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:l,pathLength:c,pathSpacing:f=1,pathOffset:m=0,...p},y,_){if(h0(e,p,_),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:S,dimensions:D}=e;E.transform&&(D&&(S.transform=E.transform),delete E.transform),D&&(a!==void 0||l!==void 0||S.transform)&&(S.transformOrigin=$3(D,a!==void 0?a:.5,l!==void 0?l:.5)),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),c!==void 0&&K3(E,c,f,m,!1)}const d0=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),xC=()=>({...d0(),attrs:{}}),m0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function IC(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const l in n)e.style.setProperty(l,n[l])}const DC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NC(e,t,n,r){IC(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(DC.has(a)?a:s0(a),t.attrs[a])}const md={};function Y3(e){Object.assign(md,e)}function MC(e,{layout:t,layoutId:n}){return Ja.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!md[e]||e==="opacity")}function p0(e,t,n){var r;const{style:a}=e,l={};for(const c in a)(hn(a[c])||t.style&&hn(t.style[c])||MC(c,e)||((r=n?.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(l[c]=a[c]);return l}function OC(e,t,n){const r=p0(e,t,n);for(const a in e)if(hn(e[a])||hn(t[a])){const l=Al.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=e[a]}return r}function Q3(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Jw=["x","y","width","height","cx","cy","r"],X3={useVisualState:SC({scrapeMotionValuesFromProps:OC,createRenderState:xC,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:a})=>{if(!n)return;let l=!!e.drag;if(!l){for(const f in a)if(Ja.has(f)){l=!0;break}}if(!l)return;let c=!t;if(t)for(let f=0;f<Jw.length;f++){const m=Jw[f];e[m]!==t[m]&&(c=!0)}c&&ae.read(()=>{Q3(n,r),ae.render(()=>{f0(r,a,m0(n.tagName),e.transformTemplate),NC(n,r)})})}})},W3={useVisualState:SC({scrapeMotionValuesFromProps:p0,createRenderState:d0})};function VC(e,t,n){for(const r in t)!hn(t[r])&&!MC(r,n)&&(e[r]=t[r])}function Z3({transformTemplate:e},t){return M.useMemo(()=>{const n=d0();return h0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function J3(e,t){const n=e.style||{},r={};return VC(r,n,e),Object.assign(r,Z3(e,t)),r}function t6(e,t){const n={},r=J3(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function e6(e,t,n,r){const a=M.useMemo(()=>{const l=xC();return f0(l,t,m0(r),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};VC(l,e.style,e),a.style={...l,...a.style}}return a}function n6(e=!1){return(n,r,a,{latestValues:l},c)=>{const m=(o0(n)?e6:t6)(r,l,c,n),p=y3(r,typeof n=="string",e),y=n!==M.Fragment?{...p,...m,ref:a}:{},{children:_}=r,E=M.useMemo(()=>hn(_)?_.get():_,[_]);return M.createElement(n,{...y,children:E})}}function i6(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...o0(r)?X3:W3,preloadedFeatures:e,useRender:n6(a),createVisualElement:t,Component:r};return R3(c)}}function PC(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Jd(e,t,n){const r=e.getProps();return l0(r,t,n!==void 0?n:r.custom,e)}const r6=n0(()=>window.ScrollTimeline!==void 0);class s6{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(a=>{if(r6()&&a.attachTimeline)return a.attachTimeline(t);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,l)=>{a&&a(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class a6 extends s6{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function g0(e,t){return e?e[t]||e.default||e:void 0}const vy=2e4;function kC(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<vy;)t+=n,r=e.next(t);return t>=vy?1/0:t}function y0(e){return typeof e=="function"}function tS(e,t){e.timeline=t,e.onfinish=null}const v0=e=>Array.isArray(e)&&typeof e[0]=="number",o6={linearEasing:void 0};function l6(e,t){const n=n0(e);return()=>{var r;return(r=o6[t])!==null&&r!==void 0?r:n()}}const pd=l6(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),LC=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)r+=e(pl(0,a-1,l))+", ";return`linear(${r.substring(0,r.length-2)})`};function UC(e){return!!(typeof e=="function"&&pd()||!e||typeof e=="string"&&(e in _y||pd())||v0(e)||Array.isArray(e)&&e.every(UC))}const ju=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,_y={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ju([0,.65,.55,1]),circOut:ju([.55,0,1,.45]),backIn:ju([.31,.01,.66,-.59]),backOut:ju([.33,1.53,.69,.99])};function jC(e,t){if(e)return typeof e=="function"&&pd()?LC(e,t):v0(e)?ju(e):Array.isArray(e)?e.map(n=>jC(n,t)||_y.easeOut):_y[e]}const pi={x:!1,y:!1};function zC(){return pi.x||pi.y}function u6(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const l=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}function BC(e,t){const n=u6(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function eS(e){return t=>{t.pointerType==="touch"||zC()||e(t)}}function c6(e,t,n={}){const[r,a,l]=BC(e,n),c=eS(f=>{const{target:m}=f,p=t(f);if(typeof p!="function"||!m)return;const y=eS(_=>{p(_),m.removeEventListener("pointerleave",y)});m.addEventListener("pointerleave",y,a)});return r.forEach(f=>{f.addEventListener("pointerenter",c,a)}),l}const FC=(e,t)=>t?e===t?!0:FC(e,t.parentElement):!1,_0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,h6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function f6(e){return h6.has(e.tagName)||e.tabIndex!==-1}const zu=new WeakSet;function nS(e){return t=>{t.key==="Enter"&&e(t)}}function xg(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const d6=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=nS(()=>{if(zu.has(n))return;xg(n,"down");const a=nS(()=>{xg(n,"up")}),l=()=>xg(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function iS(e){return _0(e)&&!zC()}function m6(e,t,n={}){const[r,a,l]=BC(e,n),c=f=>{const m=f.currentTarget;if(!iS(f)||zu.has(m))return;zu.add(m);const p=t(f),y=(S,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!iS(S)||!zu.has(m))&&(zu.delete(m),typeof p=="function"&&p(S,{success:D}))},_=S=>{y(S,n.useGlobalTarget||FC(m,S.target))},E=S=>{y(S,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",E,a)};return r.forEach(f=>{!f6(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(n.useGlobalTarget?window:f).addEventListener("pointerdown",c,a),f.addEventListener("focus",p=>d6(p,a),a)}),l}function p6(e){return e==="x"||e==="y"?pi[e]?null:(pi[e]=!0,()=>{pi[e]=!1}):pi.x||pi.y?null:(pi.x=pi.y=!0,()=>{pi.x=pi.y=!1})}const HC=new Set(["width","height","top","left","right","bottom",...Al]);let Bf;function g6(){Bf=void 0}const qi={now:()=>(Bf===void 0&&qi.set(Je.isProcessing||h3.useManualTiming?Je.timestamp:performance.now()),Bf),set:e=>{Bf=e,queueMicrotask(g6)}};function T0(e,t){e.indexOf(t)===-1&&e.push(t)}function E0(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class b0{constructor(){this.subscriptions=[]}add(t){return T0(this.subscriptions,t),()=>E0(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function qC(e,t){return t?e*(1e3/t):0}const rS=30,y6=e=>!isNaN(parseFloat(e));class v6{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const l=qi.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=qi.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=y6(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new b0);const r=this.events[t].add(n);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=qi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>rS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rS);return qC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(e,t){return new v6(e,t)}function _6(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fc(n))}function T6(e,t){const n=Jd(e,t);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const c in l){const f=M3(l[c]);_6(e,c,f)}}function E6(e){return!!(hn(e)&&e.add)}function Ty(e,t){const n=e.getValue("willChange");if(E6(n))return n.add(t)}function GC(e){return e.props[EC]}const KC=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,b6=1e-7,w6=12;function S6(e,t,n,r,a){let l,c,f=0;do c=t+(n-t)/2,l=KC(c,r,a)-e,l>0?n=c:t=c;while(Math.abs(l)>b6&&++f<w6);return c}function Oc(e,t,n,r){if(e===t&&n===r)return Fn;const a=l=>S6(l,0,1,e,n);return l=>l===0||l===1?l:KC(a(l),t,r)}const $C=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,YC=e=>t=>1-e(1-t),QC=Oc(.33,1.53,.69,.99),w0=YC(QC),XC=$C(w0),WC=e=>(e*=2)<1?.5*w0(e):.5*(2-Math.pow(2,-10*(e-1))),S0=e=>1-Math.sin(Math.acos(e)),ZC=YC(S0),JC=$C(S0),tx=e=>/^0[^.\s]+$/u.test(e);function A6(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tx(e):!0}const Yu=e=>Math.round(e*1e5)/1e5,A0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function R6(e){return e==null}const C6=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,R0=(e,t)=>n=>!!(typeof n=="string"&&C6.test(n)&&n.startsWith(e)||t&&!R6(n)&&Object.prototype.hasOwnProperty.call(n,t)),ex=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,l,c,f]=r.match(A0);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(c),alpha:f!==void 0?parseFloat(f):1}},x6=e=>kr(0,255,e),Ig={...Rl,transform:e=>Math.round(x6(e))},ka={test:R0("rgb","red"),parse:ex("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ig.transform(e)+", "+Ig.transform(t)+", "+Ig.transform(n)+", "+Yu(hc.transform(r))+")"};function I6(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Ey={test:R0("#"),parse:I6,transform:ka.transform},Wo={test:R0("hsl","hue"),parse:ex("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Hi.transform(Yu(t))+", "+Hi.transform(Yu(n))+", "+Yu(hc.transform(r))+")"},ln={test:e=>ka.test(e)||Ey.test(e)||Wo.test(e),parse:e=>ka.test(e)?ka.parse(e):Wo.test(e)?Wo.parse(e):Ey.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ka.transform(e):Wo.transform(e)},D6=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N6(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(A0))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(D6))===null||n===void 0?void 0:n.length)||0)>0}const nx="number",ix="color",M6="var",O6="var(",sS="${}",V6=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function dc(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(V6,m=>(ln.test(m)?(r.color.push(l),a.push(ix),n.push(ln.parse(m))):m.startsWith(O6)?(r.var.push(l),a.push(M6),n.push(m)):(r.number.push(l),a.push(nx),n.push(parseFloat(m))),++l,sS)).split(sS);return{values:n,split:f,indexes:r,types:a}}function rx(e){return dc(e).values}function sx(e){const{split:t,types:n}=dc(e),r=t.length;return a=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],a[c]!==void 0){const f=n[c];f===nx?l+=Yu(a[c]):f===ix?l+=ln.transform(a[c]):l+=a[c]}return l}}const P6=e=>typeof e=="number"?0:e;function k6(e){const t=rx(e);return sx(e)(t.map(P6))}const $s={test:N6,parse:rx,createTransformer:sx,getAnimatableNone:k6},L6=new Set(["brightness","contrast","saturate","opacity"]);function U6(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(A0)||[];if(!r)return e;const a=n.replace(r,"");let l=L6.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+a+")"}const j6=/\b([a-z-]*)\(.*?\)/gu,by={...$s,getAnimatableNone:e=>{const t=e.match(j6);return t?t.map(U6).join(" "):e}},z6={...c0,color:ln,backgroundColor:ln,outlineColor:ln,fill:ln,stroke:ln,borderColor:ln,borderTopColor:ln,borderRightColor:ln,borderBottomColor:ln,borderLeftColor:ln,filter:by,WebkitFilter:by},C0=e=>z6[e];function ax(e,t){let n=C0(e);return n!==by&&(n=$s),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const B6=new Set(["auto","none","0"]);function F6(e,t,n){let r=0,a;for(;r<e.length&&!a;){const l=e[r];typeof l=="string"&&!B6.has(l)&&dc(l).values.length&&(a=e[r]),r++}if(a&&n)for(const l of t)e[l]=ax(n,a)}const aS=e=>e===Rl||e===Tt,oS=(e,t)=>parseFloat(e.split(", ")[t]),lS=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return oS(a[1],t);{const l=r.match(/^matrix\((.+)\)$/u);return l?oS(l[1],e):0}},H6=new Set(["x","y","z"]),q6=Al.filter(e=>!H6.has(e));function G6(e){const t=[];return q6.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const yl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lS(4,13),y:lS(5,14)};yl.translateX=yl.x;yl.translateY=yl.y;const Ba=new Set;let wy=!1,Sy=!1;function ox(){if(Sy){const e=Array.from(Ba).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=G6(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,c])=>{var f;(f=r.getValue(l))===null||f===void 0||f.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Sy=!1,wy=!1,Ba.forEach(e=>e.complete()),Ba.clear()}function lx(){Ba.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Sy=!0)})}function K6(){lx(),ox()}class x0{constructor(t,n,r,a,l,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ba.add(this),wy||(wy=!0,ae.read(lx),ae.resolveKeyframes(ox))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const c=a?.get(),f=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&n){const m=r.readValue(n,f);m!=null&&(t[0]=m)}t[0]===void 0&&(t[0]=f),a&&c===void 0&&a.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ba.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ba.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ux=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),$6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y6(e){const t=$6.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function cx(e,t,n=1){const[r,a]=Y6(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return ux(c)?parseFloat(c):c}return u0(a)?cx(a,t,n+1):a}const hx=e=>t=>t.test(e),Q6={test:e=>e==="auto",parse:e=>e},fx=[Rl,Tt,Hi,xs,U3,L3,Q6],uS=e=>fx.find(hx(e));class dx extends x0{constructor(t,n,r,a,l){super(t,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),u0(p))){const y=cx(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!HC.has(r)||t.length!==2)return;const[a,l]=t,c=uS(a),f=uS(l);if(c!==f)if(aS(c)&&aS(f))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)A6(t[a])&&r.push(a);r.length&&F6(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const l=n.getValue(r);l&&l.jump(this.measuredOrigin,!1);const c=a.length-1,f=a[c];a[c]=yl[r](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([m,p])=>{n.getValue(m).set(p)}),this.resolveNoneKeyframes()}}const cS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($s.test(e)||e==="0")&&!e.startsWith("url("));function X6(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function W6(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=cS(a,t),f=cS(l,t);return!c||!f?!1:X6(e)||(n==="spring"||y0(n))&&r}const Z6=e=>e!==null;function tm(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(Z6),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||r===void 0?a[l]:r}const J6=40;class mx{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qi.now(),this.options={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:c,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>J6?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&K6(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=qi.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:l,delay:c,onComplete:f,onUpdate:m,isGenerator:p}=this.options;if(!p&&!W6(t,r,a,l))if(c)this.options.duration=0;else{m&&m(tm(t,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,n);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const he=(e,t,n)=>e+(t-e)*n;function Dg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,l=0,c=0;if(!t)a=l=c=n;else{const f=n<.5?n*(1+t):n+t-n*t,m=2*n-f;a=Dg(m,f,e+1/3),l=Dg(m,f,e),c=Dg(m,f,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function gd(e,t){return n=>n>0?t:e}const Ng=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},eU=[Ey,ka,Wo],nU=e=>eU.find(t=>t.test(e));function hS(e){const t=nU(e);if(!t)return!1;let n=t.parse(e);return t===Wo&&(n=tU(n)),n}const fS=(e,t)=>{const n=hS(e),r=hS(t);if(!n||!r)return gd(e,t);const a={...n};return l=>(a.red=Ng(n.red,r.red,l),a.green=Ng(n.green,r.green,l),a.blue=Ng(n.blue,r.blue,l),a.alpha=he(n.alpha,r.alpha,l),ka.transform(a))},iU=(e,t)=>n=>t(e(n)),Vc=(...e)=>e.reduce(iU),Ay=new Set(["none","hidden"]);function rU(e,t){return Ay.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sU(e,t){return n=>he(e,t,n)}function I0(e){return typeof e=="number"?sU:typeof e=="string"?u0(e)?gd:ln.test(e)?fS:lU:Array.isArray(e)?px:typeof e=="object"?ln.test(e)?fS:aU:gd}function px(e,t){const n=[...e],r=n.length,a=e.map((l,c)=>I0(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=a[c](l);return n}}function aU(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=I0(e[a])(e[a],t[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function oU(e,t){var n;const r=[],a={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const c=t.types[l],f=e.indexes[c][a[c]],m=(n=e.values[f])!==null&&n!==void 0?n:0;r[l]=m,a[c]++}return r}const lU=(e,t)=>{const n=$s.createTransformer(t),r=dc(e),a=dc(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Ay.has(e)&&!a.values.length||Ay.has(t)&&!r.values.length?rU(e,t):Vc(px(oU(r,a),a.values),n):gd(e,t)};function gx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):I0(e)(e,t)}const uU=5;function yx(e,t,n){const r=Math.max(t-uU,0);return qC(n-e(r),t-r)}const ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function cU({duration:e=ve.duration,bounce:t=ve.bounce,velocity:n=ve.velocity,mass:r=ve.mass}){let a,l,c=1-t;c=kr(ve.minDamping,ve.maxDamping,c),e=kr(ve.minDuration,ve.maxDuration,Ir(e)),c<1?(a=p=>{const y=p*c,_=y*e,E=y-n,S=Ry(p,c),D=Math.exp(-_);return Mg-E/S*D},l=p=>{const _=p*c*e,E=_*n+n,S=Math.pow(c,2)*Math.pow(p,2)*e,D=Math.exp(-_),A=Ry(Math.pow(p,2),c);return(-a(p)+Mg>0?-1:1)*((E-S)*D)/A}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-Mg+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const f=5/e,m=fU(a,l,f);if(e=xr(e),isNaN(m))return{stiffness:ve.stiffness,damping:ve.damping,duration:e};{const p=Math.pow(m,2)*r;return{stiffness:p,damping:c*2*Math.sqrt(r*p),duration:e}}}const hU=12;function fU(e,t,n){let r=n;for(let a=1;a<hU;a++)r=r-e(r)/t(r);return r}function Ry(e,t){return e*Math.sqrt(1-t*t)}const dU=["duration","bounce"],mU=["stiffness","damping","mass"];function dS(e,t){return t.some(n=>e[n]!==void 0)}function pU(e){let t={velocity:ve.velocity,stiffness:ve.stiffness,damping:ve.damping,mass:ve.mass,isResolvedFromDuration:!1,...e};if(!dS(e,mU)&&dS(e,dU))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*kr(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ve.mass,stiffness:a,damping:l}}else{const n=cU(e);t={...t,...n,mass:ve.mass},t.isResolvedFromDuration=!0}return t}function vx(e=ve.visualDuration,t=ve.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:E,isResolvedFromDuration:S}=pU({...n,velocity:-Ir(n.velocity||0)}),D=E||0,A=p/(2*Math.sqrt(m*y)),x=c-l,V=Ir(Math.sqrt(m/y)),L=Math.abs(x)<5;r||(r=L?ve.restSpeed.granular:ve.restSpeed.default),a||(a=L?ve.restDelta.granular:ve.restDelta.default);let P;if(A<1){const q=Ry(V,A);P=Y=>{const R=Math.exp(-A*V*Y);return c-R*((D+A*V*x)/q*Math.sin(q*Y)+x*Math.cos(q*Y))}}else if(A===1)P=q=>c-Math.exp(-V*q)*(x+(D+V*x)*q);else{const q=V*Math.sqrt(A*A-1);P=Y=>{const R=Math.exp(-A*V*Y),w=Math.min(q*Y,300);return c-R*((D+A*V*x)*Math.sinh(w)+q*x*Math.cosh(w))/q}}const K={calculatedDuration:S&&_||null,next:q=>{const Y=P(q);if(S)f.done=q>=_;else{let R=0;A<1&&(R=q===0?xr(D):yx(P,q,Y));const w=Math.abs(R)<=r,N=Math.abs(c-Y)<=a;f.done=w&&N}return f.value=f.done?c:Y,f},toString:()=>{const q=Math.min(kC(K),vy),Y=LC(R=>K.next(q*R).value,q,30);return q+"ms "+Y}};return K}function mS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:f,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],E={done:!1,value:_},S=w=>f!==void 0&&w<f||m!==void 0&&w>m,D=w=>f===void 0?m:m===void 0||Math.abs(f-w)<Math.abs(m-w)?f:m;let A=n*t;const x=_+A,V=c===void 0?x:c(x);V!==x&&(A=V-_);const L=w=>-A*Math.exp(-w/r),P=w=>V+L(w),K=w=>{const N=L(w),U=P(w);E.done=Math.abs(N)<=p,E.value=E.done?V:U};let q,Y;const R=w=>{S(E.value)&&(q=w,Y=vx({keyframes:[E.value,D(E.value)],velocity:yx(P,w,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:w=>{let N=!1;return!Y&&q===void 0&&(N=!0,K(w),R(w)),q!==void 0&&w>=q?Y.next(w-q):(!N&&K(w),E)}}}const gU=Oc(.42,0,1,1),yU=Oc(0,0,.58,1),_x=Oc(.42,0,.58,1),vU=e=>Array.isArray(e)&&typeof e[0]!="number",_U={linear:Fn,easeIn:gU,easeInOut:_x,easeOut:yU,circIn:S0,circInOut:JC,circOut:ZC,backIn:w0,backInOut:XC,backOut:QC,anticipate:WC},pS=e=>{if(v0(e)){gC(e.length===4);const[t,n,r,a]=e;return Oc(t,n,r,a)}else if(typeof e=="string")return _U[e];return e};function TU(e,t,n){const r=[],a=n||gx,l=e.length-1;for(let c=0;c<l;c++){let f=a(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Fn:t;f=Vc(m,f)}r.push(f)}return r}function EU(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const l=e.length;if(gC(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=TU(t,r,a),m=f.length,p=y=>{if(c&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const E=pl(e[_],e[_+1],y);return f[_](E)};return n?y=>p(kr(e[0],e[l-1],y)):p}function bU(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=pl(0,t,r);e.push(he(n,1,a))}}function wU(e){const t=[0];return bU(t,e.length-1),t}function SU(e,t){return e.map(n=>n*t)}function AU(e,t){return e.map(()=>t||_x).splice(0,e.length-1)}function yd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=vU(r)?r.map(pS):pS(r),l={done:!1,value:t[0]},c=SU(n&&n.length===t.length?n:wU(t),e),f=EU(c,t,{ease:Array.isArray(a)?a:AU(t,a)});return{calculatedDuration:e,next:m=>(l.value=f(m),l.done=m>=e,l)}}const RU=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ae.update(t,!0),stop:()=>Ks(t),now:()=>Je.isProcessing?Je.timestamp:qi.now()}},CU={decay:mS,inertia:mS,tween:yd,keyframes:yd,spring:vx},xU=e=>e/100;class D0 extends mx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:m}=this.options;m&&m()};const{name:n,motionValue:r,element:a,keyframes:l}=this.options,c=a?.KeyframeResolver||x0,f=(m,p)=>this.onKeyframesResolved(m,p);this.resolver=new c(l,f,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=this.options,f=y0(n)?n:CU[n]||yd;let m,p;f!==yd&&typeof t[0]!="number"&&(m=Vc(xU,gx(t[0],t[1])),t=[0,100]);const y=f({...this.options,keyframes:t});l==="mirror"&&(p=f({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=kC(y));const{calculatedDuration:_}=y,E=_+a,S=E*(r+1)-a;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:m,calculatedDuration:_,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:a,generator:l,mirroredGenerator:c,mapPercentToKeyframes:f,keyframes:m,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=r;if(this.startTime===null)return l.next(0);const{delay:E,repeat:S,repeatType:D,repeatDelay:A,onUpdate:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const V=this.currentTime-E*(this.speed>=0?1:-1),L=this.speed>=0?V<0:V>y;this.currentTime=Math.max(V,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let P=this.currentTime,K=l;if(S){const w=Math.min(this.currentTime,y)/_;let N=Math.floor(w),U=w%1;!U&&w>=1&&(U=1),U===1&&N--,N=Math.min(N,S+1),!!(N%2)&&(D==="reverse"?(U=1-U,A&&(U-=A/_)):D==="mirror"&&(K=c)),P=kr(0,1,U)*_}const q=L?{done:!1,value:m[0]}:K.next(P);f&&(q.value=f(q.value));let{done:Y}=q;!L&&p!==null&&(Y=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Y);return R&&a!==void 0&&(q.value=tm(m,this.options,a)),x&&x(q.value),R&&this.finish(),q}get duration(){const{resolved:t}=this;return t?Ir(t.calculatedDuration):0}get time(){return Ir(this.currentTime)}set time(t){t=xr(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ir(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=RU,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const IU=new Set(["opacity","clipPath","filter","transform"]);function DU(e,t,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:f="easeInOut",times:m}={}){const p={[t]:n};m&&(p.offset=m);const y=jC(f,a);return Array.isArray(y)&&(p.easing=y),e.animate(p,{delay:r,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"})}const NU=n0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),vd=10,MU=2e4;function OU(e){return y0(e.type)||e.type==="spring"||!UC(e.ease)}function VU(e,t){const n=new D0({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const a=[];let l=0;for(;!r.done&&l<MU;)r=n.sample(l),a.push(r.value),l+=vd;return{times:void 0,keyframes:a,duration:l-vd,ease:"linear"}}const Tx={anticipate:WC,backInOut:XC,circInOut:JC};function PU(e){return e in Tx}class gS extends mx{constructor(t){super(t);const{name:n,motionValue:r,element:a,keyframes:l}=this.options;this.resolver=new dx(l,(c,f)=>this.onKeyframesResolved(c,f),n,r,a),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:a,ease:l,type:c,motionValue:f,name:m,startTime:p}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&pd()&&PU(l)&&(l=Tx[l]),OU(this.options)){const{onComplete:_,onUpdate:E,motionValue:S,element:D,...A}=this.options,x=VU(t,A);t=x.keyframes,t.length===1&&(t[1]=t[0]),r=x.duration,a=x.times,l=x.ease,c="keyframes"}const y=DU(f.owner.current,m,t,{...this.options,duration:r,times:a,ease:l});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(tS(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;f.set(tm(t,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:r,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Ir(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Ir(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=xr(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Fn;const{animation:r}=n;tS(r,t)}return Fn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:a,type:l,ease:c,times:f}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:E,...S}=this.options,D=new D0({...S,keyframes:r,duration:a,type:l,ease:c,times:f,isGenerator:!0}),A=xr(this.time);p.setWithVelocity(D.sample(A-vd).value,D.sample(A).value,vd)}const{onStop:m}=this.options;m&&m(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:a,repeatType:l,damping:c,type:f}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=n.owner.getProps();return NU()&&r&&IU.has(r)&&!m&&!p&&!a&&l!=="mirror"&&c!==0&&f!=="inertia"}}const kU={type:"spring",stiffness:500,damping:25,restSpeed:10},LU=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),UU={type:"keyframes",duration:.8},jU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zU=(e,{keyframes:t})=>t.length>2?UU:Ja.has(e)?e.startsWith("scale")?LU(t[1]):kU:jU;function BU({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const N0=(e,t,n,r={},a,l)=>c=>{const f=g0(r,e)||{},m=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-xr(m);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{c(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:a};BU(f)||(y={...y,...zU(e,y)}),y.duration&&(y.duration=xr(y.duration)),y.repeatDelay&&(y.repeatDelay=xr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),_&&!l&&t.get()!==void 0){const E=tm(y.keyframes,f);if(E!==void 0)return ae.update(()=>{y.onUpdate(E),y.onComplete()}),new a6([])}return!l&&gS.supports(y)?new gS(y):new D0(y)};function FU({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ex(e,t,{delay:n=0,transitionOverride:r,type:a}={}){var l;let{transition:c=e.getDefaultTransition(),transitionEnd:f,...m}=t;r&&(c=r);const p=[],y=a&&e.animationState&&e.animationState.getState()[a];for(const _ in m){const E=e.getValue(_,(l=e.latestValues[_])!==null&&l!==void 0?l:null),S=m[_];if(S===void 0||y&&FU(y,_))continue;const D={delay:n,...g0(c||{},_)};let A=!1;if(window.MotionHandoffAnimation){const V=GC(e);if(V){const L=window.MotionHandoffAnimation(V,_,ae);L!==null&&(D.startTime=L,A=!0)}}Ty(e,_),E.start(N0(_,E,S,e.shouldReduceMotion&&HC.has(_)?{type:!1}:D,e,A));const x=E.animation;x&&p.push(x)}return f&&Promise.all(p).then(()=>{ae.update(()=>{f&&T6(e,f)})}),p}function Cy(e,t,n={}){var r;const a=Jd(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(l=n.transitionOverride);const c=a?()=>Promise.all(Ex(e,a,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:E}=l;return HU(e,t,y+p,_,E,n)}:()=>Promise.resolve(),{when:m}=l;if(m){const[p,y]=m==="beforeChildren"?[c,f]:[f,c];return p().then(()=>y())}else return Promise.all([c(),f(n.delay)])}function HU(e,t,n=0,r=0,a=1,l){const c=[],f=(e.variantChildren.size-1)*r,m=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(e.variantChildren).sort(qU).forEach((p,y)=>{p.notify("AnimationStart",t),c.push(Cy(p,t,{...l,delay:n+m(y)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(c)}function qU(e,t){return e.sortNodePosition(t)}function GU(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(l=>Cy(e,l,n));r=Promise.all(a)}else if(typeof t=="string")r=Cy(e,t,n);else{const a=typeof t=="function"?Jd(e,t,n.custom):t;r=Promise.all(Ex(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const KU=r0.length;function bx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?bx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<KU;n++){const r=r0[n],a=e.props[r];(cc(a)||a===!1)&&(t[r]=a)}return t}const $U=[...i0].reverse(),YU=i0.length;function QU(e){return t=>Promise.all(t.map(({animation:n,options:r})=>GU(e,n,r)))}function XU(e){let t=QU(e),n=yS(),r=!0;const a=m=>(p,y)=>{var _;const E=Jd(e,y,m==="exit"?(_=e.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:S,transitionEnd:D,...A}=E;p={...p,...A,...D}}return p};function l(m){t=m(e)}function c(m){const{props:p}=e,y=bx(e.parent)||{},_=[],E=new Set;let S={},D=1/0;for(let x=0;x<YU;x++){const V=$U[x],L=n[V],P=p[V]!==void 0?p[V]:y[V],K=cc(P),q=V===m?L.isActive:null;q===!1&&(D=x);let Y=P===y[V]&&P!==p[V]&&K;if(Y&&r&&e.manuallyAnimateOnMount&&(Y=!1),L.protectedKeys={...S},!L.isActive&&q===null||!P&&!L.prevProp||Wd(P)||typeof P=="boolean")continue;const R=WU(L.prevProp,P);let w=R||V===m&&L.isActive&&!Y&&K||x>D&&K,N=!1;const U=Array.isArray(P)?P:[P];let z=U.reduce(a(V),{});q===!1&&(z={});const{prevResolvedValues:H={}}=L,k={...H,...z},Xt=ot=>{w=!0,E.has(ot)&&(N=!0,E.delete(ot)),L.needsAnimating[ot]=!0;const ft=e.getValue(ot);ft&&(ft.liveStyle=!1)};for(const ot in k){const ft=z[ot],It=H[ot];if(S.hasOwnProperty(ot))continue;let Dt=!1;yy(ft)&&yy(It)?Dt=!PC(ft,It):Dt=ft!==It,Dt?ft!=null?Xt(ot):E.add(ot):ft!==void 0&&E.has(ot)?Xt(ot):L.protectedKeys[ot]=!0}L.prevProp=P,L.prevResolvedValues=z,L.isActive&&(S={...S,...z}),r&&e.blockInitialAnimation&&(w=!1),w&&(!(Y&&R)||N)&&_.push(...U.map(ot=>({animation:ot,options:{type:V}})))}if(E.size){const x={};E.forEach(V=>{const L=e.getBaseTarget(V),P=e.getValue(V);P&&(P.liveStyle=!0),x[V]=L??null}),_.push({animation:x})}let A=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(A=!1),r=!1,A?t(_):Promise.resolve()}function f(m,p){var y;if(n[m].isActive===p)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(m,p)}),n[m].isActive=p;const _=c(m);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:c,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=yS(),r=!0}}}function WU(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!PC(t,e):!1}function Ia(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yS(){return{animate:Ia(!0),whileInView:Ia(),whileHover:Ia(),whileTap:Ia(),whileDrag:Ia(),whileFocus:Ia(),exit:Ia()}}class Zs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class ZU extends Zs{constructor(t){super(t),t.animationState||(t.animationState=XU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Wd(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let JU=0;class t5 extends Zs{constructor(){super(...arguments),this.id=JU++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const e5={animation:{Feature:ZU},exit:{Feature:t5}};function mc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Pc(e){return{point:{x:e.pageX,y:e.pageY}}}const n5=e=>t=>_0(t)&&e(t,Pc(t));function Qu(e,t,n,r){return mc(e,t,n5(n),r)}const vS=(e,t)=>Math.abs(e-t);function i5(e,t){const n=vS(e.x,t.x),r=vS(e.y,t.y);return Math.sqrt(n**2+r**2)}class wx{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Vg(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=i5(_.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:D}=_,{timestamp:A}=Je;this.history.push({...D,timestamp:A});const{onStart:x,onMove:V}=this.handlers;E||(x&&x(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),V&&V(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Og(E,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:S,onSessionEnd:D,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Vg(_.type==="pointercancel"?this.lastMoveEventInfo:Og(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,x),D&&D(_,x)},!_0(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=Pc(t),f=Og(c,this.transformPagePoint),{point:m}=f,{timestamp:p}=Je;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(t,Vg(f,this.history)),this.removeListeners=Vc(Qu(this.contextWindow,"pointermove",this.handlePointerMove),Qu(this.contextWindow,"pointerup",this.handlePointerUp),Qu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Og(e,t){return t?{point:t(e.point)}:e}function _S(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vg({point:e},t){return{point:e,delta:_S(e,Sx(t)),offset:_S(e,r5(t)),velocity:s5(t,.1)}}function r5(e){return e[0]}function Sx(e){return e[e.length-1]}function s5(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=Sx(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>xr(t)));)n--;if(!r)return{x:0,y:0};const l=Ir(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Ax=1e-4,a5=1-Ax,o5=1+Ax,Rx=.01,l5=0-Rx,u5=0+Rx;function qn(e){return e.max-e.min}function c5(e,t,n){return Math.abs(e-t)<=n}function TS(e,t,n,r=.5){e.origin=r,e.originPoint=he(t.min,t.max,e.origin),e.scale=qn(n)/qn(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=a5&&e.scale<=o5||isNaN(e.scale))&&(e.scale=1),(e.translate>=l5&&e.translate<=u5||isNaN(e.translate))&&(e.translate=0)}function Xu(e,t,n,r){TS(e.x,t.x,n.x,r?r.originX:void 0),TS(e.y,t.y,n.y,r?r.originY:void 0)}function ES(e,t,n){e.min=n.min+t.min,e.max=e.min+qn(t)}function h5(e,t,n){ES(e.x,t.x,n.x),ES(e.y,t.y,n.y)}function bS(e,t,n){e.min=t.min-n.min,e.max=e.min+qn(t)}function Wu(e,t,n){bS(e.x,t.x,n.x),bS(e.y,t.y,n.y)}function f5(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?he(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?he(n,e,r.max):Math.min(e,n)),e}function wS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function d5(e,{top:t,left:n,bottom:r,right:a}){return{x:wS(e.x,n,a),y:wS(e.y,t,r)}}function SS(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function m5(e,t){return{x:SS(e.x,t.x),y:SS(e.y,t.y)}}function p5(e,t){let n=.5;const r=qn(e),a=qn(t);return a>r?n=pl(t.min,t.max-r,e.min):r>a&&(n=pl(e.min,e.max-a,t.min)),kr(0,1,n)}function g5(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const xy=.35;function y5(e=xy){return e===!1?e=0:e===!0&&(e=xy),{x:AS(e,"left","right"),y:AS(e,"top","bottom")}}function AS(e,t,n){return{min:RS(e,t),max:RS(e,n)}}function RS(e,t){return typeof e=="number"?e:e[t]||0}const CS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zo=()=>({x:CS(),y:CS()}),xS=()=>({min:0,max:0}),Ae=()=>({x:xS(),y:xS()});function ri(e){return[e("x"),e("y")]}function Cx({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function v5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _5(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Pg(e){return e===void 0||e===1}function Iy({scale:e,scaleX:t,scaleY:n}){return!Pg(e)||!Pg(t)||!Pg(n)}function Na(e){return Iy(e)||xx(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function xx(e){return IS(e.x)||IS(e.y)}function IS(e){return e&&e!=="0%"}function _d(e,t,n){const r=e-n,a=t*r;return n+a}function DS(e,t,n,r,a){return a!==void 0&&(e=_d(e,a,r)),_d(e,n,r)+t}function Dy(e,t=0,n=1,r,a){e.min=DS(e.min,t,n,r,a),e.max=DS(e.max,t,n,r,a)}function Ix(e,{x:t,y:n}){Dy(e.x,t.translate,t.scale,t.originPoint),Dy(e.y,n.translate,n.scale,n.originPoint)}const NS=.999999999999,MS=1.0000000000001;function T5(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,c;for(let f=0;f<a;f++){l=n[f],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&tl(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Ix(e,c)),r&&Na(l.latestValues)&&tl(e,l.latestValues))}t.x<MS&&t.x>NS&&(t.x=1),t.y<MS&&t.y>NS&&(t.y=1)}function Jo(e,t){e.min=e.min+t,e.max=e.max+t}function OS(e,t,n,r,a=.5){const l=he(e.min,e.max,a);Dy(e,t,n,l,r)}function tl(e,t){OS(e.x,t.x,t.scaleX,t.scale,t.originX),OS(e.y,t.y,t.scaleY,t.scale,t.originY)}function Dx(e,t){return Cx(_5(e.getBoundingClientRect(),t))}function E5(e,t,n){const r=Dx(e,n),{scroll:a}=t;return a&&(Jo(r.x,a.offset.x),Jo(r.y,a.offset.y)),r}const Nx=({current:e})=>e?e.ownerDocument.defaultView:null,b5=new WeakMap;class w5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ae(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Pc(y).point)},l=(y,_)=>{const{drag:E,dragPropagation:S,onDragStart:D}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p6(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(x=>{let V=this.getAxisMotionValue(x).get()||0;if(Hi.test(V)){const{projection:L}=this.visualElement;if(L&&L.layout){const P=L.layout.layoutBox[x];P&&(V=qn(P)*(parseFloat(V)/100))}}this.originPoint[x]=V}),D&&ae.postRender(()=>D(y,_)),Ty(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},c=(y,_)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:D,onDrag:A}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:x}=_;if(S&&this.currentDirection===null){this.currentDirection=S5(x),this.currentDirection!==null&&D&&D(this.currentDirection);return}this.updateAxis("x",_.point,x),this.updateAxis("y",_.point,x),this.visualElement.render(),A&&A(y,_)},f=(y,_)=>this.stop(y,_),m=()=>ri(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new wx(t,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Nx(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ae.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Sf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=f5(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&Xo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=d5(a.layoutBox,n):this.constraints=!1,this.elastic=y5(r),l!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ri(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=g5(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Xo(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=E5(r,a.root,this.visualElement.getTransformPagePoint());let c=m5(a.layout.layoutBox,l);if(n){const f=n(v5(c));this.hasMutatedConstraints=!!f,f&&(c=Cx(f))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=ri(y=>{if(!Sf(y,n,this.currentDirection))return;let _=m&&m[y]||{};c&&(_={min:0,max:0});const E=a?200:1e6,S=a?40:1e7,D={type:"inertia",velocity:r?t[y]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Ty(this.visualElement,t),r.start(N0(t,r,0,n,this.visualElement,!1))}stopAnimation(){ri(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ri(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ri(n=>{const{drag:r}=this.getProps();if(!Sf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:f}=a.layout.layoutBox[n];l.set(t[n]-he(c,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ri(c=>{const f=this.getAxisMotionValue(c);if(f&&this.constraints!==!1){const m=f.get();a[c]=p5({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ri(c=>{if(!Sf(c,t,null))return;const f=this.getAxisMotionValue(c),{min:m,max:p}=this.constraints[c];f.set(he(m,p,a[c]))})}addListeners(){if(!this.visualElement.current)return;b5.set(this.visualElement,this);const t=this.visualElement.current,n=Qu(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Xo(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ae.read(r);const c=mc(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(ri(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=xy,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:f}}}function Sf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function S5(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class A5 extends Zs{constructor(t){super(t),this.removeGroupControls=Fn,this.removeListeners=Fn,this.controls=new w5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fn}unmount(){this.removeGroupControls(),this.removeListeners()}}const VS=e=>(t,n)=>{e&&ae.postRender(()=>e(t,n))};class R5 extends Zs{constructor(){super(...arguments),this.removePointerDownListener=Fn}onPointerDown(t){this.session=new wx(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Nx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:VS(t),onStart:VS(n),onMove:r,onEnd:(l,c)=>{delete this.session,a&&ae.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=Qu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ff={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ou={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=PS(e,t.target.x),r=PS(e,t.target.y);return`${n}% ${r}%`}},C5={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=$s.parse(e);if(a.length>5)return r;const l=$s.createTransformer(e),c=typeof a[0]!="number"?1:0,f=n.x.scale*t.x,m=n.y.scale*t.y;a[0+c]/=f,a[1+c]/=m;const p=he(f,m,.5);return typeof a[2+c]=="number"&&(a[2+c]/=p),typeof a[3+c]=="number"&&(a[3+c]/=p),l(a)}};class x5 extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=t;Y3(I5),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Ff.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,c=r.projection;return c&&(c.isPresent=l,a||t.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||ae.postRender(()=>{const f=c.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),a0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mx(e){const[t,n]=mC(),r=M.useContext(Zv);return O.jsx(x5,{...e,layoutGroup:r,switchLayoutGroup:M.useContext(bC),isPresent:t,safeToRemove:n})}const I5={borderRadius:{...Ou,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ou,borderTopRightRadius:Ou,borderBottomLeftRadius:Ou,borderBottomRightRadius:Ou,boxShadow:C5};function D5(e,t,n){const r=hn(e)?e:fc(e);return r.start(N0("",r,t,n)),r.animation}function N5(e){return e instanceof SVGElement&&e.tagName!=="svg"}const M5=(e,t)=>e.depth-t.depth;class O5{constructor(){this.children=[],this.isDirty=!1}add(t){T0(this.children,t),this.isDirty=!0}remove(t){E0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(M5),this.isDirty=!1,this.children.forEach(t)}}function V5(e,t){const n=qi.now(),r=({timestamp:a})=>{const l=a-n;l>=t&&(Ks(r),e(l-t))};return ae.read(r,!0),()=>Ks(r)}const Ox=["TopLeft","TopRight","BottomLeft","BottomRight"],P5=Ox.length,kS=e=>typeof e=="string"?parseFloat(e):e,LS=e=>typeof e=="number"||Tt.test(e);function k5(e,t,n,r,a,l){a?(e.opacity=he(0,n.opacity!==void 0?n.opacity:1,L5(r)),e.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,U5(r))):l&&(e.opacity=he(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<P5;c++){const f=`border${Ox[c]}Radius`;let m=US(t,f),p=US(n,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||LS(m)===LS(p)?(e[f]=Math.max(he(kS(m),kS(p),r),0),(Hi.test(p)||Hi.test(m))&&(e[f]+="%")):e[f]=p}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,r))}function US(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const L5=Vx(0,.5,ZC),U5=Vx(.5,.95,Fn);function Vx(e,t,n){return r=>r<e?0:r>t?1:n(pl(e,t,r))}function jS(e,t){e.min=t.min,e.max=t.max}function ii(e,t){jS(e.x,t.x),jS(e.y,t.y)}function zS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function BS(e,t,n,r,a){return e-=t,e=_d(e,1/n,r),a!==void 0&&(e=_d(e,1/a,r)),e}function j5(e,t=0,n=1,r=.5,a,l=e,c=e){if(Hi.test(t)&&(t=parseFloat(t),t=he(c.min,c.max,t/100)-c.min),typeof t!="number")return;let f=he(l.min,l.max,r);e===l&&(f-=t),e.min=BS(e.min,t,n,f,a),e.max=BS(e.max,t,n,f,a)}function FS(e,t,[n,r,a],l,c){j5(e,t[n],t[r],t[a],t.scale,l,c)}const z5=["x","scaleX","originX"],B5=["y","scaleY","originY"];function HS(e,t,n,r){FS(e.x,t,z5,n?n.x:void 0,r?r.x:void 0),FS(e.y,t,B5,n?n.y:void 0,r?r.y:void 0)}function qS(e){return e.translate===0&&e.scale===1}function Px(e){return qS(e.x)&&qS(e.y)}function GS(e,t){return e.min===t.min&&e.max===t.max}function F5(e,t){return GS(e.x,t.x)&&GS(e.y,t.y)}function KS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function kx(e,t){return KS(e.x,t.x)&&KS(e.y,t.y)}function $S(e){return qn(e.x)/qn(e.y)}function YS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class H5{constructor(){this.members=[]}add(t){T0(this.members,t),t.scheduleRender()}remove(t){if(E0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function q5(e,t,n){let r="";const a=e.x.translate/t.x,l=e.y.translate/t.y,c=n?.z||0;if((a||l||c)&&(r=`translate3d(${a}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:E,skewX:S,skewY:D}=n;p&&(r=`perspective(${p}px) ${r}`),y&&(r+=`rotate(${y}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),D&&(r+=`skewY(${D}deg) `)}const f=e.x.scale*t.x,m=e.y.scale*t.y;return(f!==1||m!==1)&&(r+=`scale(${f}, ${m})`),r||"none"}const Ma={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Bu=typeof window<"u"&&window.MotionDebug!==void 0,kg=["","X","Y","Z"],G5={visibility:"hidden"},QS=1e3;let K5=0;function Lg(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Lx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=GC(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ae,!(a||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Lx(r)}function Ux({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},f=t?.()){this.id=K5++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Bu&&(Ma.totalNodes=Ma.resolvedTargetDeltas=Ma.recalculatedProjection=0),this.nodes.forEach(Q5),this.nodes.forEach(t9),this.nodes.forEach(e9),this.nodes.forEach(X5),Bu&&window.MotionDebug.record(Ma)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new O5)}addEventListener(c,f){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new b0),this.eventHandlers.get(c).add(f)}notifyListeners(c,...f){const m=this.eventHandlers.get(c);m&&m.notify(...f)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=N5(c),this.instance=c;const{layoutId:m,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(p||m)&&(this.isLayoutDirty=!0),e){let _;const E=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=V5(E,250),Ff.hasAnimatedSinceResize&&(Ff.hasAnimatedSinceResize=!1,this.nodes.forEach(WS))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&y&&(m||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:S,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||y.getDefaultTransition()||a9,{onLayoutAnimationStart:x,onLayoutAnimationComplete:V}=y.getProps(),L=!this.targetLayout||!kx(this.targetLayout,D)||S,P=!E&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||P||E&&(L||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,P);const K={...g0(A,"layout"),onPlay:x,onComplete:V};(y.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K)}else E||WS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n9),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(XS);return}this.isUpdating||this.nodes.forEach(Z5),this.isUpdating=!1,this.nodes.forEach(J5),this.nodes.forEach($5),this.nodes.forEach(Y5),this.clearAllSnapshots();const f=qi.now();Je.delta=kr(0,1e3/60,f-Je.timestamp),Je.timestamp=f,Je.isProcessing=!0,Cg.update.process(Je),Cg.preRender.process(Je),Cg.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,a0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(W5),this.sharedNodes.forEach(i9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ae(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(f=!1),f){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Px(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;c&&(f||Na(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return c&&(m=this.removeTransform(m)),o9(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:f}=this.options;if(!f)return Ae();const m=f.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(l9))){const{scroll:y}=this.root;y&&(Jo(m.x,y.offset.x),Jo(m.y,y.offset.y))}return m}removeElementScroll(c){var f;const m=Ae();if(ii(m,c),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return m;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:E}=y;y!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&ii(m,c),Jo(m.x,_.offset.x),Jo(m.y,_.offset.y))}return m}applyTransform(c,f=!1){const m=Ae();ii(m,c);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&tl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Na(y.latestValues)&&tl(m,y.latestValues)}return Na(this.latestValues)&&tl(m,this.latestValues),m}removeTransform(c){const f=Ae();ii(f,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Na(p.latestValues))continue;Iy(p.latestValues)&&p.updateSnapshot();const y=Ae(),_=p.measurePageBox();ii(y,_),HS(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Na(this.latestValues)&&HS(f,this.latestValues),f}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var f;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==m;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Je.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),Wu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ae(),this.targetWithTransforms=Ae()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),h5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ii(this.target,this.layout.layoutBox),Ix(this.target,this.targetDelta)):ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ae(),this.relativeTargetOrigin=Ae(),Wu(this.relativeTargetOrigin,this.target,S.target),ii(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Bu&&Ma.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Iy(this.parent.latestValues)||xx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const f=this.getLead(),m=!!this.resumingFrom||this!==f;let p=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(p=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;ii(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;T5(this.layoutCorrected,this.treeScale,this.path,m),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=Ae());const{target:D}=f;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zS(this.prevProjectionDelta.x,this.projectionDelta.x),zS(this.prevProjectionDelta.y,this.projectionDelta.y)),Xu(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!YS(this.projectionDelta.x,this.prevProjectionDelta.x)||!YS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D)),Bu&&Ma.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zo(),this.projectionDelta=Zo(),this.projectionDeltaWithTransform=Zo()}setAnimationOrigin(c,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Zo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=Ae(),S=m?m.source:void 0,D=this.layout?this.layout.source:void 0,A=S!==D,x=this.getStack(),V=!x||x.members.length<=1,L=!!(A&&!V&&this.options.crossfade===!0&&!this.path.some(s9));this.animationProgress=0;let P;this.mixTargetDelta=K=>{const q=K/1e3;ZS(_.x,c.x,q),ZS(_.y,c.y,q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wu(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),r9(this.relativeTarget,this.relativeTargetOrigin,E,q),P&&F5(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Ae()),ii(P,this.relativeTarget)),A&&(this.animationValues=y,k5(y,p,this.latestValues,q,L,V)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Ff.hasAnimatedSinceResize=!0,this.currentAnimation=D5(0,QS,{...c,onUpdate:f=>{this.mixTargetDelta(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(QS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=c;if(!(!f||!m||!p)){if(this!==c&&this.layout&&p&&jx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ae();const _=qn(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+_;const E=qn(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+E}ii(f,m),tl(f,y),Xu(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(c,f){this.sharedNodes.has(c)||this.sharedNodes.set(c,new H5),this.sharedNodes.get(c).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:f}=this.options;return f?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:f}=this.options;return f?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let f=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Lg("z",c,p,this.animationValues);for(let y=0;y<kg.length;y++)Lg(`rotate${kg[y]}`,c,p,this.animationValues),Lg(`skew${kg[y]}`,c,p,this.animationValues);c.render();for(const y in p)c.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);c.scheduleRender()}getProjectionStyles(c){var f,m;if(!this.instance||this.isSVG)return;if(!this.isVisible)return G5;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=zf(c?.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=zf(c?.pointerEvents)||""),this.hasProjected&&!Na(this.latestValues)&&(A.transform=y?y({},""):"none",this.hasProjected=!1),A}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=q5(this.projectionDeltaWithTransform,this.treeScale,E),y&&(p.transform=y(E,p.transform));const{x:S,y:D}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${D.origin*100}% 0`,_.animationValues?p.opacity=_===this?(m=(f=E.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const A in md){if(E[A]===void 0)continue;const{correct:x,applyTo:V}=md[A],L=p.transform==="none"?E[A]:x(E[A],_);if(V){const P=V.length;for(let K=0;K<P;K++)p[V[K]]=L}else p[A]=L}return this.options.layoutId&&(p.pointerEvents=_===this?zf(c?.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var f;return(f=c.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(XS),this.root.sharedNodes.clear()}}}function $5(e){e.updateLayout()}function Y5(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:l}=e.options,c=n.source!==e.layout.source;l==="size"?ri(_=>{const E=c?n.measuredBox[_]:n.layoutBox[_],S=qn(E);E.min=r[_].min,E.max=E.min+S}):jx(l,n.layoutBox,r)&&ri(_=>{const E=c?n.measuredBox[_]:n.layoutBox[_],S=qn(r[_]);E.max=E.min+S,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+S)});const f=Zo();Xu(f,r,n.layoutBox);const m=Zo();c?Xu(m,e.applyTransform(a,!0),n.measuredBox):Xu(m,r,n.layoutBox);const p=!Px(f);let y=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:S}=_;if(E&&S){const D=Ae();Wu(D,n.layoutBox,E.layoutBox);const A=Ae();Wu(A,r,S.layoutBox),kx(D,A)||(y=!0),_.options.layoutRoot&&(e.relativeTarget=A,e.relativeTargetOrigin=D,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:m,layoutDelta:f,hasLayoutChanged:p,hasRelativeTargetChanged:y})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Q5(e){Bu&&Ma.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function X5(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function W5(e){e.clearSnapshot()}function XS(e){e.clearMeasurements()}function Z5(e){e.isLayoutDirty=!1}function J5(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function WS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function t9(e){e.resolveTargetDelta()}function e9(e){e.calcProjection()}function n9(e){e.resetSkewAndRotation()}function i9(e){e.removeLeadSnapshot()}function ZS(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function JS(e,t,n,r){e.min=he(t.min,n.min,r),e.max=he(t.max,n.max,r)}function r9(e,t,n,r){JS(e.x,t.x,n.x,r),JS(e.y,t.y,n.y,r)}function s9(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const a9={duration:.45,ease:[.4,0,.1,1]},tA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),eA=tA("applewebkit/")&&!tA("chrome/")?Math.round:Fn;function nA(e){e.min=eA(e.min),e.max=eA(e.max)}function o9(e){nA(e.x),nA(e.y)}function jx(e,t,n){return e==="position"||e==="preserve-aspect"&&!c5($S(t),$S(n),.2)}function l9(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const u9=Ux({attachResizeListener:(e,t)=>mc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ug={current:void 0},zx=Ux({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ug.current){const e=new u9({});e.mount(window),e.setOptions({layoutScroll:!0}),Ug.current=e}return Ug.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),c9={pan:{Feature:R5},drag:{Feature:A5,ProjectionNode:zx,MeasureLayout:Mx}};function iA(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&ae.postRender(()=>l(t,Pc(t)))}class h9 extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=c6(t,n=>(iA(this.node,n,"Start"),r=>iA(this.node,r,"End"))))}unmount(){}}class f9 extends Zs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vc(mc(this.node.current,"focus",()=>this.onFocus()),mc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rA(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&ae.postRender(()=>l(t,Pc(t)))}class d9 extends Zs{mount(){const{current:t}=this.node;t&&(this.unmount=m6(t,n=>(rA(this.node,n,"Start"),(r,{success:a})=>rA(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ny=new WeakMap,jg=new WeakMap,m9=e=>{const t=Ny.get(e.target);t&&t(e)},p9=e=>{e.forEach(m9)};function g9({root:e,...t}){const n=e||document;jg.has(n)||jg.set(n,{});const r=jg.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(p9,{root:e,...t})),r[a]}function y9(e,t,n){const r=g9(t);return Ny.set(e,n),r.observe(e),()=>{Ny.delete(e),r.unobserve(e)}}const v9={some:0,all:1};class _9 extends Zs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:v9[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),E=p?y:_;E&&E(m)};return y9(this.node.current,c,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(T9(t,n))&&this.startObserver()}unmount(){}}function T9({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const E9={inView:{Feature:_9},tap:{Feature:d9},focus:{Feature:f9},hover:{Feature:h9}},b9={layout:{ProjectionNode:zx,MeasureLayout:Mx}},My={current:null},Bx={current:!1};function w9(){if(Bx.current=!0,!!e0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>My.current=e.matches;e.addListener(t),t()}else My.current=!1}const S9=[...fx,ln,$s],A9=e=>S9.find(hx(e)),sA=new WeakMap;function R9(e,t,n){for(const r in t){const a=t[r],l=n[r];if(hn(a))e.addValue(r,a);else if(hn(l))e.addValue(r,fc(a,{owner:e}));else if(l!==a)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=e.getStaticValue(r);e.addValue(r,fc(c!==void 0?c:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const aA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class C9{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:c},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=x0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=qi.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,ae.render(this.render,!1,!0))};const{latestValues:m,renderState:p,onUpdate:y}=c;this.onUpdate=y,this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Zd(n),this.isVariantNode=TC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const D=E[S];m[S]!==void 0&&hn(D)&&D.set(m[S],!1)}}mount(t){this.current=t,sA.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Bx.current||w9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:My.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sA.delete(this.current),this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ja.has(t),a=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&ae.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l(),c&&c(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in gl){const n=gl[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ae()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aA.length;r++){const a=aA[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=t[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=R9(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=fc(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&(ux(a)||tx(a))?a=parseFloat(a):!A9(a)&&$s.test(n)&&(a=ax(t,n)),this.setBaseTarget(t,hn(a)?a.get():a)),hn(a)?a.get():a}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const c=l0(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[t])}if(r&&a!==void 0)return a;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!hn(l)?l:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new b0),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Fx extends C9{constructor(){super(...arguments),this.KeyframeResolver=dx}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;hn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x9(e){return window.getComputedStyle(e)}class I9 extends Fx{constructor(){super(...arguments),this.type="html",this.renderInstance=IC}readValueFromInstance(t,n){if(Ja.has(n)){const r=C0(n);return r&&r.default||0}else{const r=x9(t),a=(RC(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Dx(t,n)}build(t,n,r){h0(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return p0(t,n,r)}}class D9 extends Fx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ae}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ja.has(n)){const r=C0(n);return r&&r.default||0}return n=DC.has(n)?n:s0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return OC(t,n,r)}build(t,n,r){f0(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,a){NC(t,n,r,a)}mount(t){this.isSVGTag=m0(t.tagName),super.mount(t)}}const N9=(e,t)=>o0(e)?new D9(t):new I9(t,{allowProjection:e!==M.Fragment}),M9=i6({...e5,...E9,...c9,...b9},N9),In=v3(M9);function O9(){const{signInWithGoogle:e,loading:t,error:n}=Nc();return O.jsx("div",{className:"min-h-full flex flex-col items-center justify-center px-4 bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:O.jsxs(In.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-sm",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx(In.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2,damping:15},className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-10 h-10 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),O.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CMail"})]}),n&&O.jsx(In.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:O.jsx("p",{className:"text-sm text-red-600 text-center",children:n})}),O.jsx(In.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,disabled:t,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white border border-gray-300 rounded-xl shadow-sm hover:shadow-md transition-shadow disabled:opacity-50 disabled:cursor-not-allowed",children:t?O.jsx("div",{className:"w-5 h-5 border-2 border-gray-300 border-t-indigo-600 rounded-full animate-spin"}):O.jsxs(O.Fragment,{children:[O.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[O.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),O.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),O.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),O.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),O.jsx("span",{className:"text-gray-700 font-medium",children:"Sign in with Google"})]})})]})})}const Af=50,qo="duoboard_messages";function V9(e){const[t,n]=M.useState([]),[r,a]=M.useState(!0),[l,c]=M.useState(!1),[f,m]=M.useState(!0),[p,y]=M.useState(null),_=M.useRef(null),E=M.useRef(null),S=M.useCallback(async P=>{const K=P.filter(w=>w.replyTo).map(w=>w.replyTo);if(K.length===0)return P.map(w=>({...w,replyToMessage:null}));const q=[...new Set(K)],Y=await Promise.all(q.map(w=>hd(yi(Re,qo,w)))),R=new Map;return Y.forEach(w=>{w.exists()&&R.set(w.id,{id:w.id,...w.data()})}),P.map(w=>({...w,replyToMessage:w.replyTo&&R.get(w.replyTo)||null}))},[]);M.useEffect(()=>{if(!e){a(!1);return}a(!0),y(null);const P=gi(Re,qo),K=Oa(P,cd("timestamp","desc"),Uw(Af));return Gv(K,async Y=>{try{const R=[];let w=null;Y.forEach(U=>{R.push({id:U.id,...U.data()}),w=U}),R.length>0&&!E.current&&(E.current=R[0].timestamp),_.current=w,m(R.length===Af);const N=await S(R);n(N.reverse()),a(!1)}catch(R){console.error("Error fetching messages:",R),y("Failed to load messages"),a(!1)}},Y=>{console.error("Snapshot error:",Y),y("Failed to connect to messages"),a(!1)})},[e,S]);const D=M.useCallback(async()=>{if(!(!e||l||!f||!_.current)){c(!0);try{const P=gi(Re,qo),K=Oa(P,cd("timestamp","desc"),k4(_.current),Uw(Af)),q=await Uu(K),Y=[];let R=null;if(q.forEach(w=>{Y.push({id:w.id,...w.data()}),R=w}),R&&(_.current=R),m(Y.length===Af),Y.length>0){const w=await S(Y);n(N=>[...w.reverse(),...N])}}catch(P){console.error("Error loading more messages:",P),y("Failed to load more messages")}finally{c(!1)}}},[e,l,f,S]),A=M.useCallback(async(P,K)=>{if(!(!e||!P.trim()))try{const q={senderId:e,content:P.trim(),imageUrl:null,timestamp:uc(),replyTo:K||null,likes:{}};await fd(gi(Re,qo),q)}catch(q){throw console.error("Error sending message:",q),new Error("Failed to send message")}},[e]),x=M.useCallback(async(P,K)=>{if(e)try{const Y=await(await fetch(P.dataUrl)).blob(),R=`duoboard_drawings/${e}_${Date.now()}.png`,w=JL(s3,R);await WL(w,Y);const N=await ZL(w),U={senderId:e,content:null,imageUrl:N,timestamp:uc(),replyTo:K||null,likes:{}};await fd(gi(Re,qo),U)}catch(q){throw console.error("Error sending drawing:",q),new Error("Failed to send drawing")}},[e]),V=M.useCallback(async P=>{if(e)try{const K=yi(Re,qo,P),q=await hd(K);if(!q.exists())return;const R={...q.data().likes||{}};R[e]?delete R[e]:R[e]=!0,await py(K,{likes:R}),n(w=>w.map(N=>N.id===P?{...N,likes:R}:N))}catch(K){console.error("Error toggling like:",K)}},[e]),L=M.useCallback(P=>t.find(K=>K.id===P),[t]);return{messages:t,loading:r,loadingMore:l,hasMore:f,error:p,loadMore:D,sendMessage:A,sendDrawing:x,toggleLike:V,getMessageById:L}}const Rf="duoboard_lists",Cs="duoboard_listItems",P9="duoboard_messages";function k9(e){const[t,n]=M.useState([]),[r,a]=M.useState(!0),[l,c]=M.useState(null);M.useEffect(()=>{if(!e){a(!1);return}a(!0);const D=gi(Re,Rf),A=Oa(D,P4(Rs("visibility","==","public"),Rs("ownerId","==",e)),cd("createdAt","desc"));return Gv(A,V=>{const L=[];V.forEach(P=>{L.push({id:P.id,...P.data()})}),n(L),a(!1)},V=>{console.error("Error fetching lists:",V),c("Failed to load lists"),a(!1)})},[e]);const f=M.useCallback(async(D,A,x,V)=>{if(!e)return null;try{const L={name:D,ownerId:e,visibility:A,type:x,emoji:V||"",createdAt:uc()};return(await fd(gi(Re,Rf),L)).id}catch(L){throw console.error("Error creating list:",L),new Error("Failed to create list")}},[e]),m=M.useCallback(async(D,A)=>{if(e)try{const x=yi(Re,Rf,D);await py(x,A)}catch(x){throw console.error("Error updating list:",x),new Error("Failed to update list")}},[e]),p=M.useCallback(async D=>{if(e)try{const A=Oa(gi(Re,Cs),Rs("listId","==",D)),V=(await Uu(A)).docs.map(L=>Sg(yi(Re,Cs,L.id)));await Promise.all(V),await Sg(yi(Re,Rf,D))}catch(A){throw console.error("Error deleting list:",A),new Error("Failed to delete list")}},[e]),y=M.useCallback(async(D,A)=>{if(e)try{const x=Oa(gi(Re,Cs),Rs("listId","==",D),Rs("messageId","==",A));if(!(await Uu(x)).empty)return;const L={listId:D,messageId:A,addedAt:uc(),completed:!1};await fd(gi(Re,Cs),L)}catch(x){throw console.error("Error adding message to list:",x),new Error("Failed to add to list")}},[e]),_=M.useCallback(async(D,A)=>{if(e)try{const x=Oa(gi(Re,Cs),Rs("listId","==",D),Rs("messageId","==",A)),L=(await Uu(x)).docs.map(P=>Sg(yi(Re,Cs,P.id)));await Promise.all(L)}catch(x){throw console.error("Error removing from list:",x),new Error("Failed to remove from list")}},[e]),E=M.useCallback(async D=>{if(e)try{const A=yi(Re,Cs,D),x=await hd(A);if(x.exists()){const V=x.data().completed||!1;await py(A,{completed:!V})}}catch(A){throw console.error("Error toggling item completion:",A),new Error("Failed to update item")}},[e]),S=M.useCallback(async D=>{try{const A=Oa(gi(Re,Cs),Rs("listId","==",D),cd("addedAt","desc")),x=await Uu(A),V=[];x.forEach(Y=>{V.push({id:Y.id,...Y.data()})});const P=V.map(Y=>Y.messageId).map(Y=>hd(yi(Re,P9,Y))),K=await Promise.all(P),q=new Map;return K.forEach(Y=>{Y.exists()&&q.set(Y.id,{id:Y.id,...Y.data()})}),V.map(Y=>({...Y,message:q.get(Y.messageId)||null}))}catch(A){throw console.error("Error fetching list items:",A),new Error("Failed to load list items")}},[]);return{lists:t,loading:r,error:l,createList:f,updateList:m,deleteList:p,addMessageToList:y,removeFromList:_,toggleItemCompleted:E,getListItems:S}}function L9({title:e="CMail",showProfile:t=!0,onListsClick:n}){const{user:r,signOut:a}=Nc();return O.jsxs("header",{className:"flex items-center justify-between px-4 py-3 bg-white border-b border-gray-200 safe-area-top",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[t&&r?.photoURL&&O.jsx("img",{src:r.photoURL,alt:r.displayName,className:"w-8 h-8 rounded-full"}),O.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:e})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[n&&O.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors","aria-label":"View lists",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})}),O.jsx("button",{onClick:a,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-full transition-colors","aria-label":"Sign out",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})}function U9({onDoubleTap:e,delay:t=300}){const n=M.useRef(0);return M.useCallback(()=>{const a=Date.now(),l=a-n.current;l>0&&l<t?(e(),n.current=0):n.current=a},[e,t])}function j9({onSwipeRight:e,onSwipeLeft:t,threshold:n=80}){const r=M.useRef(0),[a,l]=M.useState({swiping:!1,offset:0}),c=M.useCallback(p=>{r.current=p.touches[0].clientX,l({swiping:!0,offset:0})},[]),f=M.useCallback(p=>{if(!a.swiping)return;const _=p.touches[0].clientX-r.current;_>0&&e?l({swiping:!0,offset:Math.min(_,n*1.5)}):_<0&&t&&l({swiping:!0,offset:Math.max(_,-n*1.5)})},[a.swiping,n,e,t]),m=M.useCallback(()=>{const p=a.offset;p>n&&e?e():p<-n&&t&&t(),l({swiping:!1,offset:0})},[a.offset,n,e,t]);return{handlers:{onTouchStart:c,onTouchMove:f,onTouchEnd:m},swipeState:a}}function z9({onLongPress:e,delay:t=500}){const n=M.useRef(null),[r,a]=M.useState(!1),l=M.useCallback(()=>{a(!0),n.current=setTimeout(()=>{e(),a(!1)},t)},[e,t]),c=M.useCallback(()=>{n.current&&(clearTimeout(n.current),n.current=null),a(!1)},[]);return{handlers:{onTouchStart:l,onTouchEnd:c,onTouchMove:c,onMouseDown:l,onMouseUp:c,onMouseLeave:c},pressing:r}}function B9({message:e,isOwn:t,senderPhoto:n,senderName:r,onDoubleTap:a,onSwipeReply:l,onLongPress:c,showLikeAnimation:f,currentUserId:m,onNavigateToMessage:p}){const y=U9({onDoubleTap:a}),{handlers:_,swipeState:E}=j9({onSwipeRight:l}),{handlers:S}=z9({onLongPress:c}),D=e.likes&&Object.keys(e.likes).length>0,A=e.likes?.[m],x=e.likes?Object.keys(e.likes).length:0,V=L=>L?(L.toDate?L.toDate():new Date(L)).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):"";return O.jsxs(In.div,{className:`flex items-end gap-2 mb-3 ${t?"flex-row-reverse":""}`,style:{transform:`translateX(${E.offset}px)`,transition:E.swiping?"none":"transform 0.2s ease-out"},..._,children:[O.jsx(ml,{children:E.offset>40&&O.jsx(In.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"absolute left-0 flex items-center justify-center w-10 h-10 bg-indigo-100 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"})})})}),!t&&O.jsx("div",{className:"flex-shrink-0 w-8 h-8",children:n?O.jsx("img",{src:n,alt:r||"User",className:"w-8 h-8 rounded-full"}):O.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-400 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium",children:r?.[0]||"?"})}),O.jsxs("div",{className:`relative max-w-[75%] ${t?"items-end":"items-start"}`,onClick:y,...S,children:[e.replyToMessage&&O.jsxs("button",{onClick:L=>{L.stopPropagation(),p?.(e.replyTo)},className:`block mb-1 p-2 text-xs bg-gray-100 rounded-lg border-l-2 border-indigo-400 max-w-full truncate text-left ${t?"ml-auto":""}`,children:[O.jsx("span",{className:"text-gray-500",children:"Replying to: "}),O.jsx("span",{className:"text-gray-700",children:e.replyToMessage.content||"(drawing)"})]}),O.jsxs("div",{className:`relative rounded-2xl px-4 py-2 ${t?"bg-indigo-600 text-white rounded-br-md":"bg-white border border-gray-200 text-gray-900 rounded-bl-md"}`,children:[e.imageUrl&&O.jsx("img",{src:e.imageUrl,alt:"Drawing",className:"max-w-full rounded-lg mb-1",style:{maxHeight:"200px"}}),e.content&&O.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:e.content}),O.jsx(ml,{children:f&&O.jsx(In.div,{initial:{scale:0,opacity:0},animate:{scale:1.5,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.3},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-12 h-12 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})})})}),D&&!f&&O.jsxs("div",{className:`absolute -bottom-2 ${t?"left-2":"right-2"} flex items-center gap-0.5 bg-white rounded-full px-1.5 py-0.5 shadow-sm border border-gray-100`,children:[O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:`w-3.5 h-3.5 ${A?"text-red-500":"text-gray-400"}`,fill:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})}),x>1&&O.jsx("span",{className:"text-xs text-gray-600",children:x})]})]}),O.jsx("p",{className:`mt-1 text-xs text-gray-400 ${t?"text-right":"text-left"}`,children:V(e.timestamp)})]})]})}function F9({onSend:e,onDrawClick:t,replyingTo:n,onCancelReply:r,disabled:a}){const[l,c]=M.useState(""),f=M.useRef(null);M.useEffect(()=>{n&&f.current&&f.current.focus()},[n]);const m=y=>{y.preventDefault(),l.trim()&&!a&&(e(l.trim()),c(""))},p=y=>{y.key==="Enter"&&!y.shiftKey&&(y.preventDefault(),m(y))};return O.jsxs("div",{className:"border-t border-gray-200 bg-white safe-area-bottom",children:[O.jsx(ml,{children:n&&O.jsx(In.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:O.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 border-b border-gray-200",children:[O.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O.jsx("div",{className:"w-1 h-8 bg-indigo-500 rounded-full"}),O.jsxs("div",{className:"min-w-0",children:[O.jsx("p",{className:"text-xs text-indigo-600 font-medium",children:"Replying"}),O.jsx("p",{className:"text-sm text-gray-600 truncate",children:n.content||"(drawing)"})]})]}),O.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})})}),O.jsxs("form",{onSubmit:m,className:"flex items-end gap-2 p-3",children:[O.jsx("button",{type:"button",onClick:t,disabled:a,className:"flex-shrink-0 p-2.5 text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors disabled:opacity-50","aria-label":"Open drawing canvas",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),O.jsx("div",{className:"flex-1 min-w-0",children:O.jsx("textarea",{ref:f,value:l,onChange:y=>c(y.target.value),onKeyDown:p,placeholder:"Message...",disabled:a,rows:1,className:"w-full px-4 py-2.5 bg-gray-100 rounded-2xl resize-none text-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:bg-white disabled:opacity-50 transition-colors",style:{maxHeight:"120px",minHeight:"44px"}})}),O.jsx("button",{type:"submit",disabled:!l.trim()||a,className:"flex-shrink-0 p-2.5 bg-indigo-600 text-white rounded-full hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:hover:bg-indigo-600","aria-label":"Send message",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})]})}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function oA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vy(e,t){return Vy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Vy(e,t)}function H9(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vy(e,t)}var lA=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function q9(e,t){return!!(e===t||lA(e)&&lA(t))}function G9(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!q9(e[n],t[n]))return!1;return!0}function zg(e,t){t===void 0&&(t=G9);var n,r=[],a,l=!1;function c(){for(var f=[],m=0;m<arguments.length;m++)f[m]=arguments[m];return l&&n===this&&t(f,r)||(a=e.apply(this,f),l=!0,n=this,r=f),a}return c}var K9=typeof performance=="object"&&typeof performance.now=="function",uA=K9?function(){return performance.now()}:function(){return Date.now()};function cA(e){cancelAnimationFrame(e.id)}function $9(e,t){var n=uA();function r(){uA()-n>=t?e.call(null):a.id=requestAnimationFrame(r)}var a={id:requestAnimationFrame(r)};return a}var Bg=-1;function hA(e){if(e===void 0&&(e=!1),Bg===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),Bg=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Bg}var Go=null;function fA(e){if(e===void 0&&(e=!1),Go===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Go="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?Go="negative":Go="positive-ascending"),document.body.removeChild(t),Go}return Go}var Y9=150,Q9=function(t,n){return t};function X9(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,a=e.getItemSize,l=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,f=e.getStopIndexForStartIndex,m=e.initInstanceProps,p=e.shouldResetStyleCacheOnItemSizeChange,y=e.validateProps;return t=(function(_){H9(E,_);function E(D){var A;return A=_.call(this,D)||this,A._instanceProps=m(A.props,oA(A)),A._outerRef=void 0,A._resetIsScrollingTimeoutId=null,A.state={instance:oA(A),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof A.props.initialScrollOffset=="number"?A.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},A._callOnItemsRendered=void 0,A._callOnItemsRendered=zg(function(x,V,L,P){return A.props.onItemsRendered({overscanStartIndex:x,overscanStopIndex:V,visibleStartIndex:L,visibleStopIndex:P})}),A._callOnScroll=void 0,A._callOnScroll=zg(function(x,V,L){return A.props.onScroll({scrollDirection:x,scrollOffset:V,scrollUpdateWasRequested:L})}),A._getItemStyle=void 0,A._getItemStyle=function(x){var V=A.props,L=V.direction,P=V.itemSize,K=V.layout,q=A._getItemStyleCache(p&&P,p&&K,p&&L),Y;if(q.hasOwnProperty(x))Y=q[x];else{var R=n(A.props,x,A._instanceProps),w=a(A.props,x,A._instanceProps),N=L==="horizontal"||K==="horizontal",U=L==="rtl",z=N?R:0;q[x]=Y={position:"absolute",left:U?void 0:z,right:U?z:void 0,top:N?0:R,height:N?"100%":w,width:N?w:"100%"}}return Y},A._getItemStyleCache=void 0,A._getItemStyleCache=zg(function(x,V,L){return{}}),A._onScrollHorizontal=function(x){var V=x.currentTarget,L=V.clientWidth,P=V.scrollLeft,K=V.scrollWidth;A.setState(function(q){if(q.scrollOffset===P)return null;var Y=A.props.direction,R=P;if(Y==="rtl")switch(fA()){case"negative":R=-P;break;case"positive-descending":R=K-L-P;break}return R=Math.max(0,Math.min(R,K-L)),{isScrolling:!0,scrollDirection:q.scrollOffset<R?"forward":"backward",scrollOffset:R,scrollUpdateWasRequested:!1}},A._resetIsScrollingDebounced)},A._onScrollVertical=function(x){var V=x.currentTarget,L=V.clientHeight,P=V.scrollHeight,K=V.scrollTop;A.setState(function(q){if(q.scrollOffset===K)return null;var Y=Math.max(0,Math.min(K,P-L));return{isScrolling:!0,scrollDirection:q.scrollOffset<Y?"forward":"backward",scrollOffset:Y,scrollUpdateWasRequested:!1}},A._resetIsScrollingDebounced)},A._outerRefSetter=function(x){var V=A.props.outerRef;A._outerRef=x,typeof V=="function"?V(x):V!=null&&typeof V=="object"&&V.hasOwnProperty("current")&&(V.current=x)},A._resetIsScrollingDebounced=function(){A._resetIsScrollingTimeoutId!==null&&cA(A._resetIsScrollingTimeoutId),A._resetIsScrollingTimeoutId=$9(A._resetIsScrolling,Y9)},A._resetIsScrolling=function(){A._resetIsScrollingTimeoutId=null,A.setState({isScrolling:!1},function(){A._getItemStyleCache(-1,null)})},A}E.getDerivedStateFromProps=function(A,x){return W9(A,x),y(A),null};var S=E.prototype;return S.scrollTo=function(A){A=Math.max(0,A),this.setState(function(x){return x.scrollOffset===A?null:{scrollDirection:x.scrollOffset<A?"forward":"backward",scrollOffset:A,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},S.scrollToItem=function(A,x){x===void 0&&(x="auto");var V=this.props,L=V.itemCount,P=V.layout,K=this.state.scrollOffset;A=Math.max(0,Math.min(A,L-1));var q=0;if(this._outerRef){var Y=this._outerRef;P==="vertical"?q=Y.scrollWidth>Y.clientWidth?hA():0:q=Y.scrollHeight>Y.clientHeight?hA():0}this.scrollTo(l(this.props,A,x,K,this._instanceProps,q))},S.componentDidMount=function(){var A=this.props,x=A.direction,V=A.initialScrollOffset,L=A.layout;if(typeof V=="number"&&this._outerRef!=null){var P=this._outerRef;x==="horizontal"||L==="horizontal"?P.scrollLeft=V:P.scrollTop=V}this._callPropsCallbacks()},S.componentDidUpdate=function(){var A=this.props,x=A.direction,V=A.layout,L=this.state,P=L.scrollOffset,K=L.scrollUpdateWasRequested;if(K&&this._outerRef!=null){var q=this._outerRef;if(x==="horizontal"||V==="horizontal")if(x==="rtl")switch(fA()){case"negative":q.scrollLeft=-P;break;case"positive-ascending":q.scrollLeft=P;break;default:var Y=q.clientWidth,R=q.scrollWidth;q.scrollLeft=R-Y-P;break}else q.scrollLeft=P;else q.scrollTop=P}this._callPropsCallbacks()},S.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&cA(this._resetIsScrollingTimeoutId)},S.render=function(){var A=this.props,x=A.children,V=A.className,L=A.direction,P=A.height,K=A.innerRef,q=A.innerElementType,Y=A.innerTagName,R=A.itemCount,w=A.itemData,N=A.itemKey,U=N===void 0?Q9:N,z=A.layout,H=A.outerElementType,k=A.outerTagName,Xt=A.style,ue=A.useIsScrolling,tt=A.width,ot=this.state.isScrolling,ft=L==="horizontal"||z==="horizontal",It=ft?this._onScrollHorizontal:this._onScrollVertical,Dt=this._getRangeToRender(),F=Dt[0],it=Dt[1],lt=[];if(R>0)for(var ut=F;ut<=it;ut++)lt.push(M.createElement(x,{data:w,key:U(ut,w),index:ut,isScrolling:ue?ot:void 0,style:this._getItemStyle(ut)}));var gt=r(this.props,this._instanceProps);return M.createElement(H||k||"div",{className:V,onScroll:It,ref:this._outerRefSetter,style:Oy({position:"relative",height:P,width:tt,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:L},Xt)},M.createElement(q||Y||"div",{children:lt,ref:K,style:{height:ft?"100%":gt,pointerEvents:ot?"none":void 0,width:ft?gt:"100%"}}))},S._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var A=this.props.itemCount;if(A>0){var x=this._getRangeToRender(),V=x[0],L=x[1],P=x[2],K=x[3];this._callOnItemsRendered(V,L,P,K)}}if(typeof this.props.onScroll=="function"){var q=this.state,Y=q.scrollDirection,R=q.scrollOffset,w=q.scrollUpdateWasRequested;this._callOnScroll(Y,R,w)}},S._getRangeToRender=function(){var A=this.props,x=A.itemCount,V=A.overscanCount,L=this.state,P=L.isScrolling,K=L.scrollDirection,q=L.scrollOffset;if(x===0)return[0,0,0,0];var Y=c(this.props,q,this._instanceProps),R=f(this.props,Y,q,this._instanceProps),w=!P||K==="backward"?Math.max(1,V):1,N=!P||K==="forward"?Math.max(1,V):1;return[Math.max(0,Y-w),Math.max(0,Math.min(x-1,R+N)),Y,R]},E})(M.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var W9=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Z9=50,el=function(t,n,r){var a=t,l=a.itemSize,c=r.itemMetadataMap,f=r.lastMeasuredIndex;if(n>f){var m=0;if(f>=0){var p=c[f];m=p.offset+p.size}for(var y=f+1;y<=n;y++){var _=l(y);c[y]={offset:m,size:_},m+=_}r.lastMeasuredIndex=n}return c[n]},J9=function(t,n,r){var a=n.itemMetadataMap,l=n.lastMeasuredIndex,c=l>0?a[l].offset:0;return c>=r?Hx(t,n,l,0,r):tj(t,n,Math.max(0,l),r)},Hx=function(t,n,r,a,l){for(;a<=r;){var c=a+Math.floor((r-a)/2),f=el(t,c,n).offset;if(f===l)return c;f<l?a=c+1:f>l&&(r=c-1)}return a>0?a-1:0},tj=function(t,n,r,a){for(var l=t.itemCount,c=1;r<l&&el(t,r,n).offset<a;)r+=c,c*=2;return Hx(t,n,Math.min(r,l-1),Math.floor(r/2),a)},dA=function(t,n){var r=t.itemCount,a=n.itemMetadataMap,l=n.estimatedItemSize,c=n.lastMeasuredIndex,f=0;if(c>=r&&(c=r-1),c>=0){var m=a[c];f=m.offset+m.size}var p=r-c-1,y=p*l;return f+y},ej=X9({getItemOffset:function(t,n,r){return el(t,n,r).offset},getItemSize:function(t,n,r){return r.itemMetadataMap[n].size},getEstimatedTotalSize:dA,getOffsetForIndexAndAlignment:function(t,n,r,a,l,c){var f=t.direction,m=t.height,p=t.layout,y=t.width,_=f==="horizontal"||p==="horizontal",E=_?y:m,S=el(t,n,l),D=dA(t,l),A=Math.max(0,Math.min(D-E,S.offset)),x=Math.max(0,S.offset-E+S.size+c);switch(r==="smart"&&(a>=x-E&&a<=A+E?r="auto":r="center"),r){case"start":return A;case"end":return x;case"center":return Math.round(x+(A-x)/2);case"auto":default:return a>=x&&a<=A?a:a<x?x:A}},getStartIndexForOffset:function(t,n,r){return J9(t,r,n)},getStopIndexForStartIndex:function(t,n,r,a){for(var l=t.direction,c=t.height,f=t.itemCount,m=t.layout,p=t.width,y=l==="horizontal"||m==="horizontal",_=y?p:c,E=el(t,n,a),S=r+_,D=E.offset+E.size,A=n;A<f-1&&D<S;)A++,D+=el(t,A,a).size;return A},initInstanceProps:function(t,n){var r=t,a=r.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:a||Z9,lastMeasuredIndex:-1};return n.resetAfterIndex=function(c,f){f===void 0&&(f=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),n._getItemStyleCache(-1),f&&n.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});const mA=80;function nj({messages:e,currentUser:t,otherUser:n,onDoubleTap:r,onSwipeReply:a,onLongPress:l,likeAnimatingMessageId:c,loading:f,loadingMore:m,hasMore:p,onLoadMore:y,scrollToMessageId:_,onScrollToMessageComplete:E}){const S=M.useRef(null),D=M.useRef(null),A=M.useRef({}),[x,V]=M.useState(0);M.useEffect(()=>{const R=()=>{D.current&&V(D.current.clientHeight)};return R(),window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),M.useEffect(()=>{S.current&&e.length>0&&!_&&S.current.scrollToItem(e.length-1,"end")},[e.length,_]),M.useEffect(()=>{if(_&&S.current){const R=e.findIndex(w=>w.id===_);R!==-1&&(S.current.scrollToItem(R,"center"),E?.())}},[_,e,E]);const L=M.useCallback(R=>A.current[R]||mA,[]),P=M.useCallback((R,w)=>{A.current[R]!==w&&(A.current[R]=w,S.current?.resetAfterIndex(R))},[]),K=M.useCallback(({scrollOffset:R})=>{R<100&&p&&!m&&y()},[p,m,y]),q=M.useCallback(R=>R===t.uid?{photo:t.photoURL,name:t.displayName}:{photo:n?.photoURL,name:n?.displayName},[t,n]),Y=M.useCallback(({index:R,style:w})=>{const N=e[R],U=N.senderId===t.uid,z=q(N.senderId);return O.jsx("div",{style:w,className:"px-3",children:O.jsx(ij,{index:R,onHeightChange:P,children:O.jsx(B9,{message:N,isOwn:U,senderPhoto:z.photo,senderName:z.name,onDoubleTap:()=>r(N.id),onSwipeReply:()=>a(N),onLongPress:()=>l(N),showLikeAnimation:c===N.id,currentUserId:t.uid,onNavigateToMessage:H=>{const k=e.findIndex(Xt=>Xt.id===H);k!==-1&&S.current?.scrollToItem(k,"center")}})})})},[e,t,q,r,a,l,c,P]);return f?O.jsx("div",{className:"flex-1 flex items-center justify-center",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):e.length===0?O.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[O.jsx("div",{className:"w-16 h-16 mb-4 bg-indigo-100 rounded-full flex items-center justify-center",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),O.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No messages yet"}),O.jsx("p",{className:"text-sm text-gray-500",children:"Send a message or drawing to get started!"})]}):O.jsxs("div",{ref:D,className:"flex-1 overflow-hidden",children:[m&&O.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 flex justify-center py-2 bg-gradient-to-b from-gray-50 to-transparent",children:O.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-indigo-600"})}),x>0&&O.jsx(ej,{ref:S,height:x,width:"100%",itemCount:e.length,itemSize:L,onScroll:K,estimatedItemSize:mA,className:"scrollbar-hide",children:Y})]})}function ij({index:e,onHeightChange:t,children:n}){const r=M.useRef(null);return M.useEffect(()=>{if(r.current){const a=r.current.getBoundingClientRect().height;t(e,a+12)}},[e,t,n]),O.jsx("div",{ref:r,children:n})}function rj({isOpen:e,onClose:t,onSend:n}){const r=M.useRef(null),[a,l]=M.useState(!1),[c,f]=M.useState(!1),m=M.useRef(null),p=300,y=200,_=3,E="#1f2937";M.useEffect(()=>{if(e&&r.current){const P=r.current.getContext("2d");P&&(P.fillStyle="#ffffff",P.fillRect(0,0,p,y),P.lineCap="round",P.lineJoin="round",P.lineWidth=_,P.strokeStyle=E),f(!1)}},[e]);const S=M.useCallback(P=>{const K=r.current;if(!K)return{x:0,y:0};const q=K.getBoundingClientRect(),Y=K.width/q.width,R=K.height/q.height;let w,N;return"touches"in P?(w=P.touches[0].clientX,N=P.touches[0].clientY):(w=P.clientX,N=P.clientY),{x:(w-q.left)*Y,y:(N-q.top)*R}},[]),D=M.useCallback(P=>{P.preventDefault();const K=S(P);m.current=K,l(!0);const q=r.current?.getContext("2d");q&&(q.beginPath(),q.moveTo(K.x,K.y),q.lineTo(K.x,K.y),q.stroke(),f(!0))},[S]),A=M.useCallback(P=>{if(!a||!m.current)return;P.preventDefault();const K=S(P),q=r.current?.getContext("2d");q&&(q.beginPath(),q.moveTo(m.current.x,m.current.y),q.lineTo(K.x,K.y),q.stroke()),m.current=K,f(!0)},[a,S]),x=M.useCallback(()=>{l(!1),m.current=null},[]),V=M.useCallback(()=>{const P=r.current?.getContext("2d");P&&(P.fillStyle="#ffffff",P.fillRect(0,0,p,y),P.strokeStyle=E),f(!1)},[]),L=M.useCallback(()=>{if(!r.current||!c)return;const P=r.current.toDataURL("image/png");n({dataUrl:P,width:p,height:y}),V(),t()},[c,n,t,V]);return O.jsx(ml,{children:e&&O.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:t,children:O.jsxs(In.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-sm w-full",onClick:P=>P.stopPropagation(),children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[O.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Draw"}),O.jsx("button",{onClick:t,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),O.jsx("div",{className:"p-4",children:O.jsxs("div",{className:"relative bg-gray-50 rounded-xl overflow-hidden border-2 border-dashed border-gray-200",children:[O.jsx("canvas",{ref:r,width:p,height:y,className:"w-full touch-none cursor-crosshair",style:{aspectRatio:`${p}/${y}`},onTouchStart:D,onTouchMove:A,onTouchEnd:x,onMouseDown:D,onMouseMove:A,onMouseUp:x,onMouseLeave:x}),!c&&O.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:O.jsx("p",{className:"text-gray-400 text-sm",children:"Draw something!"})})]})}),O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-200 bg-gray-50",children:[O.jsx("button",{onClick:V,disabled:!c,className:"px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Clear"}),O.jsxs("button",{onClick:L,disabled:!c,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[O.jsx("span",{children:"Send"}),O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})]})]})]})})})}const sj=["","","","","","","","","",""];function aj({isOpen:e,message:t,lists:n,currentUserId:r,onClose:a,onSelectList:l,onCreateList:c}){const[f,m]=M.useState(!1),[p,y]=M.useState(""),[_,E]=M.useState("public"),[S,D]=M.useState("collection"),[A,x]=M.useState(""),[V,L]=M.useState(!1),P=async()=>{if(p.trim()){L(!0);try{const Y=await c(p.trim(),_,S,A);Y&&l(Y),K()}catch(Y){console.error("Failed to create list:",Y)}finally{L(!1)}}},K=()=>{m(!1),y(""),E("public"),D("collection"),x("")},q=()=>{K(),a()};return O.jsx(ml,{children:e&&t&&O.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50",onClick:q,children:O.jsxs(In.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"bg-white rounded-t-2xl shadow-xl w-full max-w-lg max-h-[70vh] overflow-hidden",onClick:Y=>Y.stopPropagation(),children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[O.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:f?"Create New List":"Save to List"}),O.jsx("button",{onClick:q,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),O.jsx("div",{className:"px-4 py-2 bg-gray-50 border-b border-gray-200",children:O.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.content||(t.imageUrl?"(drawing)":"")})}),f?O.jsxs("div",{className:"p-4 space-y-4",children:[O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),O.jsx("div",{className:"flex gap-2 flex-wrap",children:sj.map(Y=>O.jsx("button",{onClick:()=>x(Y),className:`w-10 h-10 text-xl rounded-lg transition-colors ${A===Y?"bg-indigo-100 ring-2 ring-indigo-500":"bg-gray-100 hover:bg-gray-200"}`,children:Y},Y))})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),O.jsx("input",{type:"text",value:p,onChange:Y=>y(Y.target.value),placeholder:"List name",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>D("collection"),className:`flex-1 px-3 py-2 text-sm rounded-lg border transition-colors ${S==="collection"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Collection"}),O.jsx("button",{onClick:()=>D("checklist"),className:`flex-1 px-3 py-2 text-sm rounded-lg border transition-colors ${S==="checklist"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Checklist"})]})]}),O.jsxs("div",{children:[O.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Visibility"}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>E("public"),className:`flex-1 px-3 py-2 text-sm rounded-lg border transition-colors ${_==="public"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:"Shared"}),O.jsxs("button",{onClick:()=>E("private"),className:`flex-1 px-3 py-2 text-sm rounded-lg border transition-colors flex items-center justify-center gap-1 ${_==="private"?"bg-indigo-50 border-indigo-500 text-indigo-700":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:["Private",O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]})]})]}),O.jsxs("div",{className:"flex gap-2 pt-2",children:[O.jsx("button",{onClick:K,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),O.jsx("button",{onClick:P,disabled:!p.trim()||V,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg transition-colors disabled:opacity-50",children:V?"Creating...":"Create & Add"})]})]}):O.jsxs("div",{className:"overflow-y-auto max-h-[50vh]",children:[n.map(Y=>{const R=Y.visibility==="private",w=Y.ownerId===r;return O.jsxs("button",{onClick:()=>l(Y.id),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left",children:[O.jsx("span",{className:"text-xl",children:Y.emoji||""}),O.jsx("span",{className:"flex-1 text-sm font-medium text-gray-900",children:Y.name}),R&&w&&O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),Y.type==="checklist"&&O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})]},Y.id)}),O.jsxs("button",{onClick:()=>m(!0),className:"w-full flex items-center gap-3 px-4 py-3 hover:bg-gray-50 transition-colors text-left border-t border-gray-200",children:[O.jsx("div",{className:"w-6 h-6 rounded-full bg-indigo-100 flex items-center justify-center",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 text-indigo-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})})}),O.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"Create New List"})]})]})]})})})}function oj({isOpen:e,lists:t,currentUserId:n,onClose:r,onGetListItems:a,onToggleCompleted:l,onRemoveFromList:c,onDeleteList:f,onNavigateToMessage:m}){const[p,y]=M.useState(null),[_,E]=M.useState([]),[S,D]=M.useState(!1),[A,x]=M.useState(null);M.useEffect(()=>{p&&(D(!0),a(p.id).then(E).catch(console.error).finally(()=>D(!1)))},[p,a]);const V=M.useCallback(async R=>{if(await l(R),p){const w=await a(p.id);E(w)}},[p,l,a]),L=M.useCallback(async R=>{if(!p)return;await c(p.id,R);const w=await a(p.id);E(w)},[p,c,a]),P=M.useCallback(async R=>{await f(R),y(null),x(null)},[f]),K=M.useCallback(R=>{m(R),r()},[m,r]),q=M.useCallback(()=>{y(null),E([]),x(null),r()},[r]),Y=R=>R?(R.toDate?R.toDate():new Date(R)).toLocaleDateString([],{month:"short",day:"numeric"}):"";return O.jsx(ml,{children:e&&O.jsx(In.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-end justify-center bg-black/50",onClick:q,children:O.jsxs(In.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"bg-white rounded-t-2xl shadow-xl w-full max-w-lg h-[85vh] overflow-hidden flex flex-col",onClick:R=>R.stopPropagation(),children:[O.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200 flex-shrink-0",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[p&&O.jsx("button",{onClick:()=>{y(null),E([])},className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),O.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:p?O.jsxs("span",{className:"flex items-center gap-2",children:[O.jsx("span",{children:p.emoji||""}),O.jsx("span",{children:p.name})]}):"Lists"})]}),O.jsx("button",{onClick:q,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),O.jsx("div",{className:"flex-1 overflow-y-auto",children:p?S?O.jsx("div",{className:"flex items-center justify-center py-12",children:O.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):_.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[O.jsx("div",{className:"w-12 h-12 mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),O.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No items yet"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Long-press messages to add them here"})]}):O.jsx("div",{className:"divide-y divide-gray-100",children:_.map(R=>O.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[p.type==="checklist"&&O.jsx("button",{onClick:()=>V(R.id),className:`flex-shrink-0 w-5 h-5 mt-0.5 rounded-full border-2 transition-colors ${R.completed?"bg-indigo-600 border-indigo-600":"border-gray-300 hover:border-indigo-400"}`,children:R.completed&&O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:3,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),O.jsxs("button",{onClick:()=>R.message&&K(R.messageId),className:`flex-1 text-left min-w-0 ${R.completed?"opacity-50":""}`,children:[O.jsx("p",{className:`text-sm text-gray-900 ${R.completed?"line-through":""}`,children:R.message?.content||(R.message?.imageUrl?"(drawing)":"Deleted message")}),O.jsxs("p",{className:"text-xs text-gray-400 mt-0.5",children:["Added ",Y(R.addedAt)]})]}),O.jsx("button",{onClick:()=>L(R.messageId),className:"flex-shrink-0 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},R.id))}):t.length===0?O.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[O.jsx("div",{className:"w-12 h-12 mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),O.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-1",children:"No lists yet"}),O.jsx("p",{className:"text-xs text-gray-500",children:"Long-press a message to create your first list"})]}):O.jsx("div",{className:"divide-y divide-gray-100",children:t.map(R=>{const w=R.ownerId===n,N=R.visibility==="private";return O.jsxs("div",{className:"flex items-center gap-3 px-4 py-3",children:[O.jsxs("button",{onClick:()=>y(R),className:"flex-1 flex items-center gap-3 text-left min-w-0",children:[O.jsx("span",{className:"text-xl",children:R.emoji||""}),O.jsxs("div",{className:"flex-1 min-w-0",children:[O.jsxs("div",{className:"flex items-center gap-1.5",children:[O.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:R.name}),N&&w&&O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-3.5 h-3.5 text-gray-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})]}),O.jsx("p",{className:"text-xs text-gray-400",children:R.type==="checklist"?"Checklist":"Collection"})]})]}),w&&O.jsx(O.Fragment,{children:A===R.id?O.jsxs("div",{className:"flex items-center gap-1",children:[O.jsx("button",{onClick:()=>x(null),className:"px-2 py-1 text-xs text-gray-600 hover:bg-gray-100 rounded",children:"Cancel"}),O.jsx("button",{onClick:()=>P(R.id),className:"px-2 py-1 text-xs text-white bg-red-500 hover:bg-red-600 rounded",children:"Delete"})]}):O.jsx("button",{onClick:()=>x(R.id),className:"p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-full transition-colors",children:O.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},R.id)})})})]})})})}function lj(){const{user:e}=Nc(),{messages:t,loading:n,loadingMore:r,hasMore:a,loadMore:l,sendMessage:c,sendDrawing:f,toggleLike:m}=V9(e?.uid),{lists:p,createList:y,addMessageToList:_,removeFromList:E,deleteList:S,toggleItemCompleted:D,getListItems:A}=k9(e?.uid),[x,V]=M.useState(null),[L,P]=M.useState(!1),[K,q]=M.useState(!1),[Y,R]=M.useState(!1),[w,N]=M.useState(null),[U,z]=M.useState(null),[H,k]=M.useState(null),[Xt,ue]=M.useState(null);M.useEffect(()=>{if(!e||t.length===0)return;const ut=t.find(Et=>Et.senderId!==e.uid)?.senderId;return ut?Gv(yi(Re,"duoboard_users",ut),Et=>{Et.exists()&&V({uid:Et.id,...Et.data()})},Et=>console.error("Error fetching other user:",Et)):void 0},[e,t]);const tt=M.useCallback(async ut=>{try{await c(ut,w?.id),N(null)}catch(gt){console.error("Failed to send message:",gt)}},[c,w]),ot=M.useCallback(async ut=>{try{await f(ut,w?.id),N(null)}catch(gt){console.error("Failed to send drawing:",gt)}},[f,w]),ft=M.useCallback(async ut=>{k(ut),await m(ut),setTimeout(()=>k(null),600)},[m]),It=M.useCallback(ut=>{N(ut)},[]),Dt=M.useCallback(ut=>{z(ut),q(!0)},[]),F=M.useCallback(async ut=>{U&&(await _(ut,U.id),q(!1),z(null))},[U,_]),it=M.useCallback(async(ut,gt,Et,Ot)=>y(ut,gt,Et,Ot),[y]),lt=M.useCallback(ut=>{ue(ut),R(!1)},[]);return e?O.jsxs("div",{className:"h-full flex flex-col bg-gray-50",children:[O.jsx(L9,{onListsClick:()=>R(!0)}),O.jsx(nj,{messages:t,currentUser:e,otherUser:x,onDoubleTap:ft,onSwipeReply:It,onLongPress:Dt,likeAnimatingMessageId:H,loading:n,loadingMore:r,hasMore:a,onLoadMore:l,scrollToMessageId:Xt,onScrollToMessageComplete:()=>ue(null)}),O.jsx(F9,{onSend:tt,onDrawClick:()=>P(!0),replyingTo:w,onCancelReply:()=>N(null)}),O.jsx(rj,{isOpen:L,onClose:()=>P(!1),onSend:ot}),O.jsx(aj,{isOpen:K,message:U,lists:p,currentUserId:e.uid,onClose:()=>{q(!1),z(null)},onSelectList:F,onCreateList:it}),O.jsx(oj,{isOpen:Y,lists:p,currentUserId:e.uid,onClose:()=>R(!1),onGetListItems:A,onToggleCompleted:D,onRemoveFromList:E,onDeleteList:S,onNavigateToMessage:lt})]}):null}function uj({children:e}){const{user:t,loading:n}=Nc();return n?O.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:O.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"})}):t?O.jsx(O.Fragment,{children:e}):O.jsx(By,{to:"/login",replace:!0})}function cj({children:e}){const{user:t,loading:n}=Nc();return n?O.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:O.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-indigo-600"})}):t?O.jsx(By,{to:"/",replace:!0}):O.jsx(O.Fragment,{children:e})}function hj(){return O.jsxs(yD,{children:[O.jsx(Cf,{path:"/login",element:O.jsx(cj,{children:O.jsx(O9,{})})}),O.jsx(Cf,{path:"/",element:O.jsx(uj,{children:O.jsx(lj,{})})}),O.jsx(Cf,{path:"*",element:O.jsx(By,{to:"/",replace:!0})})]})}function fj(){return O.jsx(zD,{children:O.jsx(a3,{children:O.jsx("div",{className:"h-full",children:O.jsx(hj,{})})})})}RI.createRoot(document.getElementById("root")).render(O.jsx(M.StrictMode,{children:O.jsx(fj,{})}));
